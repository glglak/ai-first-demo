{"version":3,"file":"index--NnjnixQ.js","sources":["../../../AiFirstDemo.Web/node_modules/react-dom/client.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/Errors.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/HttpClient.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/ILogger.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/Loggers.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/Utils.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/FetchHttpClient.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/XhrHttpClient.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/DefaultHttpClient.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/TextMessageFormat.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/HandshakeProtocol.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/IHubProtocol.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/Subject.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/MessageBuffer.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/HubConnection.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/DefaultReconnectPolicy.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/HeaderNames.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/AccessTokenHttpClient.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/ITransport.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/AbortController.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/LongPollingTransport.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/ServerSentEventsTransport.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/WebSocketTransport.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/HttpConnection.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/JsonHubProtocol.js","../../../AiFirstDemo.Web/node_modules/@microsoft/signalr/dist/esm/HubConnectionBuilder.js","../../../AiFirstDemo.Web/src/shared/contexts/SignalRContext.tsx","../../../AiFirstDemo.Web/src/shared/contexts/SessionContext.tsx","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/bind.js","../../../AiFirstDemo.Web/node_modules/axios/lib/utils.js","../../../AiFirstDemo.Web/node_modules/axios/lib/core/AxiosError.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/null.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/toFormData.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/AxiosURLSearchParams.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/buildURL.js","../../../AiFirstDemo.Web/node_modules/axios/lib/core/InterceptorManager.js","../../../AiFirstDemo.Web/node_modules/axios/lib/defaults/transitional.js","../../../AiFirstDemo.Web/node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","../../../AiFirstDemo.Web/node_modules/axios/lib/platform/browser/classes/FormData.js","../../../AiFirstDemo.Web/node_modules/axios/lib/platform/browser/classes/Blob.js","../../../AiFirstDemo.Web/node_modules/axios/lib/platform/browser/index.js","../../../AiFirstDemo.Web/node_modules/axios/lib/platform/common/utils.js","../../../AiFirstDemo.Web/node_modules/axios/lib/platform/index.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/toURLEncodedForm.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/formDataToJSON.js","../../../AiFirstDemo.Web/node_modules/axios/lib/defaults/index.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/parseHeaders.js","../../../AiFirstDemo.Web/node_modules/axios/lib/core/AxiosHeaders.js","../../../AiFirstDemo.Web/node_modules/axios/lib/core/transformData.js","../../../AiFirstDemo.Web/node_modules/axios/lib/cancel/isCancel.js","../../../AiFirstDemo.Web/node_modules/axios/lib/cancel/CanceledError.js","../../../AiFirstDemo.Web/node_modules/axios/lib/core/settle.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/parseProtocol.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/speedometer.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/throttle.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/progressEventReducer.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/isURLSameOrigin.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/cookies.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/isAbsoluteURL.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/combineURLs.js","../../../AiFirstDemo.Web/node_modules/axios/lib/core/buildFullPath.js","../../../AiFirstDemo.Web/node_modules/axios/lib/core/mergeConfig.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/resolveConfig.js","../../../AiFirstDemo.Web/node_modules/axios/lib/adapters/xhr.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/composeSignals.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/trackStream.js","../../../AiFirstDemo.Web/node_modules/axios/lib/adapters/fetch.js","../../../AiFirstDemo.Web/node_modules/axios/lib/adapters/adapters.js","../../../AiFirstDemo.Web/node_modules/axios/lib/core/dispatchRequest.js","../../../AiFirstDemo.Web/node_modules/axios/lib/env/data.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/validator.js","../../../AiFirstDemo.Web/node_modules/axios/lib/core/Axios.js","../../../AiFirstDemo.Web/node_modules/axios/lib/cancel/CancelToken.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/spread.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/isAxiosError.js","../../../AiFirstDemo.Web/node_modules/axios/lib/helpers/HttpStatusCode.js","../../../AiFirstDemo.Web/node_modules/axios/lib/axios.js","../../../AiFirstDemo.Web/node_modules/axios/index.js","../../../AiFirstDemo.Web/src/shared/services/api.ts","../../../AiFirstDemo.Web/src/features/game/components/SpaceshipGame.tsx","../../../AiFirstDemo.Web/src/features/tips/components/TipsAndTricks.tsx","../../../AiFirstDemo.Web/node_modules/@tanstack/table-core/build/lib/index.mjs","../../../AiFirstDemo.Web/node_modules/@tanstack/react-table/build/lib/index.mjs","../../../AiFirstDemo.Web/src/shared/components/DataTable.tsx","../../../AiFirstDemo.Web/src/features/analytics/components/analyticsColumns.tsx","../../../AiFirstDemo.Web/src/features/analytics/components/Analytics.tsx","../../../AiFirstDemo.Web/src/App.tsx","../../../AiFirstDemo.Web/src/main.tsx"],"sourcesContent":["'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n/** Error thrown when an HTTP request fails. */\r\nexport class HttpError extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.HttpError}.\r\n     *\r\n     * @param {string} errorMessage A descriptive error message.\r\n     * @param {number} statusCode The HTTP status code represented by this error.\r\n     */\r\n    constructor(errorMessage, statusCode) {\r\n        const trueProto = new.target.prototype;\r\n        super(`${errorMessage}: Status code '${statusCode}'`);\r\n        this.statusCode = statusCode;\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when a timeout elapses. */\r\nexport class TimeoutError extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.TimeoutError}.\r\n     *\r\n     * @param {string} errorMessage A descriptive error message.\r\n     */\r\n    constructor(errorMessage = \"A timeout occurred.\") {\r\n        const trueProto = new.target.prototype;\r\n        super(errorMessage);\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when an action is aborted. */\r\nexport class AbortError extends Error {\r\n    /** Constructs a new instance of {@link AbortError}.\r\n     *\r\n     * @param {string} errorMessage A descriptive error message.\r\n     */\r\n    constructor(errorMessage = \"An abort occurred.\") {\r\n        const trueProto = new.target.prototype;\r\n        super(errorMessage);\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when the selected transport is unsupported by the browser. */\r\n/** @private */\r\nexport class UnsupportedTransportError extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.UnsupportedTransportError}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     * @param {HttpTransportType} transport The {@link @microsoft/signalr.HttpTransportType} this error occurred on.\r\n     */\r\n    constructor(message, transport) {\r\n        const trueProto = new.target.prototype;\r\n        super(message);\r\n        this.transport = transport;\r\n        this.errorType = 'UnsupportedTransportError';\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when the selected transport is disabled by the browser. */\r\n/** @private */\r\nexport class DisabledTransportError extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.DisabledTransportError}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     * @param {HttpTransportType} transport The {@link @microsoft/signalr.HttpTransportType} this error occurred on.\r\n     */\r\n    constructor(message, transport) {\r\n        const trueProto = new.target.prototype;\r\n        super(message);\r\n        this.transport = transport;\r\n        this.errorType = 'DisabledTransportError';\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when the selected transport cannot be started. */\r\n/** @private */\r\nexport class FailedToStartTransportError extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.FailedToStartTransportError}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     * @param {HttpTransportType} transport The {@link @microsoft/signalr.HttpTransportType} this error occurred on.\r\n     */\r\n    constructor(message, transport) {\r\n        const trueProto = new.target.prototype;\r\n        super(message);\r\n        this.transport = transport;\r\n        this.errorType = 'FailedToStartTransportError';\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when the negotiation with the server failed to complete. */\r\n/** @private */\r\nexport class FailedToNegotiateWithServerError extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.FailedToNegotiateWithServerError}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     */\r\n    constructor(message) {\r\n        const trueProto = new.target.prototype;\r\n        super(message);\r\n        this.errorType = 'FailedToNegotiateWithServerError';\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n/** Error thrown when multiple errors have occurred. */\r\n/** @private */\r\nexport class AggregateErrors extends Error {\r\n    /** Constructs a new instance of {@link @microsoft/signalr.AggregateErrors}.\r\n     *\r\n     * @param {string} message A descriptive error message.\r\n     * @param {Error[]} innerErrors The collection of errors this error is aggregating.\r\n     */\r\n    constructor(message, innerErrors) {\r\n        const trueProto = new.target.prototype;\r\n        super(message);\r\n        this.innerErrors = innerErrors;\r\n        // Workaround issue in Typescript compiler\r\n        // https://github.com/Microsoft/TypeScript/issues/13965#issuecomment-278570200\r\n        this.__proto__ = trueProto;\r\n    }\r\n}\r\n//# sourceMappingURL=Errors.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n/** Represents an HTTP response. */\r\nexport class HttpResponse {\r\n    constructor(statusCode, statusText, content) {\r\n        this.statusCode = statusCode;\r\n        this.statusText = statusText;\r\n        this.content = content;\r\n    }\r\n}\r\n/** Abstraction over an HTTP client.\r\n *\r\n * This class provides an abstraction over an HTTP client so that a different implementation can be provided on different platforms.\r\n */\r\nexport class HttpClient {\r\n    get(url, options) {\r\n        return this.send({\r\n            ...options,\r\n            method: \"GET\",\r\n            url,\r\n        });\r\n    }\r\n    post(url, options) {\r\n        return this.send({\r\n            ...options,\r\n            method: \"POST\",\r\n            url,\r\n        });\r\n    }\r\n    delete(url, options) {\r\n        return this.send({\r\n            ...options,\r\n            method: \"DELETE\",\r\n            url,\r\n        });\r\n    }\r\n    /** Gets all cookies that apply to the specified URL.\r\n     *\r\n     * @param url The URL that the cookies are valid for.\r\n     * @returns {string} A string containing all the key-value cookie pairs for the specified URL.\r\n     */\r\n    // @ts-ignore\r\n    getCookieString(url) {\r\n        return \"\";\r\n    }\r\n}\r\n//# sourceMappingURL=HttpClient.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n// These values are designed to match the ASP.NET Log Levels since that's the pattern we're emulating here.\r\n/** Indicates the severity of a log message.\r\n *\r\n * Log Levels are ordered in increasing severity. So `Debug` is more severe than `Trace`, etc.\r\n */\r\nexport var LogLevel;\r\n(function (LogLevel) {\r\n    /** Log level for very low severity diagnostic messages. */\r\n    LogLevel[LogLevel[\"Trace\"] = 0] = \"Trace\";\r\n    /** Log level for low severity diagnostic messages. */\r\n    LogLevel[LogLevel[\"Debug\"] = 1] = \"Debug\";\r\n    /** Log level for informational diagnostic messages. */\r\n    LogLevel[LogLevel[\"Information\"] = 2] = \"Information\";\r\n    /** Log level for diagnostic messages that indicate a non-fatal problem. */\r\n    LogLevel[LogLevel[\"Warning\"] = 3] = \"Warning\";\r\n    /** Log level for diagnostic messages that indicate a failure in the current operation. */\r\n    LogLevel[LogLevel[\"Error\"] = 4] = \"Error\";\r\n    /** Log level for diagnostic messages that indicate a failure that will terminate the entire application. */\r\n    LogLevel[LogLevel[\"Critical\"] = 5] = \"Critical\";\r\n    /** The highest possible log level. Used when configuring logging to indicate that no log messages should be emitted. */\r\n    LogLevel[LogLevel[\"None\"] = 6] = \"None\";\r\n})(LogLevel || (LogLevel = {}));\r\n//# sourceMappingURL=ILogger.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n/** A logger that does nothing when log messages are sent to it. */\r\nexport class NullLogger {\r\n    constructor() { }\r\n    /** @inheritDoc */\r\n    // eslint-disable-next-line\r\n    log(_logLevel, _message) {\r\n    }\r\n}\r\n/** The singleton instance of the {@link @microsoft/signalr.NullLogger}. */\r\nNullLogger.instance = new NullLogger();\r\n//# sourceMappingURL=Loggers.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { NullLogger } from \"./Loggers\";\r\n// Version token that will be replaced by the prepack command\r\n/** The version of the SignalR client. */\r\nexport const VERSION = \"8.0.7\";\r\n/** @private */\r\nexport class Arg {\r\n    static isRequired(val, name) {\r\n        if (val === null || val === undefined) {\r\n            throw new Error(`The '${name}' argument is required.`);\r\n        }\r\n    }\r\n    static isNotEmpty(val, name) {\r\n        if (!val || val.match(/^\\s*$/)) {\r\n            throw new Error(`The '${name}' argument should not be empty.`);\r\n        }\r\n    }\r\n    static isIn(val, values, name) {\r\n        // TypeScript enums have keys for **both** the name and the value of each enum member on the type itself.\r\n        if (!(val in values)) {\r\n            throw new Error(`Unknown ${name} value: ${val}.`);\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nexport class Platform {\r\n    // react-native has a window but no document so we should check both\r\n    static get isBrowser() {\r\n        return !Platform.isNode && typeof window === \"object\" && typeof window.document === \"object\";\r\n    }\r\n    // WebWorkers don't have a window object so the isBrowser check would fail\r\n    static get isWebWorker() {\r\n        return !Platform.isNode && typeof self === \"object\" && \"importScripts\" in self;\r\n    }\r\n    // react-native has a window but no document\r\n    static get isReactNative() {\r\n        return !Platform.isNode && typeof window === \"object\" && typeof window.document === \"undefined\";\r\n    }\r\n    // Node apps shouldn't have a window object, but WebWorkers don't either\r\n    // so we need to check for both WebWorker and window\r\n    static get isNode() {\r\n        return typeof process !== \"undefined\" && process.release && process.release.name === \"node\";\r\n    }\r\n}\r\n/** @private */\r\nexport function getDataDetail(data, includeContent) {\r\n    let detail = \"\";\r\n    if (isArrayBuffer(data)) {\r\n        detail = `Binary data of length ${data.byteLength}`;\r\n        if (includeContent) {\r\n            detail += `. Content: '${formatArrayBuffer(data)}'`;\r\n        }\r\n    }\r\n    else if (typeof data === \"string\") {\r\n        detail = `String data of length ${data.length}`;\r\n        if (includeContent) {\r\n            detail += `. Content: '${data}'`;\r\n        }\r\n    }\r\n    return detail;\r\n}\r\n/** @private */\r\nexport function formatArrayBuffer(data) {\r\n    const view = new Uint8Array(data);\r\n    // Uint8Array.map only supports returning another Uint8Array?\r\n    let str = \"\";\r\n    view.forEach((num) => {\r\n        const pad = num < 16 ? \"0\" : \"\";\r\n        str += `0x${pad}${num.toString(16)} `;\r\n    });\r\n    // Trim of trailing space.\r\n    return str.substr(0, str.length - 1);\r\n}\r\n// Also in signalr-protocol-msgpack/Utils.ts\r\n/** @private */\r\nexport function isArrayBuffer(val) {\r\n    return val && typeof ArrayBuffer !== \"undefined\" &&\r\n        (val instanceof ArrayBuffer ||\r\n            // Sometimes we get an ArrayBuffer that doesn't satisfy instanceof\r\n            (val.constructor && val.constructor.name === \"ArrayBuffer\"));\r\n}\r\n/** @private */\r\nexport async function sendMessage(logger, transportName, httpClient, url, content, options) {\r\n    const headers = {};\r\n    const [name, value] = getUserAgentHeader();\r\n    headers[name] = value;\r\n    logger.log(LogLevel.Trace, `(${transportName} transport) sending data. ${getDataDetail(content, options.logMessageContent)}.`);\r\n    const responseType = isArrayBuffer(content) ? \"arraybuffer\" : \"text\";\r\n    const response = await httpClient.post(url, {\r\n        content,\r\n        headers: { ...headers, ...options.headers },\r\n        responseType,\r\n        timeout: options.timeout,\r\n        withCredentials: options.withCredentials,\r\n    });\r\n    logger.log(LogLevel.Trace, `(${transportName} transport) request complete. Response status: ${response.statusCode}.`);\r\n}\r\n/** @private */\r\nexport function createLogger(logger) {\r\n    if (logger === undefined) {\r\n        return new ConsoleLogger(LogLevel.Information);\r\n    }\r\n    if (logger === null) {\r\n        return NullLogger.instance;\r\n    }\r\n    if (logger.log !== undefined) {\r\n        return logger;\r\n    }\r\n    return new ConsoleLogger(logger);\r\n}\r\n/** @private */\r\nexport class SubjectSubscription {\r\n    constructor(subject, observer) {\r\n        this._subject = subject;\r\n        this._observer = observer;\r\n    }\r\n    dispose() {\r\n        const index = this._subject.observers.indexOf(this._observer);\r\n        if (index > -1) {\r\n            this._subject.observers.splice(index, 1);\r\n        }\r\n        if (this._subject.observers.length === 0 && this._subject.cancelCallback) {\r\n            this._subject.cancelCallback().catch((_) => { });\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nexport class ConsoleLogger {\r\n    constructor(minimumLogLevel) {\r\n        this._minLevel = minimumLogLevel;\r\n        this.out = console;\r\n    }\r\n    log(logLevel, message) {\r\n        if (logLevel >= this._minLevel) {\r\n            const msg = `[${new Date().toISOString()}] ${LogLevel[logLevel]}: ${message}`;\r\n            switch (logLevel) {\r\n                case LogLevel.Critical:\r\n                case LogLevel.Error:\r\n                    this.out.error(msg);\r\n                    break;\r\n                case LogLevel.Warning:\r\n                    this.out.warn(msg);\r\n                    break;\r\n                case LogLevel.Information:\r\n                    this.out.info(msg);\r\n                    break;\r\n                default:\r\n                    // console.debug only goes to attached debuggers in Node, so we use console.log for Trace and Debug\r\n                    this.out.log(msg);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n}\r\n/** @private */\r\nexport function getUserAgentHeader() {\r\n    let userAgentHeaderName = \"X-SignalR-User-Agent\";\r\n    if (Platform.isNode) {\r\n        userAgentHeaderName = \"User-Agent\";\r\n    }\r\n    return [userAgentHeaderName, constructUserAgent(VERSION, getOsName(), getRuntime(), getRuntimeVersion())];\r\n}\r\n/** @private */\r\nexport function constructUserAgent(version, os, runtime, runtimeVersion) {\r\n    // Microsoft SignalR/[Version] ([Detailed Version]; [Operating System]; [Runtime]; [Runtime Version])\r\n    let userAgent = \"Microsoft SignalR/\";\r\n    const majorAndMinor = version.split(\".\");\r\n    userAgent += `${majorAndMinor[0]}.${majorAndMinor[1]}`;\r\n    userAgent += ` (${version}; `;\r\n    if (os && os !== \"\") {\r\n        userAgent += `${os}; `;\r\n    }\r\n    else {\r\n        userAgent += \"Unknown OS; \";\r\n    }\r\n    userAgent += `${runtime}`;\r\n    if (runtimeVersion) {\r\n        userAgent += `; ${runtimeVersion}`;\r\n    }\r\n    else {\r\n        userAgent += \"; Unknown Runtime Version\";\r\n    }\r\n    userAgent += \")\";\r\n    return userAgent;\r\n}\r\n// eslint-disable-next-line spaced-comment\r\n/*#__PURE__*/ function getOsName() {\r\n    if (Platform.isNode) {\r\n        switch (process.platform) {\r\n            case \"win32\":\r\n                return \"Windows NT\";\r\n            case \"darwin\":\r\n                return \"macOS\";\r\n            case \"linux\":\r\n                return \"Linux\";\r\n            default:\r\n                return process.platform;\r\n        }\r\n    }\r\n    else {\r\n        return \"\";\r\n    }\r\n}\r\n// eslint-disable-next-line spaced-comment\r\n/*#__PURE__*/ function getRuntimeVersion() {\r\n    if (Platform.isNode) {\r\n        return process.versions.node;\r\n    }\r\n    return undefined;\r\n}\r\nfunction getRuntime() {\r\n    if (Platform.isNode) {\r\n        return \"NodeJS\";\r\n    }\r\n    else {\r\n        return \"Browser\";\r\n    }\r\n}\r\n/** @private */\r\nexport function getErrorString(e) {\r\n    if (e.stack) {\r\n        return e.stack;\r\n    }\r\n    else if (e.message) {\r\n        return e.message;\r\n    }\r\n    return `${e}`;\r\n}\r\n/** @private */\r\nexport function getGlobalThis() {\r\n    // globalThis is semi-new and not available in Node until v12\r\n    if (typeof globalThis !== \"undefined\") {\r\n        return globalThis;\r\n    }\r\n    if (typeof self !== \"undefined\") {\r\n        return self;\r\n    }\r\n    if (typeof window !== \"undefined\") {\r\n        return window;\r\n    }\r\n    if (typeof global !== \"undefined\") {\r\n        return global;\r\n    }\r\n    throw new Error(\"could not find global\");\r\n}\r\n//# sourceMappingURL=Utils.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { AbortError, HttpError, TimeoutError } from \"./Errors\";\r\nimport { HttpClient, HttpResponse } from \"./HttpClient\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { Platform, getGlobalThis, isArrayBuffer } from \"./Utils\";\r\nexport class FetchHttpClient extends HttpClient {\r\n    constructor(logger) {\r\n        super();\r\n        this._logger = logger;\r\n        // Node added a fetch implementation to the global scope starting in v18.\r\n        // We need to add a cookie jar in node to be able to share cookies with WebSocket\r\n        if (typeof fetch === \"undefined\" || Platform.isNode) {\r\n            // In order to ignore the dynamic require in webpack builds we need to do this magic\r\n            // @ts-ignore: TS doesn't know about these names\r\n            const requireFunc = typeof __webpack_require__ === \"function\" ? __non_webpack_require__ : require;\r\n            // Cookies aren't automatically handled in Node so we need to add a CookieJar to preserve cookies across requests\r\n            this._jar = new (requireFunc(\"tough-cookie\")).CookieJar();\r\n            if (typeof fetch === \"undefined\") {\r\n                this._fetchType = requireFunc(\"node-fetch\");\r\n            }\r\n            else {\r\n                // Use fetch from Node if available\r\n                this._fetchType = fetch;\r\n            }\r\n            // node-fetch doesn't have a nice API for getting and setting cookies\r\n            // fetch-cookie will wrap a fetch implementation with a default CookieJar or a provided one\r\n            this._fetchType = requireFunc(\"fetch-cookie\")(this._fetchType, this._jar);\r\n        }\r\n        else {\r\n            this._fetchType = fetch.bind(getGlobalThis());\r\n        }\r\n        if (typeof AbortController === \"undefined\") {\r\n            // In order to ignore the dynamic require in webpack builds we need to do this magic\r\n            // @ts-ignore: TS doesn't know about these names\r\n            const requireFunc = typeof __webpack_require__ === \"function\" ? __non_webpack_require__ : require;\r\n            // Node needs EventListener methods on AbortController which our custom polyfill doesn't provide\r\n            this._abortControllerType = requireFunc(\"abort-controller\");\r\n        }\r\n        else {\r\n            this._abortControllerType = AbortController;\r\n        }\r\n    }\r\n    /** @inheritDoc */\r\n    async send(request) {\r\n        // Check that abort was not signaled before calling send\r\n        if (request.abortSignal && request.abortSignal.aborted) {\r\n            throw new AbortError();\r\n        }\r\n        if (!request.method) {\r\n            throw new Error(\"No method defined.\");\r\n        }\r\n        if (!request.url) {\r\n            throw new Error(\"No url defined.\");\r\n        }\r\n        const abortController = new this._abortControllerType();\r\n        let error;\r\n        // Hook our abortSignal into the abort controller\r\n        if (request.abortSignal) {\r\n            request.abortSignal.onabort = () => {\r\n                abortController.abort();\r\n                error = new AbortError();\r\n            };\r\n        }\r\n        // If a timeout has been passed in, setup a timeout to call abort\r\n        // Type needs to be any to fit window.setTimeout and NodeJS.setTimeout\r\n        let timeoutId = null;\r\n        if (request.timeout) {\r\n            const msTimeout = request.timeout;\r\n            timeoutId = setTimeout(() => {\r\n                abortController.abort();\r\n                this._logger.log(LogLevel.Warning, `Timeout from HTTP request.`);\r\n                error = new TimeoutError();\r\n            }, msTimeout);\r\n        }\r\n        if (request.content === \"\") {\r\n            request.content = undefined;\r\n        }\r\n        if (request.content) {\r\n            // Explicitly setting the Content-Type header for React Native on Android platform.\r\n            request.headers = request.headers || {};\r\n            if (isArrayBuffer(request.content)) {\r\n                request.headers[\"Content-Type\"] = \"application/octet-stream\";\r\n            }\r\n            else {\r\n                request.headers[\"Content-Type\"] = \"text/plain;charset=UTF-8\";\r\n            }\r\n        }\r\n        let response;\r\n        try {\r\n            response = await this._fetchType(request.url, {\r\n                body: request.content,\r\n                cache: \"no-cache\",\r\n                credentials: request.withCredentials === true ? \"include\" : \"same-origin\",\r\n                headers: {\r\n                    \"X-Requested-With\": \"XMLHttpRequest\",\r\n                    ...request.headers,\r\n                },\r\n                method: request.method,\r\n                mode: \"cors\",\r\n                redirect: \"follow\",\r\n                signal: abortController.signal,\r\n            });\r\n        }\r\n        catch (e) {\r\n            if (error) {\r\n                throw error;\r\n            }\r\n            this._logger.log(LogLevel.Warning, `Error from HTTP request. ${e}.`);\r\n            throw e;\r\n        }\r\n        finally {\r\n            if (timeoutId) {\r\n                clearTimeout(timeoutId);\r\n            }\r\n            if (request.abortSignal) {\r\n                request.abortSignal.onabort = null;\r\n            }\r\n        }\r\n        if (!response.ok) {\r\n            const errorMessage = await deserializeContent(response, \"text\");\r\n            throw new HttpError(errorMessage || response.statusText, response.status);\r\n        }\r\n        const content = deserializeContent(response, request.responseType);\r\n        const payload = await content;\r\n        return new HttpResponse(response.status, response.statusText, payload);\r\n    }\r\n    getCookieString(url) {\r\n        let cookies = \"\";\r\n        if (Platform.isNode && this._jar) {\r\n            // @ts-ignore: unused variable\r\n            this._jar.getCookies(url, (e, c) => cookies = c.join(\"; \"));\r\n        }\r\n        return cookies;\r\n    }\r\n}\r\nfunction deserializeContent(response, responseType) {\r\n    let content;\r\n    switch (responseType) {\r\n        case \"arraybuffer\":\r\n            content = response.arrayBuffer();\r\n            break;\r\n        case \"text\":\r\n            content = response.text();\r\n            break;\r\n        case \"blob\":\r\n        case \"document\":\r\n        case \"json\":\r\n            throw new Error(`${responseType} is not supported.`);\r\n        default:\r\n            content = response.text();\r\n            break;\r\n    }\r\n    return content;\r\n}\r\n//# sourceMappingURL=FetchHttpClient.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { AbortError, HttpError, TimeoutError } from \"./Errors\";\r\nimport { HttpClient, HttpResponse } from \"./HttpClient\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { isArrayBuffer } from \"./Utils\";\r\nexport class XhrHttpClient extends HttpClient {\r\n    constructor(logger) {\r\n        super();\r\n        this._logger = logger;\r\n    }\r\n    /** @inheritDoc */\r\n    send(request) {\r\n        // Check that abort was not signaled before calling send\r\n        if (request.abortSignal && request.abortSignal.aborted) {\r\n            return Promise.reject(new AbortError());\r\n        }\r\n        if (!request.method) {\r\n            return Promise.reject(new Error(\"No method defined.\"));\r\n        }\r\n        if (!request.url) {\r\n            return Promise.reject(new Error(\"No url defined.\"));\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.open(request.method, request.url, true);\r\n            xhr.withCredentials = request.withCredentials === undefined ? true : request.withCredentials;\r\n            xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\r\n            if (request.content === \"\") {\r\n                request.content = undefined;\r\n            }\r\n            if (request.content) {\r\n                // Explicitly setting the Content-Type header for React Native on Android platform.\r\n                if (isArrayBuffer(request.content)) {\r\n                    xhr.setRequestHeader(\"Content-Type\", \"application/octet-stream\");\r\n                }\r\n                else {\r\n                    xhr.setRequestHeader(\"Content-Type\", \"text/plain;charset=UTF-8\");\r\n                }\r\n            }\r\n            const headers = request.headers;\r\n            if (headers) {\r\n                Object.keys(headers)\r\n                    .forEach((header) => {\r\n                    xhr.setRequestHeader(header, headers[header]);\r\n                });\r\n            }\r\n            if (request.responseType) {\r\n                xhr.responseType = request.responseType;\r\n            }\r\n            if (request.abortSignal) {\r\n                request.abortSignal.onabort = () => {\r\n                    xhr.abort();\r\n                    reject(new AbortError());\r\n                };\r\n            }\r\n            if (request.timeout) {\r\n                xhr.timeout = request.timeout;\r\n            }\r\n            xhr.onload = () => {\r\n                if (request.abortSignal) {\r\n                    request.abortSignal.onabort = null;\r\n                }\r\n                if (xhr.status >= 200 && xhr.status < 300) {\r\n                    resolve(new HttpResponse(xhr.status, xhr.statusText, xhr.response || xhr.responseText));\r\n                }\r\n                else {\r\n                    reject(new HttpError(xhr.response || xhr.responseText || xhr.statusText, xhr.status));\r\n                }\r\n            };\r\n            xhr.onerror = () => {\r\n                this._logger.log(LogLevel.Warning, `Error from HTTP request. ${xhr.status}: ${xhr.statusText}.`);\r\n                reject(new HttpError(xhr.statusText, xhr.status));\r\n            };\r\n            xhr.ontimeout = () => {\r\n                this._logger.log(LogLevel.Warning, `Timeout from HTTP request.`);\r\n                reject(new TimeoutError());\r\n            };\r\n            xhr.send(request.content);\r\n        });\r\n    }\r\n}\r\n//# sourceMappingURL=XhrHttpClient.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { AbortError } from \"./Errors\";\r\nimport { FetchHttpClient } from \"./FetchHttpClient\";\r\nimport { HttpClient } from \"./HttpClient\";\r\nimport { Platform } from \"./Utils\";\r\nimport { XhrHttpClient } from \"./XhrHttpClient\";\r\n/** Default implementation of {@link @microsoft/signalr.HttpClient}. */\r\nexport class DefaultHttpClient extends HttpClient {\r\n    /** Creates a new instance of the {@link @microsoft/signalr.DefaultHttpClient}, using the provided {@link @microsoft/signalr.ILogger} to log messages. */\r\n    constructor(logger) {\r\n        super();\r\n        if (typeof fetch !== \"undefined\" || Platform.isNode) {\r\n            this._httpClient = new FetchHttpClient(logger);\r\n        }\r\n        else if (typeof XMLHttpRequest !== \"undefined\") {\r\n            this._httpClient = new XhrHttpClient(logger);\r\n        }\r\n        else {\r\n            throw new Error(\"No usable HttpClient found.\");\r\n        }\r\n    }\r\n    /** @inheritDoc */\r\n    send(request) {\r\n        // Check that abort was not signaled before calling send\r\n        if (request.abortSignal && request.abortSignal.aborted) {\r\n            return Promise.reject(new AbortError());\r\n        }\r\n        if (!request.method) {\r\n            return Promise.reject(new Error(\"No method defined.\"));\r\n        }\r\n        if (!request.url) {\r\n            return Promise.reject(new Error(\"No url defined.\"));\r\n        }\r\n        return this._httpClient.send(request);\r\n    }\r\n    getCookieString(url) {\r\n        return this._httpClient.getCookieString(url);\r\n    }\r\n}\r\n//# sourceMappingURL=DefaultHttpClient.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n// Not exported from index\r\n/** @private */\r\nexport class TextMessageFormat {\r\n    static write(output) {\r\n        return `${output}${TextMessageFormat.RecordSeparator}`;\r\n    }\r\n    static parse(input) {\r\n        if (input[input.length - 1] !== TextMessageFormat.RecordSeparator) {\r\n            throw new Error(\"Message is incomplete.\");\r\n        }\r\n        const messages = input.split(TextMessageFormat.RecordSeparator);\r\n        messages.pop();\r\n        return messages;\r\n    }\r\n}\r\nTextMessageFormat.RecordSeparatorCode = 0x1e;\r\nTextMessageFormat.RecordSeparator = String.fromCharCode(TextMessageFormat.RecordSeparatorCode);\r\n//# sourceMappingURL=TextMessageFormat.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { TextMessageFormat } from \"./TextMessageFormat\";\r\nimport { isArrayBuffer } from \"./Utils\";\r\n/** @private */\r\nexport class HandshakeProtocol {\r\n    // Handshake request is always JSON\r\n    writeHandshakeRequest(handshakeRequest) {\r\n        return TextMessageFormat.write(JSON.stringify(handshakeRequest));\r\n    }\r\n    parseHandshakeResponse(data) {\r\n        let messageData;\r\n        let remainingData;\r\n        if (isArrayBuffer(data)) {\r\n            // Format is binary but still need to read JSON text from handshake response\r\n            const binaryData = new Uint8Array(data);\r\n            const separatorIndex = binaryData.indexOf(TextMessageFormat.RecordSeparatorCode);\r\n            if (separatorIndex === -1) {\r\n                throw new Error(\"Message is incomplete.\");\r\n            }\r\n            // content before separator is handshake response\r\n            // optional content after is additional messages\r\n            const responseLength = separatorIndex + 1;\r\n            messageData = String.fromCharCode.apply(null, Array.prototype.slice.call(binaryData.slice(0, responseLength)));\r\n            remainingData = (binaryData.byteLength > responseLength) ? binaryData.slice(responseLength).buffer : null;\r\n        }\r\n        else {\r\n            const textData = data;\r\n            const separatorIndex = textData.indexOf(TextMessageFormat.RecordSeparator);\r\n            if (separatorIndex === -1) {\r\n                throw new Error(\"Message is incomplete.\");\r\n            }\r\n            // content before separator is handshake response\r\n            // optional content after is additional messages\r\n            const responseLength = separatorIndex + 1;\r\n            messageData = textData.substring(0, responseLength);\r\n            remainingData = (textData.length > responseLength) ? textData.substring(responseLength) : null;\r\n        }\r\n        // At this point we should have just the single handshake message\r\n        const messages = TextMessageFormat.parse(messageData);\r\n        const response = JSON.parse(messages[0]);\r\n        if (response.type) {\r\n            throw new Error(\"Expected a handshake response from the server.\");\r\n        }\r\n        const responseMessage = response;\r\n        // multiple messages could have arrived with handshake\r\n        // return additional data to be parsed as usual, or null if all parsed\r\n        return [remainingData, responseMessage];\r\n    }\r\n}\r\n//# sourceMappingURL=HandshakeProtocol.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n/** Defines the type of a Hub Message. */\r\nexport var MessageType;\r\n(function (MessageType) {\r\n    /** Indicates the message is an Invocation message and implements the {@link @microsoft/signalr.InvocationMessage} interface. */\r\n    MessageType[MessageType[\"Invocation\"] = 1] = \"Invocation\";\r\n    /** Indicates the message is a StreamItem message and implements the {@link @microsoft/signalr.StreamItemMessage} interface. */\r\n    MessageType[MessageType[\"StreamItem\"] = 2] = \"StreamItem\";\r\n    /** Indicates the message is a Completion message and implements the {@link @microsoft/signalr.CompletionMessage} interface. */\r\n    MessageType[MessageType[\"Completion\"] = 3] = \"Completion\";\r\n    /** Indicates the message is a Stream Invocation message and implements the {@link @microsoft/signalr.StreamInvocationMessage} interface. */\r\n    MessageType[MessageType[\"StreamInvocation\"] = 4] = \"StreamInvocation\";\r\n    /** Indicates the message is a Cancel Invocation message and implements the {@link @microsoft/signalr.CancelInvocationMessage} interface. */\r\n    MessageType[MessageType[\"CancelInvocation\"] = 5] = \"CancelInvocation\";\r\n    /** Indicates the message is a Ping message and implements the {@link @microsoft/signalr.PingMessage} interface. */\r\n    MessageType[MessageType[\"Ping\"] = 6] = \"Ping\";\r\n    /** Indicates the message is a Close message and implements the {@link @microsoft/signalr.CloseMessage} interface. */\r\n    MessageType[MessageType[\"Close\"] = 7] = \"Close\";\r\n    MessageType[MessageType[\"Ack\"] = 8] = \"Ack\";\r\n    MessageType[MessageType[\"Sequence\"] = 9] = \"Sequence\";\r\n})(MessageType || (MessageType = {}));\r\n//# sourceMappingURL=IHubProtocol.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { SubjectSubscription } from \"./Utils\";\r\n/** Stream implementation to stream items to the server. */\r\nexport class Subject {\r\n    constructor() {\r\n        this.observers = [];\r\n    }\r\n    next(item) {\r\n        for (const observer of this.observers) {\r\n            observer.next(item);\r\n        }\r\n    }\r\n    error(err) {\r\n        for (const observer of this.observers) {\r\n            if (observer.error) {\r\n                observer.error(err);\r\n            }\r\n        }\r\n    }\r\n    complete() {\r\n        for (const observer of this.observers) {\r\n            if (observer.complete) {\r\n                observer.complete();\r\n            }\r\n        }\r\n    }\r\n    subscribe(observer) {\r\n        this.observers.push(observer);\r\n        return new SubjectSubscription(this, observer);\r\n    }\r\n}\r\n//# sourceMappingURL=Subject.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { MessageType } from \"./IHubProtocol\";\r\nimport { isArrayBuffer } from \"./Utils\";\r\n/** @private */\r\nexport class MessageBuffer {\r\n    constructor(protocol, connection, bufferSize) {\r\n        this._bufferSize = 100000;\r\n        this._messages = [];\r\n        this._totalMessageCount = 0;\r\n        this._waitForSequenceMessage = false;\r\n        // Message IDs start at 1 and always increment by 1\r\n        this._nextReceivingSequenceId = 1;\r\n        this._latestReceivedSequenceId = 0;\r\n        this._bufferedByteCount = 0;\r\n        this._reconnectInProgress = false;\r\n        this._protocol = protocol;\r\n        this._connection = connection;\r\n        this._bufferSize = bufferSize;\r\n    }\r\n    async _send(message) {\r\n        const serializedMessage = this._protocol.writeMessage(message);\r\n        let backpressurePromise = Promise.resolve();\r\n        // Only count invocation messages. Acks, pings, etc. don't need to be resent on reconnect\r\n        if (this._isInvocationMessage(message)) {\r\n            this._totalMessageCount++;\r\n            let backpressurePromiseResolver = () => { };\r\n            let backpressurePromiseRejector = () => { };\r\n            if (isArrayBuffer(serializedMessage)) {\r\n                this._bufferedByteCount += serializedMessage.byteLength;\r\n            }\r\n            else {\r\n                this._bufferedByteCount += serializedMessage.length;\r\n            }\r\n            if (this._bufferedByteCount >= this._bufferSize) {\r\n                backpressurePromise = new Promise((resolve, reject) => {\r\n                    backpressurePromiseResolver = resolve;\r\n                    backpressurePromiseRejector = reject;\r\n                });\r\n            }\r\n            this._messages.push(new BufferedItem(serializedMessage, this._totalMessageCount, backpressurePromiseResolver, backpressurePromiseRejector));\r\n        }\r\n        try {\r\n            // If this is set it means we are reconnecting or resending\r\n            // We don't want to send on a disconnected connection\r\n            // And we don't want to send if resend is running since that would mean sending\r\n            // this message twice\r\n            if (!this._reconnectInProgress) {\r\n                await this._connection.send(serializedMessage);\r\n            }\r\n        }\r\n        catch {\r\n            this._disconnected();\r\n        }\r\n        await backpressurePromise;\r\n    }\r\n    _ack(ackMessage) {\r\n        let newestAckedMessage = -1;\r\n        // Find index of newest message being acked\r\n        for (let index = 0; index < this._messages.length; index++) {\r\n            const element = this._messages[index];\r\n            if (element._id <= ackMessage.sequenceId) {\r\n                newestAckedMessage = index;\r\n                if (isArrayBuffer(element._message)) {\r\n                    this._bufferedByteCount -= element._message.byteLength;\r\n                }\r\n                else {\r\n                    this._bufferedByteCount -= element._message.length;\r\n                }\r\n                // resolve items that have already been sent and acked\r\n                element._resolver();\r\n            }\r\n            else if (this._bufferedByteCount < this._bufferSize) {\r\n                // resolve items that now fall under the buffer limit but haven't been acked\r\n                element._resolver();\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        if (newestAckedMessage !== -1) {\r\n            // We're removing everything including the message pointed to, so add 1\r\n            this._messages = this._messages.slice(newestAckedMessage + 1);\r\n        }\r\n    }\r\n    _shouldProcessMessage(message) {\r\n        if (this._waitForSequenceMessage) {\r\n            if (message.type !== MessageType.Sequence) {\r\n                return false;\r\n            }\r\n            else {\r\n                this._waitForSequenceMessage = false;\r\n                return true;\r\n            }\r\n        }\r\n        // No special processing for acks, pings, etc.\r\n        if (!this._isInvocationMessage(message)) {\r\n            return true;\r\n        }\r\n        const currentId = this._nextReceivingSequenceId;\r\n        this._nextReceivingSequenceId++;\r\n        if (currentId <= this._latestReceivedSequenceId) {\r\n            if (currentId === this._latestReceivedSequenceId) {\r\n                // Should only hit this if we just reconnected and the server is sending\r\n                // Messages it has buffered, which would mean it hasn't seen an Ack for these messages\r\n                this._ackTimer();\r\n            }\r\n            // Ignore, this is a duplicate message\r\n            return false;\r\n        }\r\n        this._latestReceivedSequenceId = currentId;\r\n        // Only start the timer for sending an Ack message when we have a message to ack. This also conveniently solves\r\n        // timer throttling by not having a recursive timer, and by starting the timer via a network call (recv)\r\n        this._ackTimer();\r\n        return true;\r\n    }\r\n    _resetSequence(message) {\r\n        if (message.sequenceId > this._nextReceivingSequenceId) {\r\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n            this._connection.stop(new Error(\"Sequence ID greater than amount of messages we've received.\"));\r\n            return;\r\n        }\r\n        this._nextReceivingSequenceId = message.sequenceId;\r\n    }\r\n    _disconnected() {\r\n        this._reconnectInProgress = true;\r\n        this._waitForSequenceMessage = true;\r\n    }\r\n    async _resend() {\r\n        const sequenceId = this._messages.length !== 0\r\n            ? this._messages[0]._id\r\n            : this._totalMessageCount + 1;\r\n        await this._connection.send(this._protocol.writeMessage({ type: MessageType.Sequence, sequenceId }));\r\n        // Get a local variable to the _messages, just in case messages are acked while resending\r\n        // Which would slice the _messages array (which creates a new copy)\r\n        const messages = this._messages;\r\n        for (const element of messages) {\r\n            await this._connection.send(element._message);\r\n        }\r\n        this._reconnectInProgress = false;\r\n    }\r\n    _dispose(error) {\r\n        error !== null && error !== void 0 ? error : (error = new Error(\"Unable to reconnect to server.\"));\r\n        // Unblock backpressure if any\r\n        for (const element of this._messages) {\r\n            element._rejector(error);\r\n        }\r\n    }\r\n    _isInvocationMessage(message) {\r\n        // There is no way to check if something implements an interface.\r\n        // So we individually check the messages in a switch statement.\r\n        // To make sure we don't miss any message types we rely on the compiler\r\n        // seeing the function returns a value and it will do the\r\n        // exhaustive check for us on the switch statement, since we don't use 'case default'\r\n        switch (message.type) {\r\n            case MessageType.Invocation:\r\n            case MessageType.StreamItem:\r\n            case MessageType.Completion:\r\n            case MessageType.StreamInvocation:\r\n            case MessageType.CancelInvocation:\r\n                return true;\r\n            case MessageType.Close:\r\n            case MessageType.Sequence:\r\n            case MessageType.Ping:\r\n            case MessageType.Ack:\r\n                return false;\r\n        }\r\n    }\r\n    _ackTimer() {\r\n        if (this._ackTimerHandle === undefined) {\r\n            this._ackTimerHandle = setTimeout(async () => {\r\n                try {\r\n                    if (!this._reconnectInProgress) {\r\n                        await this._connection.send(this._protocol.writeMessage({ type: MessageType.Ack, sequenceId: this._latestReceivedSequenceId }));\r\n                    }\r\n                    // Ignore errors, that means the connection is closed and we don't care about the Ack message anymore.\r\n                }\r\n                catch { }\r\n                clearTimeout(this._ackTimerHandle);\r\n                this._ackTimerHandle = undefined;\r\n                // 1 second delay so we don't spam Ack messages if there are many messages being received at once.\r\n            }, 1000);\r\n        }\r\n    }\r\n}\r\nclass BufferedItem {\r\n    constructor(message, id, resolver, rejector) {\r\n        this._message = message;\r\n        this._id = id;\r\n        this._resolver = resolver;\r\n        this._rejector = rejector;\r\n    }\r\n}\r\n//# sourceMappingURL=MessageBuffer.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { HandshakeProtocol } from \"./HandshakeProtocol\";\r\nimport { AbortError } from \"./Errors\";\r\nimport { MessageType } from \"./IHubProtocol\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { Subject } from \"./Subject\";\r\nimport { Arg, getErrorString, Platform } from \"./Utils\";\r\nimport { MessageBuffer } from \"./MessageBuffer\";\r\nconst DEFAULT_TIMEOUT_IN_MS = 30 * 1000;\r\nconst DEFAULT_PING_INTERVAL_IN_MS = 15 * 1000;\r\nconst DEFAULT_STATEFUL_RECONNECT_BUFFER_SIZE = 100000;\r\n/** Describes the current state of the {@link HubConnection} to the server. */\r\nexport var HubConnectionState;\r\n(function (HubConnectionState) {\r\n    /** The hub connection is disconnected. */\r\n    HubConnectionState[\"Disconnected\"] = \"Disconnected\";\r\n    /** The hub connection is connecting. */\r\n    HubConnectionState[\"Connecting\"] = \"Connecting\";\r\n    /** The hub connection is connected. */\r\n    HubConnectionState[\"Connected\"] = \"Connected\";\r\n    /** The hub connection is disconnecting. */\r\n    HubConnectionState[\"Disconnecting\"] = \"Disconnecting\";\r\n    /** The hub connection is reconnecting. */\r\n    HubConnectionState[\"Reconnecting\"] = \"Reconnecting\";\r\n})(HubConnectionState || (HubConnectionState = {}));\r\n/** Represents a connection to a SignalR Hub. */\r\nexport class HubConnection {\r\n    /** @internal */\r\n    // Using a public static factory method means we can have a private constructor and an _internal_\r\n    // create method that can be used by HubConnectionBuilder. An \"internal\" constructor would just\r\n    // be stripped away and the '.d.ts' file would have no constructor, which is interpreted as a\r\n    // public parameter-less constructor.\r\n    static create(connection, logger, protocol, reconnectPolicy, serverTimeoutInMilliseconds, keepAliveIntervalInMilliseconds, statefulReconnectBufferSize) {\r\n        return new HubConnection(connection, logger, protocol, reconnectPolicy, serverTimeoutInMilliseconds, keepAliveIntervalInMilliseconds, statefulReconnectBufferSize);\r\n    }\r\n    constructor(connection, logger, protocol, reconnectPolicy, serverTimeoutInMilliseconds, keepAliveIntervalInMilliseconds, statefulReconnectBufferSize) {\r\n        this._nextKeepAlive = 0;\r\n        this._freezeEventListener = () => {\r\n            this._logger.log(LogLevel.Warning, \"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep\");\r\n        };\r\n        Arg.isRequired(connection, \"connection\");\r\n        Arg.isRequired(logger, \"logger\");\r\n        Arg.isRequired(protocol, \"protocol\");\r\n        this.serverTimeoutInMilliseconds = serverTimeoutInMilliseconds !== null && serverTimeoutInMilliseconds !== void 0 ? serverTimeoutInMilliseconds : DEFAULT_TIMEOUT_IN_MS;\r\n        this.keepAliveIntervalInMilliseconds = keepAliveIntervalInMilliseconds !== null && keepAliveIntervalInMilliseconds !== void 0 ? keepAliveIntervalInMilliseconds : DEFAULT_PING_INTERVAL_IN_MS;\r\n        this._statefulReconnectBufferSize = statefulReconnectBufferSize !== null && statefulReconnectBufferSize !== void 0 ? statefulReconnectBufferSize : DEFAULT_STATEFUL_RECONNECT_BUFFER_SIZE;\r\n        this._logger = logger;\r\n        this._protocol = protocol;\r\n        this.connection = connection;\r\n        this._reconnectPolicy = reconnectPolicy;\r\n        this._handshakeProtocol = new HandshakeProtocol();\r\n        this.connection.onreceive = (data) => this._processIncomingData(data);\r\n        this.connection.onclose = (error) => this._connectionClosed(error);\r\n        this._callbacks = {};\r\n        this._methods = {};\r\n        this._closedCallbacks = [];\r\n        this._reconnectingCallbacks = [];\r\n        this._reconnectedCallbacks = [];\r\n        this._invocationId = 0;\r\n        this._receivedHandshakeResponse = false;\r\n        this._connectionState = HubConnectionState.Disconnected;\r\n        this._connectionStarted = false;\r\n        this._cachedPingMessage = this._protocol.writeMessage({ type: MessageType.Ping });\r\n    }\r\n    /** Indicates the state of the {@link HubConnection} to the server. */\r\n    get state() {\r\n        return this._connectionState;\r\n    }\r\n    /** Represents the connection id of the {@link HubConnection} on the server. The connection id will be null when the connection is either\r\n     *  in the disconnected state or if the negotiation step was skipped.\r\n     */\r\n    get connectionId() {\r\n        return this.connection ? (this.connection.connectionId || null) : null;\r\n    }\r\n    /** Indicates the url of the {@link HubConnection} to the server. */\r\n    get baseUrl() {\r\n        return this.connection.baseUrl || \"\";\r\n    }\r\n    /**\r\n     * Sets a new url for the HubConnection. Note that the url can only be changed when the connection is in either the Disconnected or\r\n     * Reconnecting states.\r\n     * @param {string} url The url to connect to.\r\n     */\r\n    set baseUrl(url) {\r\n        if (this._connectionState !== HubConnectionState.Disconnected && this._connectionState !== HubConnectionState.Reconnecting) {\r\n            throw new Error(\"The HubConnection must be in the Disconnected or Reconnecting state to change the url.\");\r\n        }\r\n        if (!url) {\r\n            throw new Error(\"The HubConnection url must be a valid url.\");\r\n        }\r\n        this.connection.baseUrl = url;\r\n    }\r\n    /** Starts the connection.\r\n     *\r\n     * @returns {Promise<void>} A Promise that resolves when the connection has been successfully established, or rejects with an error.\r\n     */\r\n    start() {\r\n        this._startPromise = this._startWithStateTransitions();\r\n        return this._startPromise;\r\n    }\r\n    async _startWithStateTransitions() {\r\n        if (this._connectionState !== HubConnectionState.Disconnected) {\r\n            return Promise.reject(new Error(\"Cannot start a HubConnection that is not in the 'Disconnected' state.\"));\r\n        }\r\n        this._connectionState = HubConnectionState.Connecting;\r\n        this._logger.log(LogLevel.Debug, \"Starting HubConnection.\");\r\n        try {\r\n            await this._startInternal();\r\n            if (Platform.isBrowser) {\r\n                // Log when the browser freezes the tab so users know why their connection unexpectedly stopped working\r\n                window.document.addEventListener(\"freeze\", this._freezeEventListener);\r\n            }\r\n            this._connectionState = HubConnectionState.Connected;\r\n            this._connectionStarted = true;\r\n            this._logger.log(LogLevel.Debug, \"HubConnection connected successfully.\");\r\n        }\r\n        catch (e) {\r\n            this._connectionState = HubConnectionState.Disconnected;\r\n            this._logger.log(LogLevel.Debug, `HubConnection failed to start successfully because of error '${e}'.`);\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    async _startInternal() {\r\n        this._stopDuringStartError = undefined;\r\n        this._receivedHandshakeResponse = false;\r\n        // Set up the promise before any connection is (re)started otherwise it could race with received messages\r\n        const handshakePromise = new Promise((resolve, reject) => {\r\n            this._handshakeResolver = resolve;\r\n            this._handshakeRejecter = reject;\r\n        });\r\n        await this.connection.start(this._protocol.transferFormat);\r\n        try {\r\n            let version = this._protocol.version;\r\n            if (!this.connection.features.reconnect) {\r\n                // Stateful Reconnect starts with HubProtocol version 2, newer clients connecting to older servers will fail to connect due to\r\n                // the handshake only supporting version 1, so we will try to send version 1 during the handshake to keep old servers working.\r\n                version = 1;\r\n            }\r\n            const handshakeRequest = {\r\n                protocol: this._protocol.name,\r\n                version,\r\n            };\r\n            this._logger.log(LogLevel.Debug, \"Sending handshake request.\");\r\n            await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(handshakeRequest));\r\n            this._logger.log(LogLevel.Information, `Using HubProtocol '${this._protocol.name}'.`);\r\n            // defensively cleanup timeout in case we receive a message from the server before we finish start\r\n            this._cleanupTimeout();\r\n            this._resetTimeoutPeriod();\r\n            this._resetKeepAliveInterval();\r\n            await handshakePromise;\r\n            // It's important to check the stopDuringStartError instead of just relying on the handshakePromise\r\n            // being rejected on close, because this continuation can run after both the handshake completed successfully\r\n            // and the connection was closed.\r\n            if (this._stopDuringStartError) {\r\n                // It's important to throw instead of returning a rejected promise, because we don't want to allow any state\r\n                // transitions to occur between now and the calling code observing the exceptions. Returning a rejected promise\r\n                // will cause the calling continuation to get scheduled to run later.\r\n                // eslint-disable-next-line @typescript-eslint/no-throw-literal\r\n                throw this._stopDuringStartError;\r\n            }\r\n            const useStatefulReconnect = this.connection.features.reconnect || false;\r\n            if (useStatefulReconnect) {\r\n                this._messageBuffer = new MessageBuffer(this._protocol, this.connection, this._statefulReconnectBufferSize);\r\n                this.connection.features.disconnected = this._messageBuffer._disconnected.bind(this._messageBuffer);\r\n                this.connection.features.resend = () => {\r\n                    if (this._messageBuffer) {\r\n                        return this._messageBuffer._resend();\r\n                    }\r\n                };\r\n            }\r\n            if (!this.connection.features.inherentKeepAlive) {\r\n                await this._sendMessage(this._cachedPingMessage);\r\n            }\r\n        }\r\n        catch (e) {\r\n            this._logger.log(LogLevel.Debug, `Hub handshake failed with error '${e}' during start(). Stopping HubConnection.`);\r\n            this._cleanupTimeout();\r\n            this._cleanupPingTimer();\r\n            // HttpConnection.stop() should not complete until after the onclose callback is invoked.\r\n            // This will transition the HubConnection to the disconnected state before HttpConnection.stop() completes.\r\n            await this.connection.stop(e);\r\n            throw e;\r\n        }\r\n    }\r\n    /** Stops the connection.\r\n     *\r\n     * @returns {Promise<void>} A Promise that resolves when the connection has been successfully terminated, or rejects with an error.\r\n     */\r\n    async stop() {\r\n        // Capture the start promise before the connection might be restarted in an onclose callback.\r\n        const startPromise = this._startPromise;\r\n        this.connection.features.reconnect = false;\r\n        this._stopPromise = this._stopInternal();\r\n        await this._stopPromise;\r\n        try {\r\n            // Awaiting undefined continues immediately\r\n            await startPromise;\r\n        }\r\n        catch (e) {\r\n            // This exception is returned to the user as a rejected Promise from the start method.\r\n        }\r\n    }\r\n    _stopInternal(error) {\r\n        if (this._connectionState === HubConnectionState.Disconnected) {\r\n            this._logger.log(LogLevel.Debug, `Call to HubConnection.stop(${error}) ignored because it is already in the disconnected state.`);\r\n            return Promise.resolve();\r\n        }\r\n        if (this._connectionState === HubConnectionState.Disconnecting) {\r\n            this._logger.log(LogLevel.Debug, `Call to HttpConnection.stop(${error}) ignored because the connection is already in the disconnecting state.`);\r\n            return this._stopPromise;\r\n        }\r\n        const state = this._connectionState;\r\n        this._connectionState = HubConnectionState.Disconnecting;\r\n        this._logger.log(LogLevel.Debug, \"Stopping HubConnection.\");\r\n        if (this._reconnectDelayHandle) {\r\n            // We're in a reconnect delay which means the underlying connection is currently already stopped.\r\n            // Just clear the handle to stop the reconnect loop (which no one is waiting on thankfully) and\r\n            // fire the onclose callbacks.\r\n            this._logger.log(LogLevel.Debug, \"Connection stopped during reconnect delay. Done reconnecting.\");\r\n            clearTimeout(this._reconnectDelayHandle);\r\n            this._reconnectDelayHandle = undefined;\r\n            this._completeClose();\r\n            return Promise.resolve();\r\n        }\r\n        if (state === HubConnectionState.Connected) {\r\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n            this._sendCloseMessage();\r\n        }\r\n        this._cleanupTimeout();\r\n        this._cleanupPingTimer();\r\n        this._stopDuringStartError = error || new AbortError(\"The connection was stopped before the hub handshake could complete.\");\r\n        // HttpConnection.stop() should not complete until after either HttpConnection.start() fails\r\n        // or the onclose callback is invoked. The onclose callback will transition the HubConnection\r\n        // to the disconnected state if need be before HttpConnection.stop() completes.\r\n        return this.connection.stop(error);\r\n    }\r\n    async _sendCloseMessage() {\r\n        try {\r\n            await this._sendWithProtocol(this._createCloseMessage());\r\n        }\r\n        catch {\r\n            // Ignore, this is a best effort attempt to let the server know the client closed gracefully.\r\n        }\r\n    }\r\n    /** Invokes a streaming hub method on the server using the specified name and arguments.\r\n     *\r\n     * @typeparam T The type of the items returned by the server.\r\n     * @param {string} methodName The name of the server method to invoke.\r\n     * @param {any[]} args The arguments used to invoke the server method.\r\n     * @returns {IStreamResult<T>} An object that yields results from the server as they are received.\r\n     */\r\n    stream(methodName, ...args) {\r\n        const [streams, streamIds] = this._replaceStreamingParams(args);\r\n        const invocationDescriptor = this._createStreamInvocation(methodName, args, streamIds);\r\n        // eslint-disable-next-line prefer-const\r\n        let promiseQueue;\r\n        const subject = new Subject();\r\n        subject.cancelCallback = () => {\r\n            const cancelInvocation = this._createCancelInvocation(invocationDescriptor.invocationId);\r\n            delete this._callbacks[invocationDescriptor.invocationId];\r\n            return promiseQueue.then(() => {\r\n                return this._sendWithProtocol(cancelInvocation);\r\n            });\r\n        };\r\n        this._callbacks[invocationDescriptor.invocationId] = (invocationEvent, error) => {\r\n            if (error) {\r\n                subject.error(error);\r\n                return;\r\n            }\r\n            else if (invocationEvent) {\r\n                // invocationEvent will not be null when an error is not passed to the callback\r\n                if (invocationEvent.type === MessageType.Completion) {\r\n                    if (invocationEvent.error) {\r\n                        subject.error(new Error(invocationEvent.error));\r\n                    }\r\n                    else {\r\n                        subject.complete();\r\n                    }\r\n                }\r\n                else {\r\n                    subject.next((invocationEvent.item));\r\n                }\r\n            }\r\n        };\r\n        promiseQueue = this._sendWithProtocol(invocationDescriptor)\r\n            .catch((e) => {\r\n            subject.error(e);\r\n            delete this._callbacks[invocationDescriptor.invocationId];\r\n        });\r\n        this._launchStreams(streams, promiseQueue);\r\n        return subject;\r\n    }\r\n    _sendMessage(message) {\r\n        this._resetKeepAliveInterval();\r\n        return this.connection.send(message);\r\n    }\r\n    /**\r\n     * Sends a js object to the server.\r\n     * @param message The js object to serialize and send.\r\n     */\r\n    _sendWithProtocol(message) {\r\n        if (this._messageBuffer) {\r\n            return this._messageBuffer._send(message);\r\n        }\r\n        else {\r\n            return this._sendMessage(this._protocol.writeMessage(message));\r\n        }\r\n    }\r\n    /** Invokes a hub method on the server using the specified name and arguments. Does not wait for a response from the receiver.\r\n     *\r\n     * The Promise returned by this method resolves when the client has sent the invocation to the server. The server may still\r\n     * be processing the invocation.\r\n     *\r\n     * @param {string} methodName The name of the server method to invoke.\r\n     * @param {any[]} args The arguments used to invoke the server method.\r\n     * @returns {Promise<void>} A Promise that resolves when the invocation has been successfully sent, or rejects with an error.\r\n     */\r\n    send(methodName, ...args) {\r\n        const [streams, streamIds] = this._replaceStreamingParams(args);\r\n        const sendPromise = this._sendWithProtocol(this._createInvocation(methodName, args, true, streamIds));\r\n        this._launchStreams(streams, sendPromise);\r\n        return sendPromise;\r\n    }\r\n    /** Invokes a hub method on the server using the specified name and arguments.\r\n     *\r\n     * The Promise returned by this method resolves when the server indicates it has finished invoking the method. When the promise\r\n     * resolves, the server has finished invoking the method. If the server method returns a result, it is produced as the result of\r\n     * resolving the Promise.\r\n     *\r\n     * @typeparam T The expected return type.\r\n     * @param {string} methodName The name of the server method to invoke.\r\n     * @param {any[]} args The arguments used to invoke the server method.\r\n     * @returns {Promise<T>} A Promise that resolves with the result of the server method (if any), or rejects with an error.\r\n     */\r\n    invoke(methodName, ...args) {\r\n        const [streams, streamIds] = this._replaceStreamingParams(args);\r\n        const invocationDescriptor = this._createInvocation(methodName, args, false, streamIds);\r\n        const p = new Promise((resolve, reject) => {\r\n            // invocationId will always have a value for a non-blocking invocation\r\n            this._callbacks[invocationDescriptor.invocationId] = (invocationEvent, error) => {\r\n                if (error) {\r\n                    reject(error);\r\n                    return;\r\n                }\r\n                else if (invocationEvent) {\r\n                    // invocationEvent will not be null when an error is not passed to the callback\r\n                    if (invocationEvent.type === MessageType.Completion) {\r\n                        if (invocationEvent.error) {\r\n                            reject(new Error(invocationEvent.error));\r\n                        }\r\n                        else {\r\n                            resolve(invocationEvent.result);\r\n                        }\r\n                    }\r\n                    else {\r\n                        reject(new Error(`Unexpected message type: ${invocationEvent.type}`));\r\n                    }\r\n                }\r\n            };\r\n            const promiseQueue = this._sendWithProtocol(invocationDescriptor)\r\n                .catch((e) => {\r\n                reject(e);\r\n                // invocationId will always have a value for a non-blocking invocation\r\n                delete this._callbacks[invocationDescriptor.invocationId];\r\n            });\r\n            this._launchStreams(streams, promiseQueue);\r\n        });\r\n        return p;\r\n    }\r\n    on(methodName, newMethod) {\r\n        if (!methodName || !newMethod) {\r\n            return;\r\n        }\r\n        methodName = methodName.toLowerCase();\r\n        if (!this._methods[methodName]) {\r\n            this._methods[methodName] = [];\r\n        }\r\n        // Preventing adding the same handler multiple times.\r\n        if (this._methods[methodName].indexOf(newMethod) !== -1) {\r\n            return;\r\n        }\r\n        this._methods[methodName].push(newMethod);\r\n    }\r\n    off(methodName, method) {\r\n        if (!methodName) {\r\n            return;\r\n        }\r\n        methodName = methodName.toLowerCase();\r\n        const handlers = this._methods[methodName];\r\n        if (!handlers) {\r\n            return;\r\n        }\r\n        if (method) {\r\n            const removeIdx = handlers.indexOf(method);\r\n            if (removeIdx !== -1) {\r\n                handlers.splice(removeIdx, 1);\r\n                if (handlers.length === 0) {\r\n                    delete this._methods[methodName];\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            delete this._methods[methodName];\r\n        }\r\n    }\r\n    /** Registers a handler that will be invoked when the connection is closed.\r\n     *\r\n     * @param {Function} callback The handler that will be invoked when the connection is closed. Optionally receives a single argument containing the error that caused the connection to close (if any).\r\n     */\r\n    onclose(callback) {\r\n        if (callback) {\r\n            this._closedCallbacks.push(callback);\r\n        }\r\n    }\r\n    /** Registers a handler that will be invoked when the connection starts reconnecting.\r\n     *\r\n     * @param {Function} callback The handler that will be invoked when the connection starts reconnecting. Optionally receives a single argument containing the error that caused the connection to start reconnecting (if any).\r\n     */\r\n    onreconnecting(callback) {\r\n        if (callback) {\r\n            this._reconnectingCallbacks.push(callback);\r\n        }\r\n    }\r\n    /** Registers a handler that will be invoked when the connection successfully reconnects.\r\n     *\r\n     * @param {Function} callback The handler that will be invoked when the connection successfully reconnects.\r\n     */\r\n    onreconnected(callback) {\r\n        if (callback) {\r\n            this._reconnectedCallbacks.push(callback);\r\n        }\r\n    }\r\n    _processIncomingData(data) {\r\n        this._cleanupTimeout();\r\n        if (!this._receivedHandshakeResponse) {\r\n            data = this._processHandshakeResponse(data);\r\n            this._receivedHandshakeResponse = true;\r\n        }\r\n        // Data may have all been read when processing handshake response\r\n        if (data) {\r\n            // Parse the messages\r\n            const messages = this._protocol.parseMessages(data, this._logger);\r\n            for (const message of messages) {\r\n                if (this._messageBuffer && !this._messageBuffer._shouldProcessMessage(message)) {\r\n                    // Don't process the message, we are either waiting for a SequenceMessage or received a duplicate message\r\n                    continue;\r\n                }\r\n                switch (message.type) {\r\n                    case MessageType.Invocation:\r\n                        this._invokeClientMethod(message)\r\n                            .catch((e) => {\r\n                            this._logger.log(LogLevel.Error, `Invoke client method threw error: ${getErrorString(e)}`);\r\n                        });\r\n                        break;\r\n                    case MessageType.StreamItem:\r\n                    case MessageType.Completion: {\r\n                        const callback = this._callbacks[message.invocationId];\r\n                        if (callback) {\r\n                            if (message.type === MessageType.Completion) {\r\n                                delete this._callbacks[message.invocationId];\r\n                            }\r\n                            try {\r\n                                callback(message);\r\n                            }\r\n                            catch (e) {\r\n                                this._logger.log(LogLevel.Error, `Stream callback threw error: ${getErrorString(e)}`);\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                    case MessageType.Ping:\r\n                        // Don't care about pings\r\n                        break;\r\n                    case MessageType.Close: {\r\n                        this._logger.log(LogLevel.Information, \"Close message received from server.\");\r\n                        const error = message.error ? new Error(\"Server returned an error on close: \" + message.error) : undefined;\r\n                        if (message.allowReconnect === true) {\r\n                            // It feels wrong not to await connection.stop() here, but processIncomingData is called as part of an onreceive callback which is not async,\r\n                            // this is already the behavior for serverTimeout(), and HttpConnection.Stop() should catch and log all possible exceptions.\r\n                            // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n                            this.connection.stop(error);\r\n                        }\r\n                        else {\r\n                            // We cannot await stopInternal() here, but subsequent calls to stop() will await this if stopInternal() is still ongoing.\r\n                            this._stopPromise = this._stopInternal(error);\r\n                        }\r\n                        break;\r\n                    }\r\n                    case MessageType.Ack:\r\n                        if (this._messageBuffer) {\r\n                            this._messageBuffer._ack(message);\r\n                        }\r\n                        break;\r\n                    case MessageType.Sequence:\r\n                        if (this._messageBuffer) {\r\n                            this._messageBuffer._resetSequence(message);\r\n                        }\r\n                        break;\r\n                    default:\r\n                        this._logger.log(LogLevel.Warning, `Invalid message type: ${message.type}.`);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        this._resetTimeoutPeriod();\r\n    }\r\n    _processHandshakeResponse(data) {\r\n        let responseMessage;\r\n        let remainingData;\r\n        try {\r\n            [remainingData, responseMessage] = this._handshakeProtocol.parseHandshakeResponse(data);\r\n        }\r\n        catch (e) {\r\n            const message = \"Error parsing handshake response: \" + e;\r\n            this._logger.log(LogLevel.Error, message);\r\n            const error = new Error(message);\r\n            this._handshakeRejecter(error);\r\n            throw error;\r\n        }\r\n        if (responseMessage.error) {\r\n            const message = \"Server returned handshake error: \" + responseMessage.error;\r\n            this._logger.log(LogLevel.Error, message);\r\n            const error = new Error(message);\r\n            this._handshakeRejecter(error);\r\n            throw error;\r\n        }\r\n        else {\r\n            this._logger.log(LogLevel.Debug, \"Server handshake complete.\");\r\n        }\r\n        this._handshakeResolver();\r\n        return remainingData;\r\n    }\r\n    _resetKeepAliveInterval() {\r\n        if (this.connection.features.inherentKeepAlive) {\r\n            return;\r\n        }\r\n        // Set the time we want the next keep alive to be sent\r\n        // Timer will be setup on next message receive\r\n        this._nextKeepAlive = new Date().getTime() + this.keepAliveIntervalInMilliseconds;\r\n        this._cleanupPingTimer();\r\n    }\r\n    _resetTimeoutPeriod() {\r\n        if (!this.connection.features || !this.connection.features.inherentKeepAlive) {\r\n            // Set the timeout timer\r\n            this._timeoutHandle = setTimeout(() => this.serverTimeout(), this.serverTimeoutInMilliseconds);\r\n            // Set keepAlive timer if there isn't one\r\n            if (this._pingServerHandle === undefined) {\r\n                let nextPing = this._nextKeepAlive - new Date().getTime();\r\n                if (nextPing < 0) {\r\n                    nextPing = 0;\r\n                }\r\n                // The timer needs to be set from a networking callback to avoid Chrome timer throttling from causing timers to run once a minute\r\n                this._pingServerHandle = setTimeout(async () => {\r\n                    if (this._connectionState === HubConnectionState.Connected) {\r\n                        try {\r\n                            await this._sendMessage(this._cachedPingMessage);\r\n                        }\r\n                        catch {\r\n                            // We don't care about the error. It should be seen elsewhere in the client.\r\n                            // The connection is probably in a bad or closed state now, cleanup the timer so it stops triggering\r\n                            this._cleanupPingTimer();\r\n                        }\r\n                    }\r\n                }, nextPing);\r\n            }\r\n        }\r\n    }\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    serverTimeout() {\r\n        // The server hasn't talked to us in a while. It doesn't like us anymore ... :(\r\n        // Terminate the connection, but we don't need to wait on the promise. This could trigger reconnecting.\r\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n        this.connection.stop(new Error(\"Server timeout elapsed without receiving a message from the server.\"));\r\n    }\r\n    async _invokeClientMethod(invocationMessage) {\r\n        const methodName = invocationMessage.target.toLowerCase();\r\n        const methods = this._methods[methodName];\r\n        if (!methods) {\r\n            this._logger.log(LogLevel.Warning, `No client method with the name '${methodName}' found.`);\r\n            // No handlers provided by client but the server is expecting a response still, so we send an error\r\n            if (invocationMessage.invocationId) {\r\n                this._logger.log(LogLevel.Warning, `No result given for '${methodName}' method and invocation ID '${invocationMessage.invocationId}'.`);\r\n                await this._sendWithProtocol(this._createCompletionMessage(invocationMessage.invocationId, \"Client didn't provide a result.\", null));\r\n            }\r\n            return;\r\n        }\r\n        // Avoid issues with handlers removing themselves thus modifying the list while iterating through it\r\n        const methodsCopy = methods.slice();\r\n        // Server expects a response\r\n        const expectsResponse = invocationMessage.invocationId ? true : false;\r\n        // We preserve the last result or exception but still call all handlers\r\n        let res;\r\n        let exception;\r\n        let completionMessage;\r\n        for (const m of methodsCopy) {\r\n            try {\r\n                const prevRes = res;\r\n                res = await m.apply(this, invocationMessage.arguments);\r\n                if (expectsResponse && res && prevRes) {\r\n                    this._logger.log(LogLevel.Error, `Multiple results provided for '${methodName}'. Sending error to server.`);\r\n                    completionMessage = this._createCompletionMessage(invocationMessage.invocationId, `Client provided multiple results.`, null);\r\n                }\r\n                // Ignore exception if we got a result after, the exception will be logged\r\n                exception = undefined;\r\n            }\r\n            catch (e) {\r\n                exception = e;\r\n                this._logger.log(LogLevel.Error, `A callback for the method '${methodName}' threw error '${e}'.`);\r\n            }\r\n        }\r\n        if (completionMessage) {\r\n            await this._sendWithProtocol(completionMessage);\r\n        }\r\n        else if (expectsResponse) {\r\n            // If there is an exception that means either no result was given or a handler after a result threw\r\n            if (exception) {\r\n                completionMessage = this._createCompletionMessage(invocationMessage.invocationId, `${exception}`, null);\r\n            }\r\n            else if (res !== undefined) {\r\n                completionMessage = this._createCompletionMessage(invocationMessage.invocationId, null, res);\r\n            }\r\n            else {\r\n                this._logger.log(LogLevel.Warning, `No result given for '${methodName}' method and invocation ID '${invocationMessage.invocationId}'.`);\r\n                // Client didn't provide a result or throw from a handler, server expects a response so we send an error\r\n                completionMessage = this._createCompletionMessage(invocationMessage.invocationId, \"Client didn't provide a result.\", null);\r\n            }\r\n            await this._sendWithProtocol(completionMessage);\r\n        }\r\n        else {\r\n            if (res) {\r\n                this._logger.log(LogLevel.Error, `Result given for '${methodName}' method but server is not expecting a result.`);\r\n            }\r\n        }\r\n    }\r\n    _connectionClosed(error) {\r\n        this._logger.log(LogLevel.Debug, `HubConnection.connectionClosed(${error}) called while in state ${this._connectionState}.`);\r\n        // Triggering this.handshakeRejecter is insufficient because it could already be resolved without the continuation having run yet.\r\n        this._stopDuringStartError = this._stopDuringStartError || error || new AbortError(\"The underlying connection was closed before the hub handshake could complete.\");\r\n        // If the handshake is in progress, start will be waiting for the handshake promise, so we complete it.\r\n        // If it has already completed, this should just noop.\r\n        if (this._handshakeResolver) {\r\n            this._handshakeResolver();\r\n        }\r\n        this._cancelCallbacksWithError(error || new Error(\"Invocation canceled due to the underlying connection being closed.\"));\r\n        this._cleanupTimeout();\r\n        this._cleanupPingTimer();\r\n        if (this._connectionState === HubConnectionState.Disconnecting) {\r\n            this._completeClose(error);\r\n        }\r\n        else if (this._connectionState === HubConnectionState.Connected && this._reconnectPolicy) {\r\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\r\n            this._reconnect(error);\r\n        }\r\n        else if (this._connectionState === HubConnectionState.Connected) {\r\n            this._completeClose(error);\r\n        }\r\n        // If none of the above if conditions were true were called the HubConnection must be in either:\r\n        // 1. The Connecting state in which case the handshakeResolver will complete it and stopDuringStartError will fail it.\r\n        // 2. The Reconnecting state in which case the handshakeResolver will complete it and stopDuringStartError will fail the current reconnect attempt\r\n        //    and potentially continue the reconnect() loop.\r\n        // 3. The Disconnected state in which case we're already done.\r\n    }\r\n    _completeClose(error) {\r\n        if (this._connectionStarted) {\r\n            this._connectionState = HubConnectionState.Disconnected;\r\n            this._connectionStarted = false;\r\n            if (this._messageBuffer) {\r\n                this._messageBuffer._dispose(error !== null && error !== void 0 ? error : new Error(\"Connection closed.\"));\r\n                this._messageBuffer = undefined;\r\n            }\r\n            if (Platform.isBrowser) {\r\n                window.document.removeEventListener(\"freeze\", this._freezeEventListener);\r\n            }\r\n            try {\r\n                this._closedCallbacks.forEach((c) => c.apply(this, [error]));\r\n            }\r\n            catch (e) {\r\n                this._logger.log(LogLevel.Error, `An onclose callback called with error '${error}' threw error '${e}'.`);\r\n            }\r\n        }\r\n    }\r\n    async _reconnect(error) {\r\n        const reconnectStartTime = Date.now();\r\n        let previousReconnectAttempts = 0;\r\n        let retryError = error !== undefined ? error : new Error(\"Attempting to reconnect due to a unknown error.\");\r\n        let nextRetryDelay = this._getNextRetryDelay(previousReconnectAttempts++, 0, retryError);\r\n        if (nextRetryDelay === null) {\r\n            this._logger.log(LogLevel.Debug, \"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt.\");\r\n            this._completeClose(error);\r\n            return;\r\n        }\r\n        this._connectionState = HubConnectionState.Reconnecting;\r\n        if (error) {\r\n            this._logger.log(LogLevel.Information, `Connection reconnecting because of error '${error}'.`);\r\n        }\r\n        else {\r\n            this._logger.log(LogLevel.Information, \"Connection reconnecting.\");\r\n        }\r\n        if (this._reconnectingCallbacks.length !== 0) {\r\n            try {\r\n                this._reconnectingCallbacks.forEach((c) => c.apply(this, [error]));\r\n            }\r\n            catch (e) {\r\n                this._logger.log(LogLevel.Error, `An onreconnecting callback called with error '${error}' threw error '${e}'.`);\r\n            }\r\n            // Exit early if an onreconnecting callback called connection.stop().\r\n            if (this._connectionState !== HubConnectionState.Reconnecting) {\r\n                this._logger.log(LogLevel.Debug, \"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.\");\r\n                return;\r\n            }\r\n        }\r\n        while (nextRetryDelay !== null) {\r\n            this._logger.log(LogLevel.Information, `Reconnect attempt number ${previousReconnectAttempts} will start in ${nextRetryDelay} ms.`);\r\n            await new Promise((resolve) => {\r\n                this._reconnectDelayHandle = setTimeout(resolve, nextRetryDelay);\r\n            });\r\n            this._reconnectDelayHandle = undefined;\r\n            if (this._connectionState !== HubConnectionState.Reconnecting) {\r\n                this._logger.log(LogLevel.Debug, \"Connection left the reconnecting state during reconnect delay. Done reconnecting.\");\r\n                return;\r\n            }\r\n            try {\r\n                await this._startInternal();\r\n                this._connectionState = HubConnectionState.Connected;\r\n                this._logger.log(LogLevel.Information, \"HubConnection reconnected successfully.\");\r\n                if (this._reconnectedCallbacks.length !== 0) {\r\n                    try {\r\n                        this._reconnectedCallbacks.forEach((c) => c.apply(this, [this.connection.connectionId]));\r\n                    }\r\n                    catch (e) {\r\n                        this._logger.log(LogLevel.Error, `An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${e}'.`);\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n            catch (e) {\r\n                this._logger.log(LogLevel.Information, `Reconnect attempt failed because of error '${e}'.`);\r\n                if (this._connectionState !== HubConnectionState.Reconnecting) {\r\n                    this._logger.log(LogLevel.Debug, `Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`);\r\n                    // The TypeScript compiler thinks that connectionState must be Connected here. The TypeScript compiler is wrong.\r\n                    if (this._connectionState === HubConnectionState.Disconnecting) {\r\n                        this._completeClose();\r\n                    }\r\n                    return;\r\n                }\r\n                retryError = e instanceof Error ? e : new Error(e.toString());\r\n                nextRetryDelay = this._getNextRetryDelay(previousReconnectAttempts++, Date.now() - reconnectStartTime, retryError);\r\n            }\r\n        }\r\n        this._logger.log(LogLevel.Information, `Reconnect retries have been exhausted after ${Date.now() - reconnectStartTime} ms and ${previousReconnectAttempts} failed attempts. Connection disconnecting.`);\r\n        this._completeClose();\r\n    }\r\n    _getNextRetryDelay(previousRetryCount, elapsedMilliseconds, retryReason) {\r\n        try {\r\n            return this._reconnectPolicy.nextRetryDelayInMilliseconds({\r\n                elapsedMilliseconds,\r\n                previousRetryCount,\r\n                retryReason,\r\n            });\r\n        }\r\n        catch (e) {\r\n            this._logger.log(LogLevel.Error, `IRetryPolicy.nextRetryDelayInMilliseconds(${previousRetryCount}, ${elapsedMilliseconds}) threw error '${e}'.`);\r\n            return null;\r\n        }\r\n    }\r\n    _cancelCallbacksWithError(error) {\r\n        const callbacks = this._callbacks;\r\n        this._callbacks = {};\r\n        Object.keys(callbacks)\r\n            .forEach((key) => {\r\n            const callback = callbacks[key];\r\n            try {\r\n                callback(null, error);\r\n            }\r\n            catch (e) {\r\n                this._logger.log(LogLevel.Error, `Stream 'error' callback called with '${error}' threw error: ${getErrorString(e)}`);\r\n            }\r\n        });\r\n    }\r\n    _cleanupPingTimer() {\r\n        if (this._pingServerHandle) {\r\n            clearTimeout(this._pingServerHandle);\r\n            this._pingServerHandle = undefined;\r\n        }\r\n    }\r\n    _cleanupTimeout() {\r\n        if (this._timeoutHandle) {\r\n            clearTimeout(this._timeoutHandle);\r\n        }\r\n    }\r\n    _createInvocation(methodName, args, nonblocking, streamIds) {\r\n        if (nonblocking) {\r\n            if (streamIds.length !== 0) {\r\n                return {\r\n                    arguments: args,\r\n                    streamIds,\r\n                    target: methodName,\r\n                    type: MessageType.Invocation,\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    arguments: args,\r\n                    target: methodName,\r\n                    type: MessageType.Invocation,\r\n                };\r\n            }\r\n        }\r\n        else {\r\n            const invocationId = this._invocationId;\r\n            this._invocationId++;\r\n            if (streamIds.length !== 0) {\r\n                return {\r\n                    arguments: args,\r\n                    invocationId: invocationId.toString(),\r\n                    streamIds,\r\n                    target: methodName,\r\n                    type: MessageType.Invocation,\r\n                };\r\n            }\r\n            else {\r\n                return {\r\n                    arguments: args,\r\n                    invocationId: invocationId.toString(),\r\n                    target: methodName,\r\n                    type: MessageType.Invocation,\r\n                };\r\n            }\r\n        }\r\n    }\r\n    _launchStreams(streams, promiseQueue) {\r\n        if (streams.length === 0) {\r\n            return;\r\n        }\r\n        // Synchronize stream data so they arrive in-order on the server\r\n        if (!promiseQueue) {\r\n            promiseQueue = Promise.resolve();\r\n        }\r\n        // We want to iterate over the keys, since the keys are the stream ids\r\n        // eslint-disable-next-line guard-for-in\r\n        for (const streamId in streams) {\r\n            streams[streamId].subscribe({\r\n                complete: () => {\r\n                    promiseQueue = promiseQueue.then(() => this._sendWithProtocol(this._createCompletionMessage(streamId)));\r\n                },\r\n                error: (err) => {\r\n                    let message;\r\n                    if (err instanceof Error) {\r\n                        message = err.message;\r\n                    }\r\n                    else if (err && err.toString) {\r\n                        message = err.toString();\r\n                    }\r\n                    else {\r\n                        message = \"Unknown error\";\r\n                    }\r\n                    promiseQueue = promiseQueue.then(() => this._sendWithProtocol(this._createCompletionMessage(streamId, message)));\r\n                },\r\n                next: (item) => {\r\n                    promiseQueue = promiseQueue.then(() => this._sendWithProtocol(this._createStreamItemMessage(streamId, item)));\r\n                },\r\n            });\r\n        }\r\n    }\r\n    _replaceStreamingParams(args) {\r\n        const streams = [];\r\n        const streamIds = [];\r\n        for (let i = 0; i < args.length; i++) {\r\n            const argument = args[i];\r\n            if (this._isObservable(argument)) {\r\n                const streamId = this._invocationId;\r\n                this._invocationId++;\r\n                // Store the stream for later use\r\n                streams[streamId] = argument;\r\n                streamIds.push(streamId.toString());\r\n                // remove stream from args\r\n                args.splice(i, 1);\r\n            }\r\n        }\r\n        return [streams, streamIds];\r\n    }\r\n    _isObservable(arg) {\r\n        // This allows other stream implementations to just work (like rxjs)\r\n        return arg && arg.subscribe && typeof arg.subscribe === \"function\";\r\n    }\r\n    _createStreamInvocation(methodName, args, streamIds) {\r\n        const invocationId = this._invocationId;\r\n        this._invocationId++;\r\n        if (streamIds.length !== 0) {\r\n            return {\r\n                arguments: args,\r\n                invocationId: invocationId.toString(),\r\n                streamIds,\r\n                target: methodName,\r\n                type: MessageType.StreamInvocation,\r\n            };\r\n        }\r\n        else {\r\n            return {\r\n                arguments: args,\r\n                invocationId: invocationId.toString(),\r\n                target: methodName,\r\n                type: MessageType.StreamInvocation,\r\n            };\r\n        }\r\n    }\r\n    _createCancelInvocation(id) {\r\n        return {\r\n            invocationId: id,\r\n            type: MessageType.CancelInvocation,\r\n        };\r\n    }\r\n    _createStreamItemMessage(id, item) {\r\n        return {\r\n            invocationId: id,\r\n            item,\r\n            type: MessageType.StreamItem,\r\n        };\r\n    }\r\n    _createCompletionMessage(id, error, result) {\r\n        if (error) {\r\n            return {\r\n                error,\r\n                invocationId: id,\r\n                type: MessageType.Completion,\r\n            };\r\n        }\r\n        return {\r\n            invocationId: id,\r\n            result,\r\n            type: MessageType.Completion,\r\n        };\r\n    }\r\n    _createCloseMessage() {\r\n        return { type: MessageType.Close };\r\n    }\r\n}\r\n//# sourceMappingURL=HubConnection.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n// 0, 2, 10, 30 second delays before reconnect attempts.\r\nconst DEFAULT_RETRY_DELAYS_IN_MILLISECONDS = [0, 2000, 10000, 30000, null];\r\n/** @private */\r\nexport class DefaultReconnectPolicy {\r\n    constructor(retryDelays) {\r\n        this._retryDelays = retryDelays !== undefined ? [...retryDelays, null] : DEFAULT_RETRY_DELAYS_IN_MILLISECONDS;\r\n    }\r\n    nextRetryDelayInMilliseconds(retryContext) {\r\n        return this._retryDelays[retryContext.previousRetryCount];\r\n    }\r\n}\r\n//# sourceMappingURL=DefaultReconnectPolicy.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nexport class HeaderNames {\r\n}\r\nHeaderNames.Authorization = \"Authorization\";\r\nHeaderNames.Cookie = \"Cookie\";\r\n//# sourceMappingURL=HeaderNames.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { HeaderNames } from \"./HeaderNames\";\r\nimport { HttpClient } from \"./HttpClient\";\r\n/** @private */\r\nexport class AccessTokenHttpClient extends HttpClient {\r\n    constructor(innerClient, accessTokenFactory) {\r\n        super();\r\n        this._innerClient = innerClient;\r\n        this._accessTokenFactory = accessTokenFactory;\r\n    }\r\n    async send(request) {\r\n        let allowRetry = true;\r\n        if (this._accessTokenFactory && (!this._accessToken || (request.url && request.url.indexOf(\"/negotiate?\") > 0))) {\r\n            // don't retry if the request is a negotiate or if we just got a potentially new token from the access token factory\r\n            allowRetry = false;\r\n            this._accessToken = await this._accessTokenFactory();\r\n        }\r\n        this._setAuthorizationHeader(request);\r\n        const response = await this._innerClient.send(request);\r\n        if (allowRetry && response.statusCode === 401 && this._accessTokenFactory) {\r\n            this._accessToken = await this._accessTokenFactory();\r\n            this._setAuthorizationHeader(request);\r\n            return await this._innerClient.send(request);\r\n        }\r\n        return response;\r\n    }\r\n    _setAuthorizationHeader(request) {\r\n        if (!request.headers) {\r\n            request.headers = {};\r\n        }\r\n        if (this._accessToken) {\r\n            request.headers[HeaderNames.Authorization] = `Bearer ${this._accessToken}`;\r\n        }\r\n        // don't remove the header if there isn't an access token factory, the user manually added the header in this case\r\n        else if (this._accessTokenFactory) {\r\n            if (request.headers[HeaderNames.Authorization]) {\r\n                delete request.headers[HeaderNames.Authorization];\r\n            }\r\n        }\r\n    }\r\n    getCookieString(url) {\r\n        return this._innerClient.getCookieString(url);\r\n    }\r\n}\r\n//# sourceMappingURL=AccessTokenHttpClient.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n// This will be treated as a bit flag in the future, so we keep it using power-of-two values.\r\n/** Specifies a specific HTTP transport type. */\r\nexport var HttpTransportType;\r\n(function (HttpTransportType) {\r\n    /** Specifies no transport preference. */\r\n    HttpTransportType[HttpTransportType[\"None\"] = 0] = \"None\";\r\n    /** Specifies the WebSockets transport. */\r\n    HttpTransportType[HttpTransportType[\"WebSockets\"] = 1] = \"WebSockets\";\r\n    /** Specifies the Server-Sent Events transport. */\r\n    HttpTransportType[HttpTransportType[\"ServerSentEvents\"] = 2] = \"ServerSentEvents\";\r\n    /** Specifies the Long Polling transport. */\r\n    HttpTransportType[HttpTransportType[\"LongPolling\"] = 4] = \"LongPolling\";\r\n})(HttpTransportType || (HttpTransportType = {}));\r\n/** Specifies the transfer format for a connection. */\r\nexport var TransferFormat;\r\n(function (TransferFormat) {\r\n    /** Specifies that only text data will be transmitted over the connection. */\r\n    TransferFormat[TransferFormat[\"Text\"] = 1] = \"Text\";\r\n    /** Specifies that binary data will be transmitted over the connection. */\r\n    TransferFormat[TransferFormat[\"Binary\"] = 2] = \"Binary\";\r\n})(TransferFormat || (TransferFormat = {}));\r\n//# sourceMappingURL=ITransport.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\n// Rough polyfill of https://developer.mozilla.org/en-US/docs/Web/API/AbortController\r\n// We don't actually ever use the API being polyfilled, we always use the polyfill because\r\n// it's a very new API right now.\r\n// Not exported from index.\r\n/** @private */\r\nexport class AbortController {\r\n    constructor() {\r\n        this._isAborted = false;\r\n        this.onabort = null;\r\n    }\r\n    abort() {\r\n        if (!this._isAborted) {\r\n            this._isAborted = true;\r\n            if (this.onabort) {\r\n                this.onabort();\r\n            }\r\n        }\r\n    }\r\n    get signal() {\r\n        return this;\r\n    }\r\n    get aborted() {\r\n        return this._isAborted;\r\n    }\r\n}\r\n//# sourceMappingURL=AbortController.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { AbortController } from \"./AbortController\";\r\nimport { HttpError, TimeoutError } from \"./Errors\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { TransferFormat } from \"./ITransport\";\r\nimport { Arg, getDataDetail, getUserAgentHeader, sendMessage } from \"./Utils\";\r\n// Not exported from 'index', this type is internal.\r\n/** @private */\r\nexport class LongPollingTransport {\r\n    // This is an internal type, not exported from 'index' so this is really just internal.\r\n    get pollAborted() {\r\n        return this._pollAbort.aborted;\r\n    }\r\n    constructor(httpClient, logger, options) {\r\n        this._httpClient = httpClient;\r\n        this._logger = logger;\r\n        this._pollAbort = new AbortController();\r\n        this._options = options;\r\n        this._running = false;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n    }\r\n    async connect(url, transferFormat) {\r\n        Arg.isRequired(url, \"url\");\r\n        Arg.isRequired(transferFormat, \"transferFormat\");\r\n        Arg.isIn(transferFormat, TransferFormat, \"transferFormat\");\r\n        this._url = url;\r\n        this._logger.log(LogLevel.Trace, \"(LongPolling transport) Connecting.\");\r\n        // Allow binary format on Node and Browsers that support binary content (indicated by the presence of responseType property)\r\n        if (transferFormat === TransferFormat.Binary &&\r\n            (typeof XMLHttpRequest !== \"undefined\" && typeof new XMLHttpRequest().responseType !== \"string\")) {\r\n            throw new Error(\"Binary protocols over XmlHttpRequest not implementing advanced features are not supported.\");\r\n        }\r\n        const [name, value] = getUserAgentHeader();\r\n        const headers = { [name]: value, ...this._options.headers };\r\n        const pollOptions = {\r\n            abortSignal: this._pollAbort.signal,\r\n            headers,\r\n            timeout: 100000,\r\n            withCredentials: this._options.withCredentials,\r\n        };\r\n        if (transferFormat === TransferFormat.Binary) {\r\n            pollOptions.responseType = \"arraybuffer\";\r\n        }\r\n        // Make initial long polling request\r\n        // Server uses first long polling request to finish initializing connection and it returns without data\r\n        const pollUrl = `${url}&_=${Date.now()}`;\r\n        this._logger.log(LogLevel.Trace, `(LongPolling transport) polling: ${pollUrl}.`);\r\n        const response = await this._httpClient.get(pollUrl, pollOptions);\r\n        if (response.statusCode !== 200) {\r\n            this._logger.log(LogLevel.Error, `(LongPolling transport) Unexpected response code: ${response.statusCode}.`);\r\n            // Mark running as false so that the poll immediately ends and runs the close logic\r\n            this._closeError = new HttpError(response.statusText || \"\", response.statusCode);\r\n            this._running = false;\r\n        }\r\n        else {\r\n            this._running = true;\r\n        }\r\n        this._receiving = this._poll(this._url, pollOptions);\r\n    }\r\n    async _poll(url, pollOptions) {\r\n        try {\r\n            while (this._running) {\r\n                try {\r\n                    const pollUrl = `${url}&_=${Date.now()}`;\r\n                    this._logger.log(LogLevel.Trace, `(LongPolling transport) polling: ${pollUrl}.`);\r\n                    const response = await this._httpClient.get(pollUrl, pollOptions);\r\n                    if (response.statusCode === 204) {\r\n                        this._logger.log(LogLevel.Information, \"(LongPolling transport) Poll terminated by server.\");\r\n                        this._running = false;\r\n                    }\r\n                    else if (response.statusCode !== 200) {\r\n                        this._logger.log(LogLevel.Error, `(LongPolling transport) Unexpected response code: ${response.statusCode}.`);\r\n                        // Unexpected status code\r\n                        this._closeError = new HttpError(response.statusText || \"\", response.statusCode);\r\n                        this._running = false;\r\n                    }\r\n                    else {\r\n                        // Process the response\r\n                        if (response.content) {\r\n                            this._logger.log(LogLevel.Trace, `(LongPolling transport) data received. ${getDataDetail(response.content, this._options.logMessageContent)}.`);\r\n                            if (this.onreceive) {\r\n                                this.onreceive(response.content);\r\n                            }\r\n                        }\r\n                        else {\r\n                            // This is another way timeout manifest.\r\n                            this._logger.log(LogLevel.Trace, \"(LongPolling transport) Poll timed out, reissuing.\");\r\n                        }\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    if (!this._running) {\r\n                        // Log but disregard errors that occur after stopping\r\n                        this._logger.log(LogLevel.Trace, `(LongPolling transport) Poll errored after shutdown: ${e.message}`);\r\n                    }\r\n                    else {\r\n                        if (e instanceof TimeoutError) {\r\n                            // Ignore timeouts and reissue the poll.\r\n                            this._logger.log(LogLevel.Trace, \"(LongPolling transport) Poll timed out, reissuing.\");\r\n                        }\r\n                        else {\r\n                            // Close the connection with the error as the result.\r\n                            this._closeError = e;\r\n                            this._running = false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        finally {\r\n            this._logger.log(LogLevel.Trace, \"(LongPolling transport) Polling complete.\");\r\n            // We will reach here with pollAborted==false when the server returned a response causing the transport to stop.\r\n            // If pollAborted==true then client initiated the stop and the stop method will raise the close event after DELETE is sent.\r\n            if (!this.pollAborted) {\r\n                this._raiseOnClose();\r\n            }\r\n        }\r\n    }\r\n    async send(data) {\r\n        if (!this._running) {\r\n            return Promise.reject(new Error(\"Cannot send until the transport is connected\"));\r\n        }\r\n        return sendMessage(this._logger, \"LongPolling\", this._httpClient, this._url, data, this._options);\r\n    }\r\n    async stop() {\r\n        this._logger.log(LogLevel.Trace, \"(LongPolling transport) Stopping polling.\");\r\n        // Tell receiving loop to stop, abort any current request, and then wait for it to finish\r\n        this._running = false;\r\n        this._pollAbort.abort();\r\n        try {\r\n            await this._receiving;\r\n            // Send DELETE to clean up long polling on the server\r\n            this._logger.log(LogLevel.Trace, `(LongPolling transport) sending DELETE request to ${this._url}.`);\r\n            const headers = {};\r\n            const [name, value] = getUserAgentHeader();\r\n            headers[name] = value;\r\n            const deleteOptions = {\r\n                headers: { ...headers, ...this._options.headers },\r\n                timeout: this._options.timeout,\r\n                withCredentials: this._options.withCredentials,\r\n            };\r\n            let error;\r\n            try {\r\n                await this._httpClient.delete(this._url, deleteOptions);\r\n            }\r\n            catch (err) {\r\n                error = err;\r\n            }\r\n            if (error) {\r\n                if (error instanceof HttpError) {\r\n                    if (error.statusCode === 404) {\r\n                        this._logger.log(LogLevel.Trace, \"(LongPolling transport) A 404 response was returned from sending a DELETE request.\");\r\n                    }\r\n                    else {\r\n                        this._logger.log(LogLevel.Trace, `(LongPolling transport) Error sending a DELETE request: ${error}`);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this._logger.log(LogLevel.Trace, \"(LongPolling transport) DELETE request accepted.\");\r\n            }\r\n        }\r\n        finally {\r\n            this._logger.log(LogLevel.Trace, \"(LongPolling transport) Stop finished.\");\r\n            // Raise close event here instead of in polling\r\n            // It needs to happen after the DELETE request is sent\r\n            this._raiseOnClose();\r\n        }\r\n    }\r\n    _raiseOnClose() {\r\n        if (this.onclose) {\r\n            let logMessage = \"(LongPolling transport) Firing onclose event.\";\r\n            if (this._closeError) {\r\n                logMessage += \" Error: \" + this._closeError;\r\n            }\r\n            this._logger.log(LogLevel.Trace, logMessage);\r\n            this.onclose(this._closeError);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=LongPollingTransport.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { TransferFormat } from \"./ITransport\";\r\nimport { Arg, getDataDetail, getUserAgentHeader, Platform, sendMessage } from \"./Utils\";\r\n/** @private */\r\nexport class ServerSentEventsTransport {\r\n    constructor(httpClient, accessToken, logger, options) {\r\n        this._httpClient = httpClient;\r\n        this._accessToken = accessToken;\r\n        this._logger = logger;\r\n        this._options = options;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n    }\r\n    async connect(url, transferFormat) {\r\n        Arg.isRequired(url, \"url\");\r\n        Arg.isRequired(transferFormat, \"transferFormat\");\r\n        Arg.isIn(transferFormat, TransferFormat, \"transferFormat\");\r\n        this._logger.log(LogLevel.Trace, \"(SSE transport) Connecting.\");\r\n        // set url before accessTokenFactory because this._url is only for send and we set the auth header instead of the query string for send\r\n        this._url = url;\r\n        if (this._accessToken) {\r\n            url += (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + `access_token=${encodeURIComponent(this._accessToken)}`;\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            let opened = false;\r\n            if (transferFormat !== TransferFormat.Text) {\r\n                reject(new Error(\"The Server-Sent Events transport only supports the 'Text' transfer format\"));\r\n                return;\r\n            }\r\n            let eventSource;\r\n            if (Platform.isBrowser || Platform.isWebWorker) {\r\n                eventSource = new this._options.EventSource(url, { withCredentials: this._options.withCredentials });\r\n            }\r\n            else {\r\n                // Non-browser passes cookies via the dictionary\r\n                const cookies = this._httpClient.getCookieString(url);\r\n                const headers = {};\r\n                headers.Cookie = cookies;\r\n                const [name, value] = getUserAgentHeader();\r\n                headers[name] = value;\r\n                eventSource = new this._options.EventSource(url, { withCredentials: this._options.withCredentials, headers: { ...headers, ...this._options.headers } });\r\n            }\r\n            try {\r\n                eventSource.onmessage = (e) => {\r\n                    if (this.onreceive) {\r\n                        try {\r\n                            this._logger.log(LogLevel.Trace, `(SSE transport) data received. ${getDataDetail(e.data, this._options.logMessageContent)}.`);\r\n                            this.onreceive(e.data);\r\n                        }\r\n                        catch (error) {\r\n                            this._close(error);\r\n                            return;\r\n                        }\r\n                    }\r\n                };\r\n                // @ts-ignore: not using event on purpose\r\n                eventSource.onerror = (e) => {\r\n                    // EventSource doesn't give any useful information about server side closes.\r\n                    if (opened) {\r\n                        this._close();\r\n                    }\r\n                    else {\r\n                        reject(new Error(\"EventSource failed to connect. The connection could not be found on the server,\"\r\n                            + \" either the connection ID is not present on the server, or a proxy is refusing/buffering the connection.\"\r\n                            + \" If you have multiple servers check that sticky sessions are enabled.\"));\r\n                    }\r\n                };\r\n                eventSource.onopen = () => {\r\n                    this._logger.log(LogLevel.Information, `SSE connected to ${this._url}`);\r\n                    this._eventSource = eventSource;\r\n                    opened = true;\r\n                    resolve();\r\n                };\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n                return;\r\n            }\r\n        });\r\n    }\r\n    async send(data) {\r\n        if (!this._eventSource) {\r\n            return Promise.reject(new Error(\"Cannot send until the transport is connected\"));\r\n        }\r\n        return sendMessage(this._logger, \"SSE\", this._httpClient, this._url, data, this._options);\r\n    }\r\n    stop() {\r\n        this._close();\r\n        return Promise.resolve();\r\n    }\r\n    _close(e) {\r\n        if (this._eventSource) {\r\n            this._eventSource.close();\r\n            this._eventSource = undefined;\r\n            if (this.onclose) {\r\n                this.onclose(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=ServerSentEventsTransport.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { HeaderNames } from \"./HeaderNames\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { TransferFormat } from \"./ITransport\";\r\nimport { Arg, getDataDetail, getUserAgentHeader, Platform } from \"./Utils\";\r\n/** @private */\r\nexport class WebSocketTransport {\r\n    constructor(httpClient, accessTokenFactory, logger, logMessageContent, webSocketConstructor, headers) {\r\n        this._logger = logger;\r\n        this._accessTokenFactory = accessTokenFactory;\r\n        this._logMessageContent = logMessageContent;\r\n        this._webSocketConstructor = webSocketConstructor;\r\n        this._httpClient = httpClient;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n        this._headers = headers;\r\n    }\r\n    async connect(url, transferFormat) {\r\n        Arg.isRequired(url, \"url\");\r\n        Arg.isRequired(transferFormat, \"transferFormat\");\r\n        Arg.isIn(transferFormat, TransferFormat, \"transferFormat\");\r\n        this._logger.log(LogLevel.Trace, \"(WebSockets transport) Connecting.\");\r\n        let token;\r\n        if (this._accessTokenFactory) {\r\n            token = await this._accessTokenFactory();\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            url = url.replace(/^http/, \"ws\");\r\n            let webSocket;\r\n            const cookies = this._httpClient.getCookieString(url);\r\n            let opened = false;\r\n            if (Platform.isNode || Platform.isReactNative) {\r\n                const headers = {};\r\n                const [name, value] = getUserAgentHeader();\r\n                headers[name] = value;\r\n                if (token) {\r\n                    headers[HeaderNames.Authorization] = `Bearer ${token}`;\r\n                }\r\n                if (cookies) {\r\n                    headers[HeaderNames.Cookie] = cookies;\r\n                }\r\n                // Only pass headers when in non-browser environments\r\n                webSocket = new this._webSocketConstructor(url, undefined, {\r\n                    headers: { ...headers, ...this._headers },\r\n                });\r\n            }\r\n            else {\r\n                if (token) {\r\n                    url += (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + `access_token=${encodeURIComponent(token)}`;\r\n                }\r\n            }\r\n            if (!webSocket) {\r\n                // Chrome is not happy with passing 'undefined' as protocol\r\n                webSocket = new this._webSocketConstructor(url);\r\n            }\r\n            if (transferFormat === TransferFormat.Binary) {\r\n                webSocket.binaryType = \"arraybuffer\";\r\n            }\r\n            webSocket.onopen = (_event) => {\r\n                this._logger.log(LogLevel.Information, `WebSocket connected to ${url}.`);\r\n                this._webSocket = webSocket;\r\n                opened = true;\r\n                resolve();\r\n            };\r\n            webSocket.onerror = (event) => {\r\n                let error = null;\r\n                // ErrorEvent is a browser only type we need to check if the type exists before using it\r\n                if (typeof ErrorEvent !== \"undefined\" && event instanceof ErrorEvent) {\r\n                    error = event.error;\r\n                }\r\n                else {\r\n                    error = \"There was an error with the transport\";\r\n                }\r\n                this._logger.log(LogLevel.Information, `(WebSockets transport) ${error}.`);\r\n            };\r\n            webSocket.onmessage = (message) => {\r\n                this._logger.log(LogLevel.Trace, `(WebSockets transport) data received. ${getDataDetail(message.data, this._logMessageContent)}.`);\r\n                if (this.onreceive) {\r\n                    try {\r\n                        this.onreceive(message.data);\r\n                    }\r\n                    catch (error) {\r\n                        this._close(error);\r\n                        return;\r\n                    }\r\n                }\r\n            };\r\n            webSocket.onclose = (event) => {\r\n                // Don't call close handler if connection was never established\r\n                // We'll reject the connect call instead\r\n                if (opened) {\r\n                    this._close(event);\r\n                }\r\n                else {\r\n                    let error = null;\r\n                    // ErrorEvent is a browser only type we need to check if the type exists before using it\r\n                    if (typeof ErrorEvent !== \"undefined\" && event instanceof ErrorEvent) {\r\n                        error = event.error;\r\n                    }\r\n                    else {\r\n                        error = \"WebSocket failed to connect. The connection could not be found on the server,\"\r\n                            + \" either the endpoint may not be a SignalR endpoint,\"\r\n                            + \" the connection ID is not present on the server, or there is a proxy blocking WebSockets.\"\r\n                            + \" If you have multiple servers check that sticky sessions are enabled.\";\r\n                    }\r\n                    reject(new Error(error));\r\n                }\r\n            };\r\n        });\r\n    }\r\n    send(data) {\r\n        if (this._webSocket && this._webSocket.readyState === this._webSocketConstructor.OPEN) {\r\n            this._logger.log(LogLevel.Trace, `(WebSockets transport) sending data. ${getDataDetail(data, this._logMessageContent)}.`);\r\n            this._webSocket.send(data);\r\n            return Promise.resolve();\r\n        }\r\n        return Promise.reject(\"WebSocket is not in the OPEN state\");\r\n    }\r\n    stop() {\r\n        if (this._webSocket) {\r\n            // Manually invoke onclose callback inline so we know the HttpConnection was closed properly before returning\r\n            // This also solves an issue where websocket.onclose could take 18+ seconds to trigger during network disconnects\r\n            this._close(undefined);\r\n        }\r\n        return Promise.resolve();\r\n    }\r\n    _close(event) {\r\n        // webSocket will be null if the transport did not start successfully\r\n        if (this._webSocket) {\r\n            // Clear websocket handlers because we are considering the socket closed now\r\n            this._webSocket.onclose = () => { };\r\n            this._webSocket.onmessage = () => { };\r\n            this._webSocket.onerror = () => { };\r\n            this._webSocket.close();\r\n            this._webSocket = undefined;\r\n        }\r\n        this._logger.log(LogLevel.Trace, \"(WebSockets transport) socket closed.\");\r\n        if (this.onclose) {\r\n            if (this._isCloseEvent(event) && (event.wasClean === false || event.code !== 1000)) {\r\n                this.onclose(new Error(`WebSocket closed with status code: ${event.code} (${event.reason || \"no reason given\"}).`));\r\n            }\r\n            else if (event instanceof Error) {\r\n                this.onclose(event);\r\n            }\r\n            else {\r\n                this.onclose();\r\n            }\r\n        }\r\n    }\r\n    _isCloseEvent(event) {\r\n        return event && typeof event.wasClean === \"boolean\" && typeof event.code === \"number\";\r\n    }\r\n}\r\n//# sourceMappingURL=WebSocketTransport.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { AccessTokenHttpClient } from \"./AccessTokenHttpClient\";\r\nimport { DefaultHttpClient } from \"./DefaultHttpClient\";\r\nimport { AggregateErrors, DisabledTransportError, FailedToNegotiateWithServerError, FailedToStartTransportError, HttpError, UnsupportedTransportError, AbortError } from \"./Errors\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { HttpTransportType, TransferFormat } from \"./ITransport\";\r\nimport { LongPollingTransport } from \"./LongPollingTransport\";\r\nimport { ServerSentEventsTransport } from \"./ServerSentEventsTransport\";\r\nimport { Arg, createLogger, getUserAgentHeader, Platform } from \"./Utils\";\r\nimport { WebSocketTransport } from \"./WebSocketTransport\";\r\nconst MAX_REDIRECTS = 100;\r\n/** @private */\r\nexport class HttpConnection {\r\n    constructor(url, options = {}) {\r\n        this._stopPromiseResolver = () => { };\r\n        this.features = {};\r\n        this._negotiateVersion = 1;\r\n        Arg.isRequired(url, \"url\");\r\n        this._logger = createLogger(options.logger);\r\n        this.baseUrl = this._resolveUrl(url);\r\n        options = options || {};\r\n        options.logMessageContent = options.logMessageContent === undefined ? false : options.logMessageContent;\r\n        if (typeof options.withCredentials === \"boolean\" || options.withCredentials === undefined) {\r\n            options.withCredentials = options.withCredentials === undefined ? true : options.withCredentials;\r\n        }\r\n        else {\r\n            throw new Error(\"withCredentials option was not a 'boolean' or 'undefined' value\");\r\n        }\r\n        options.timeout = options.timeout === undefined ? 100 * 1000 : options.timeout;\r\n        let webSocketModule = null;\r\n        let eventSourceModule = null;\r\n        if (Platform.isNode && typeof require !== \"undefined\") {\r\n            // In order to ignore the dynamic require in webpack builds we need to do this magic\r\n            // @ts-ignore: TS doesn't know about these names\r\n            const requireFunc = typeof __webpack_require__ === \"function\" ? __non_webpack_require__ : require;\r\n            webSocketModule = requireFunc(\"ws\");\r\n            eventSourceModule = requireFunc(\"eventsource\");\r\n        }\r\n        if (!Platform.isNode && typeof WebSocket !== \"undefined\" && !options.WebSocket) {\r\n            options.WebSocket = WebSocket;\r\n        }\r\n        else if (Platform.isNode && !options.WebSocket) {\r\n            if (webSocketModule) {\r\n                options.WebSocket = webSocketModule;\r\n            }\r\n        }\r\n        if (!Platform.isNode && typeof EventSource !== \"undefined\" && !options.EventSource) {\r\n            options.EventSource = EventSource;\r\n        }\r\n        else if (Platform.isNode && !options.EventSource) {\r\n            if (typeof eventSourceModule !== \"undefined\") {\r\n                options.EventSource = eventSourceModule;\r\n            }\r\n        }\r\n        this._httpClient = new AccessTokenHttpClient(options.httpClient || new DefaultHttpClient(this._logger), options.accessTokenFactory);\r\n        this._connectionState = \"Disconnected\" /* ConnectionState.Disconnected */;\r\n        this._connectionStarted = false;\r\n        this._options = options;\r\n        this.onreceive = null;\r\n        this.onclose = null;\r\n    }\r\n    async start(transferFormat) {\r\n        transferFormat = transferFormat || TransferFormat.Binary;\r\n        Arg.isIn(transferFormat, TransferFormat, \"transferFormat\");\r\n        this._logger.log(LogLevel.Debug, `Starting connection with transfer format '${TransferFormat[transferFormat]}'.`);\r\n        if (this._connectionState !== \"Disconnected\" /* ConnectionState.Disconnected */) {\r\n            return Promise.reject(new Error(\"Cannot start an HttpConnection that is not in the 'Disconnected' state.\"));\r\n        }\r\n        this._connectionState = \"Connecting\" /* ConnectionState.Connecting */;\r\n        this._startInternalPromise = this._startInternal(transferFormat);\r\n        await this._startInternalPromise;\r\n        // The TypeScript compiler thinks that connectionState must be Connecting here. The TypeScript compiler is wrong.\r\n        if (this._connectionState === \"Disconnecting\" /* ConnectionState.Disconnecting */) {\r\n            // stop() was called and transitioned the client into the Disconnecting state.\r\n            const message = \"Failed to start the HttpConnection before stop() was called.\";\r\n            this._logger.log(LogLevel.Error, message);\r\n            // We cannot await stopPromise inside startInternal since stopInternal awaits the startInternalPromise.\r\n            await this._stopPromise;\r\n            return Promise.reject(new AbortError(message));\r\n        }\r\n        else if (this._connectionState !== \"Connected\" /* ConnectionState.Connected */) {\r\n            // stop() was called and transitioned the client into the Disconnecting state.\r\n            const message = \"HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!\";\r\n            this._logger.log(LogLevel.Error, message);\r\n            return Promise.reject(new AbortError(message));\r\n        }\r\n        this._connectionStarted = true;\r\n    }\r\n    send(data) {\r\n        if (this._connectionState !== \"Connected\" /* ConnectionState.Connected */) {\r\n            return Promise.reject(new Error(\"Cannot send data if the connection is not in the 'Connected' State.\"));\r\n        }\r\n        if (!this._sendQueue) {\r\n            this._sendQueue = new TransportSendQueue(this.transport);\r\n        }\r\n        // Transport will not be null if state is connected\r\n        return this._sendQueue.send(data);\r\n    }\r\n    async stop(error) {\r\n        if (this._connectionState === \"Disconnected\" /* ConnectionState.Disconnected */) {\r\n            this._logger.log(LogLevel.Debug, `Call to HttpConnection.stop(${error}) ignored because the connection is already in the disconnected state.`);\r\n            return Promise.resolve();\r\n        }\r\n        if (this._connectionState === \"Disconnecting\" /* ConnectionState.Disconnecting */) {\r\n            this._logger.log(LogLevel.Debug, `Call to HttpConnection.stop(${error}) ignored because the connection is already in the disconnecting state.`);\r\n            return this._stopPromise;\r\n        }\r\n        this._connectionState = \"Disconnecting\" /* ConnectionState.Disconnecting */;\r\n        this._stopPromise = new Promise((resolve) => {\r\n            // Don't complete stop() until stopConnection() completes.\r\n            this._stopPromiseResolver = resolve;\r\n        });\r\n        // stopInternal should never throw so just observe it.\r\n        await this._stopInternal(error);\r\n        await this._stopPromise;\r\n    }\r\n    async _stopInternal(error) {\r\n        // Set error as soon as possible otherwise there is a race between\r\n        // the transport closing and providing an error and the error from a close message\r\n        // We would prefer the close message error.\r\n        this._stopError = error;\r\n        try {\r\n            await this._startInternalPromise;\r\n        }\r\n        catch (e) {\r\n            // This exception is returned to the user as a rejected Promise from the start method.\r\n        }\r\n        // The transport's onclose will trigger stopConnection which will run our onclose event.\r\n        // The transport should always be set if currently connected. If it wasn't set, it's likely because\r\n        // stop was called during start() and start() failed.\r\n        if (this.transport) {\r\n            try {\r\n                await this.transport.stop();\r\n            }\r\n            catch (e) {\r\n                this._logger.log(LogLevel.Error, `HttpConnection.transport.stop() threw error '${e}'.`);\r\n                this._stopConnection();\r\n            }\r\n            this.transport = undefined;\r\n        }\r\n        else {\r\n            this._logger.log(LogLevel.Debug, \"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.\");\r\n        }\r\n    }\r\n    async _startInternal(transferFormat) {\r\n        // Store the original base url and the access token factory since they may change\r\n        // as part of negotiating\r\n        let url = this.baseUrl;\r\n        this._accessTokenFactory = this._options.accessTokenFactory;\r\n        this._httpClient._accessTokenFactory = this._accessTokenFactory;\r\n        try {\r\n            if (this._options.skipNegotiation) {\r\n                if (this._options.transport === HttpTransportType.WebSockets) {\r\n                    // No need to add a connection ID in this case\r\n                    this.transport = this._constructTransport(HttpTransportType.WebSockets);\r\n                    // We should just call connect directly in this case.\r\n                    // No fallback or negotiate in this case.\r\n                    await this._startTransport(url, transferFormat);\r\n                }\r\n                else {\r\n                    throw new Error(\"Negotiation can only be skipped when using the WebSocket transport directly.\");\r\n                }\r\n            }\r\n            else {\r\n                let negotiateResponse = null;\r\n                let redirects = 0;\r\n                do {\r\n                    negotiateResponse = await this._getNegotiationResponse(url);\r\n                    // the user tries to stop the connection when it is being started\r\n                    if (this._connectionState === \"Disconnecting\" /* ConnectionState.Disconnecting */ || this._connectionState === \"Disconnected\" /* ConnectionState.Disconnected */) {\r\n                        throw new AbortError(\"The connection was stopped during negotiation.\");\r\n                    }\r\n                    if (negotiateResponse.error) {\r\n                        throw new Error(negotiateResponse.error);\r\n                    }\r\n                    if (negotiateResponse.ProtocolVersion) {\r\n                        throw new Error(\"Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.\");\r\n                    }\r\n                    if (negotiateResponse.url) {\r\n                        url = negotiateResponse.url;\r\n                    }\r\n                    if (negotiateResponse.accessToken) {\r\n                        // Replace the current access token factory with one that uses\r\n                        // the returned access token\r\n                        const accessToken = negotiateResponse.accessToken;\r\n                        this._accessTokenFactory = () => accessToken;\r\n                        // set the factory to undefined so the AccessTokenHttpClient won't retry with the same token, since we know it won't change until a connection restart\r\n                        this._httpClient._accessToken = accessToken;\r\n                        this._httpClient._accessTokenFactory = undefined;\r\n                    }\r\n                    redirects++;\r\n                } while (negotiateResponse.url && redirects < MAX_REDIRECTS);\r\n                if (redirects === MAX_REDIRECTS && negotiateResponse.url) {\r\n                    throw new Error(\"Negotiate redirection limit exceeded.\");\r\n                }\r\n                await this._createTransport(url, this._options.transport, negotiateResponse, transferFormat);\r\n            }\r\n            if (this.transport instanceof LongPollingTransport) {\r\n                this.features.inherentKeepAlive = true;\r\n            }\r\n            if (this._connectionState === \"Connecting\" /* ConnectionState.Connecting */) {\r\n                // Ensure the connection transitions to the connected state prior to completing this.startInternalPromise.\r\n                // start() will handle the case when stop was called and startInternal exits still in the disconnecting state.\r\n                this._logger.log(LogLevel.Debug, \"The HttpConnection connected successfully.\");\r\n                this._connectionState = \"Connected\" /* ConnectionState.Connected */;\r\n            }\r\n            // stop() is waiting on us via this.startInternalPromise so keep this.transport around so it can clean up.\r\n            // This is the only case startInternal can exit in neither the connected nor disconnected state because stopConnection()\r\n            // will transition to the disconnected state. start() will wait for the transition using the stopPromise.\r\n        }\r\n        catch (e) {\r\n            this._logger.log(LogLevel.Error, \"Failed to start the connection: \" + e);\r\n            this._connectionState = \"Disconnected\" /* ConnectionState.Disconnected */;\r\n            this.transport = undefined;\r\n            // if start fails, any active calls to stop assume that start will complete the stop promise\r\n            this._stopPromiseResolver();\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n    async _getNegotiationResponse(url) {\r\n        const headers = {};\r\n        const [name, value] = getUserAgentHeader();\r\n        headers[name] = value;\r\n        const negotiateUrl = this._resolveNegotiateUrl(url);\r\n        this._logger.log(LogLevel.Debug, `Sending negotiation request: ${negotiateUrl}.`);\r\n        try {\r\n            const response = await this._httpClient.post(negotiateUrl, {\r\n                content: \"\",\r\n                headers: { ...headers, ...this._options.headers },\r\n                timeout: this._options.timeout,\r\n                withCredentials: this._options.withCredentials,\r\n            });\r\n            if (response.statusCode !== 200) {\r\n                return Promise.reject(new Error(`Unexpected status code returned from negotiate '${response.statusCode}'`));\r\n            }\r\n            const negotiateResponse = JSON.parse(response.content);\r\n            if (!negotiateResponse.negotiateVersion || negotiateResponse.negotiateVersion < 1) {\r\n                // Negotiate version 0 doesn't use connectionToken\r\n                // So we set it equal to connectionId so all our logic can use connectionToken without being aware of the negotiate version\r\n                negotiateResponse.connectionToken = negotiateResponse.connectionId;\r\n            }\r\n            if (negotiateResponse.useStatefulReconnect && this._options._useStatefulReconnect !== true) {\r\n                return Promise.reject(new FailedToNegotiateWithServerError(\"Client didn't negotiate Stateful Reconnect but the server did.\"));\r\n            }\r\n            return negotiateResponse;\r\n        }\r\n        catch (e) {\r\n            let errorMessage = \"Failed to complete negotiation with the server: \" + e;\r\n            if (e instanceof HttpError) {\r\n                if (e.statusCode === 404) {\r\n                    errorMessage = errorMessage + \" Either this is not a SignalR endpoint or there is a proxy blocking the connection.\";\r\n                }\r\n            }\r\n            this._logger.log(LogLevel.Error, errorMessage);\r\n            return Promise.reject(new FailedToNegotiateWithServerError(errorMessage));\r\n        }\r\n    }\r\n    _createConnectUrl(url, connectionToken) {\r\n        if (!connectionToken) {\r\n            return url;\r\n        }\r\n        return url + (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + `id=${connectionToken}`;\r\n    }\r\n    async _createTransport(url, requestedTransport, negotiateResponse, requestedTransferFormat) {\r\n        let connectUrl = this._createConnectUrl(url, negotiateResponse.connectionToken);\r\n        if (this._isITransport(requestedTransport)) {\r\n            this._logger.log(LogLevel.Debug, \"Connection was provided an instance of ITransport, using that directly.\");\r\n            this.transport = requestedTransport;\r\n            await this._startTransport(connectUrl, requestedTransferFormat);\r\n            this.connectionId = negotiateResponse.connectionId;\r\n            return;\r\n        }\r\n        const transportExceptions = [];\r\n        const transports = negotiateResponse.availableTransports || [];\r\n        let negotiate = negotiateResponse;\r\n        for (const endpoint of transports) {\r\n            const transportOrError = this._resolveTransportOrError(endpoint, requestedTransport, requestedTransferFormat, (negotiate === null || negotiate === void 0 ? void 0 : negotiate.useStatefulReconnect) === true);\r\n            if (transportOrError instanceof Error) {\r\n                // Store the error and continue, we don't want to cause a re-negotiate in these cases\r\n                transportExceptions.push(`${endpoint.transport} failed:`);\r\n                transportExceptions.push(transportOrError);\r\n            }\r\n            else if (this._isITransport(transportOrError)) {\r\n                this.transport = transportOrError;\r\n                if (!negotiate) {\r\n                    try {\r\n                        negotiate = await this._getNegotiationResponse(url);\r\n                    }\r\n                    catch (ex) {\r\n                        return Promise.reject(ex);\r\n                    }\r\n                    connectUrl = this._createConnectUrl(url, negotiate.connectionToken);\r\n                }\r\n                try {\r\n                    await this._startTransport(connectUrl, requestedTransferFormat);\r\n                    this.connectionId = negotiate.connectionId;\r\n                    return;\r\n                }\r\n                catch (ex) {\r\n                    this._logger.log(LogLevel.Error, `Failed to start the transport '${endpoint.transport}': ${ex}`);\r\n                    negotiate = undefined;\r\n                    transportExceptions.push(new FailedToStartTransportError(`${endpoint.transport} failed: ${ex}`, HttpTransportType[endpoint.transport]));\r\n                    if (this._connectionState !== \"Connecting\" /* ConnectionState.Connecting */) {\r\n                        const message = \"Failed to select transport before stop() was called.\";\r\n                        this._logger.log(LogLevel.Debug, message);\r\n                        return Promise.reject(new AbortError(message));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (transportExceptions.length > 0) {\r\n            return Promise.reject(new AggregateErrors(`Unable to connect to the server with any of the available transports. ${transportExceptions.join(\" \")}`, transportExceptions));\r\n        }\r\n        return Promise.reject(new Error(\"None of the transports supported by the client are supported by the server.\"));\r\n    }\r\n    _constructTransport(transport) {\r\n        switch (transport) {\r\n            case HttpTransportType.WebSockets:\r\n                if (!this._options.WebSocket) {\r\n                    throw new Error(\"'WebSocket' is not supported in your environment.\");\r\n                }\r\n                return new WebSocketTransport(this._httpClient, this._accessTokenFactory, this._logger, this._options.logMessageContent, this._options.WebSocket, this._options.headers || {});\r\n            case HttpTransportType.ServerSentEvents:\r\n                if (!this._options.EventSource) {\r\n                    throw new Error(\"'EventSource' is not supported in your environment.\");\r\n                }\r\n                return new ServerSentEventsTransport(this._httpClient, this._httpClient._accessToken, this._logger, this._options);\r\n            case HttpTransportType.LongPolling:\r\n                return new LongPollingTransport(this._httpClient, this._logger, this._options);\r\n            default:\r\n                throw new Error(`Unknown transport: ${transport}.`);\r\n        }\r\n    }\r\n    _startTransport(url, transferFormat) {\r\n        this.transport.onreceive = this.onreceive;\r\n        if (this.features.reconnect) {\r\n            this.transport.onclose = async (e) => {\r\n                let callStop = false;\r\n                if (this.features.reconnect) {\r\n                    try {\r\n                        this.features.disconnected();\r\n                        await this.transport.connect(url, transferFormat);\r\n                        await this.features.resend();\r\n                    }\r\n                    catch {\r\n                        callStop = true;\r\n                    }\r\n                }\r\n                else {\r\n                    this._stopConnection(e);\r\n                    return;\r\n                }\r\n                if (callStop) {\r\n                    this._stopConnection(e);\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            this.transport.onclose = (e) => this._stopConnection(e);\r\n        }\r\n        return this.transport.connect(url, transferFormat);\r\n    }\r\n    _resolveTransportOrError(endpoint, requestedTransport, requestedTransferFormat, useStatefulReconnect) {\r\n        const transport = HttpTransportType[endpoint.transport];\r\n        if (transport === null || transport === undefined) {\r\n            this._logger.log(LogLevel.Debug, `Skipping transport '${endpoint.transport}' because it is not supported by this client.`);\r\n            return new Error(`Skipping transport '${endpoint.transport}' because it is not supported by this client.`);\r\n        }\r\n        else {\r\n            if (transportMatches(requestedTransport, transport)) {\r\n                const transferFormats = endpoint.transferFormats.map((s) => TransferFormat[s]);\r\n                if (transferFormats.indexOf(requestedTransferFormat) >= 0) {\r\n                    if ((transport === HttpTransportType.WebSockets && !this._options.WebSocket) ||\r\n                        (transport === HttpTransportType.ServerSentEvents && !this._options.EventSource)) {\r\n                        this._logger.log(LogLevel.Debug, `Skipping transport '${HttpTransportType[transport]}' because it is not supported in your environment.'`);\r\n                        return new UnsupportedTransportError(`'${HttpTransportType[transport]}' is not supported in your environment.`, transport);\r\n                    }\r\n                    else {\r\n                        this._logger.log(LogLevel.Debug, `Selecting transport '${HttpTransportType[transport]}'.`);\r\n                        try {\r\n                            this.features.reconnect = transport === HttpTransportType.WebSockets ? useStatefulReconnect : undefined;\r\n                            return this._constructTransport(transport);\r\n                        }\r\n                        catch (ex) {\r\n                            return ex;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    this._logger.log(LogLevel.Debug, `Skipping transport '${HttpTransportType[transport]}' because it does not support the requested transfer format '${TransferFormat[requestedTransferFormat]}'.`);\r\n                    return new Error(`'${HttpTransportType[transport]}' does not support ${TransferFormat[requestedTransferFormat]}.`);\r\n                }\r\n            }\r\n            else {\r\n                this._logger.log(LogLevel.Debug, `Skipping transport '${HttpTransportType[transport]}' because it was disabled by the client.`);\r\n                return new DisabledTransportError(`'${HttpTransportType[transport]}' is disabled by the client.`, transport);\r\n            }\r\n        }\r\n    }\r\n    _isITransport(transport) {\r\n        return transport && typeof (transport) === \"object\" && \"connect\" in transport;\r\n    }\r\n    _stopConnection(error) {\r\n        this._logger.log(LogLevel.Debug, `HttpConnection.stopConnection(${error}) called while in state ${this._connectionState}.`);\r\n        this.transport = undefined;\r\n        // If we have a stopError, it takes precedence over the error from the transport\r\n        error = this._stopError || error;\r\n        this._stopError = undefined;\r\n        if (this._connectionState === \"Disconnected\" /* ConnectionState.Disconnected */) {\r\n            this._logger.log(LogLevel.Debug, `Call to HttpConnection.stopConnection(${error}) was ignored because the connection is already in the disconnected state.`);\r\n            return;\r\n        }\r\n        if (this._connectionState === \"Connecting\" /* ConnectionState.Connecting */) {\r\n            this._logger.log(LogLevel.Warning, `Call to HttpConnection.stopConnection(${error}) was ignored because the connection is still in the connecting state.`);\r\n            throw new Error(`HttpConnection.stopConnection(${error}) was called while the connection is still in the connecting state.`);\r\n        }\r\n        if (this._connectionState === \"Disconnecting\" /* ConnectionState.Disconnecting */) {\r\n            // A call to stop() induced this call to stopConnection and needs to be completed.\r\n            // Any stop() awaiters will be scheduled to continue after the onclose callback fires.\r\n            this._stopPromiseResolver();\r\n        }\r\n        if (error) {\r\n            this._logger.log(LogLevel.Error, `Connection disconnected with error '${error}'.`);\r\n        }\r\n        else {\r\n            this._logger.log(LogLevel.Information, \"Connection disconnected.\");\r\n        }\r\n        if (this._sendQueue) {\r\n            this._sendQueue.stop().catch((e) => {\r\n                this._logger.log(LogLevel.Error, `TransportSendQueue.stop() threw error '${e}'.`);\r\n            });\r\n            this._sendQueue = undefined;\r\n        }\r\n        this.connectionId = undefined;\r\n        this._connectionState = \"Disconnected\" /* ConnectionState.Disconnected */;\r\n        if (this._connectionStarted) {\r\n            this._connectionStarted = false;\r\n            try {\r\n                if (this.onclose) {\r\n                    this.onclose(error);\r\n                }\r\n            }\r\n            catch (e) {\r\n                this._logger.log(LogLevel.Error, `HttpConnection.onclose(${error}) threw error '${e}'.`);\r\n            }\r\n        }\r\n    }\r\n    _resolveUrl(url) {\r\n        // startsWith is not supported in IE\r\n        if (url.lastIndexOf(\"https://\", 0) === 0 || url.lastIndexOf(\"http://\", 0) === 0) {\r\n            return url;\r\n        }\r\n        if (!Platform.isBrowser) {\r\n            throw new Error(`Cannot resolve '${url}'.`);\r\n        }\r\n        // Setting the url to the href propery of an anchor tag handles normalization\r\n        // for us. There are 3 main cases.\r\n        // 1. Relative path normalization e.g \"b\" -> \"http://localhost:5000/a/b\"\r\n        // 2. Absolute path normalization e.g \"/a/b\" -> \"http://localhost:5000/a/b\"\r\n        // 3. Networkpath reference normalization e.g \"//localhost:5000/a/b\" -> \"http://localhost:5000/a/b\"\r\n        const aTag = window.document.createElement(\"a\");\r\n        aTag.href = url;\r\n        this._logger.log(LogLevel.Information, `Normalizing '${url}' to '${aTag.href}'.`);\r\n        return aTag.href;\r\n    }\r\n    _resolveNegotiateUrl(url) {\r\n        const negotiateUrl = new URL(url);\r\n        if (negotiateUrl.pathname.endsWith('/')) {\r\n            negotiateUrl.pathname += \"negotiate\";\r\n        }\r\n        else {\r\n            negotiateUrl.pathname += \"/negotiate\";\r\n        }\r\n        const searchParams = new URLSearchParams(negotiateUrl.searchParams);\r\n        if (!searchParams.has(\"negotiateVersion\")) {\r\n            searchParams.append(\"negotiateVersion\", this._negotiateVersion.toString());\r\n        }\r\n        if (searchParams.has(\"useStatefulReconnect\")) {\r\n            if (searchParams.get(\"useStatefulReconnect\") === \"true\") {\r\n                this._options._useStatefulReconnect = true;\r\n            }\r\n        }\r\n        else if (this._options._useStatefulReconnect === true) {\r\n            searchParams.append(\"useStatefulReconnect\", \"true\");\r\n        }\r\n        negotiateUrl.search = searchParams.toString();\r\n        return negotiateUrl.toString();\r\n    }\r\n}\r\nfunction transportMatches(requestedTransport, actualTransport) {\r\n    return !requestedTransport || ((actualTransport & requestedTransport) !== 0);\r\n}\r\n/** @private */\r\nexport class TransportSendQueue {\r\n    constructor(_transport) {\r\n        this._transport = _transport;\r\n        this._buffer = [];\r\n        this._executing = true;\r\n        this._sendBufferedData = new PromiseSource();\r\n        this._transportResult = new PromiseSource();\r\n        this._sendLoopPromise = this._sendLoop();\r\n    }\r\n    send(data) {\r\n        this._bufferData(data);\r\n        if (!this._transportResult) {\r\n            this._transportResult = new PromiseSource();\r\n        }\r\n        return this._transportResult.promise;\r\n    }\r\n    stop() {\r\n        this._executing = false;\r\n        this._sendBufferedData.resolve();\r\n        return this._sendLoopPromise;\r\n    }\r\n    _bufferData(data) {\r\n        if (this._buffer.length && typeof (this._buffer[0]) !== typeof (data)) {\r\n            throw new Error(`Expected data to be of type ${typeof (this._buffer)} but was of type ${typeof (data)}`);\r\n        }\r\n        this._buffer.push(data);\r\n        this._sendBufferedData.resolve();\r\n    }\r\n    async _sendLoop() {\r\n        while (true) {\r\n            await this._sendBufferedData.promise;\r\n            if (!this._executing) {\r\n                if (this._transportResult) {\r\n                    this._transportResult.reject(\"Connection stopped.\");\r\n                }\r\n                break;\r\n            }\r\n            this._sendBufferedData = new PromiseSource();\r\n            const transportResult = this._transportResult;\r\n            this._transportResult = undefined;\r\n            const data = typeof (this._buffer[0]) === \"string\" ?\r\n                this._buffer.join(\"\") :\r\n                TransportSendQueue._concatBuffers(this._buffer);\r\n            this._buffer.length = 0;\r\n            try {\r\n                await this._transport.send(data);\r\n                transportResult.resolve();\r\n            }\r\n            catch (error) {\r\n                transportResult.reject(error);\r\n            }\r\n        }\r\n    }\r\n    static _concatBuffers(arrayBuffers) {\r\n        const totalLength = arrayBuffers.map((b) => b.byteLength).reduce((a, b) => a + b);\r\n        const result = new Uint8Array(totalLength);\r\n        let offset = 0;\r\n        for (const item of arrayBuffers) {\r\n            result.set(new Uint8Array(item), offset);\r\n            offset += item.byteLength;\r\n        }\r\n        return result.buffer;\r\n    }\r\n}\r\nclass PromiseSource {\r\n    constructor() {\r\n        this.promise = new Promise((resolve, reject) => [this._resolver, this._rejecter] = [resolve, reject]);\r\n    }\r\n    resolve() {\r\n        this._resolver();\r\n    }\r\n    reject(reason) {\r\n        this._rejecter(reason);\r\n    }\r\n}\r\n//# sourceMappingURL=HttpConnection.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { MessageType } from \"./IHubProtocol\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { TransferFormat } from \"./ITransport\";\r\nimport { NullLogger } from \"./Loggers\";\r\nimport { TextMessageFormat } from \"./TextMessageFormat\";\r\nconst JSON_HUB_PROTOCOL_NAME = \"json\";\r\n/** Implements the JSON Hub Protocol. */\r\nexport class JsonHubProtocol {\r\n    constructor() {\r\n        /** @inheritDoc */\r\n        this.name = JSON_HUB_PROTOCOL_NAME;\r\n        /** @inheritDoc */\r\n        this.version = 2;\r\n        /** @inheritDoc */\r\n        this.transferFormat = TransferFormat.Text;\r\n    }\r\n    /** Creates an array of {@link @microsoft/signalr.HubMessage} objects from the specified serialized representation.\r\n     *\r\n     * @param {string} input A string containing the serialized representation.\r\n     * @param {ILogger} logger A logger that will be used to log messages that occur during parsing.\r\n     */\r\n    parseMessages(input, logger) {\r\n        // The interface does allow \"ArrayBuffer\" to be passed in, but this implementation does not. So let's throw a useful error.\r\n        if (typeof input !== \"string\") {\r\n            throw new Error(\"Invalid input for JSON hub protocol. Expected a string.\");\r\n        }\r\n        if (!input) {\r\n            return [];\r\n        }\r\n        if (logger === null) {\r\n            logger = NullLogger.instance;\r\n        }\r\n        // Parse the messages\r\n        const messages = TextMessageFormat.parse(input);\r\n        const hubMessages = [];\r\n        for (const message of messages) {\r\n            const parsedMessage = JSON.parse(message);\r\n            if (typeof parsedMessage.type !== \"number\") {\r\n                throw new Error(\"Invalid payload.\");\r\n            }\r\n            switch (parsedMessage.type) {\r\n                case MessageType.Invocation:\r\n                    this._isInvocationMessage(parsedMessage);\r\n                    break;\r\n                case MessageType.StreamItem:\r\n                    this._isStreamItemMessage(parsedMessage);\r\n                    break;\r\n                case MessageType.Completion:\r\n                    this._isCompletionMessage(parsedMessage);\r\n                    break;\r\n                case MessageType.Ping:\r\n                    // Single value, no need to validate\r\n                    break;\r\n                case MessageType.Close:\r\n                    // All optional values, no need to validate\r\n                    break;\r\n                case MessageType.Ack:\r\n                    this._isAckMessage(parsedMessage);\r\n                    break;\r\n                case MessageType.Sequence:\r\n                    this._isSequenceMessage(parsedMessage);\r\n                    break;\r\n                default:\r\n                    // Future protocol changes can add message types, old clients can ignore them\r\n                    logger.log(LogLevel.Information, \"Unknown message type '\" + parsedMessage.type + \"' ignored.\");\r\n                    continue;\r\n            }\r\n            hubMessages.push(parsedMessage);\r\n        }\r\n        return hubMessages;\r\n    }\r\n    /** Writes the specified {@link @microsoft/signalr.HubMessage} to a string and returns it.\r\n     *\r\n     * @param {HubMessage} message The message to write.\r\n     * @returns {string} A string containing the serialized representation of the message.\r\n     */\r\n    writeMessage(message) {\r\n        return TextMessageFormat.write(JSON.stringify(message));\r\n    }\r\n    _isInvocationMessage(message) {\r\n        this._assertNotEmptyString(message.target, \"Invalid payload for Invocation message.\");\r\n        if (message.invocationId !== undefined) {\r\n            this._assertNotEmptyString(message.invocationId, \"Invalid payload for Invocation message.\");\r\n        }\r\n    }\r\n    _isStreamItemMessage(message) {\r\n        this._assertNotEmptyString(message.invocationId, \"Invalid payload for StreamItem message.\");\r\n        if (message.item === undefined) {\r\n            throw new Error(\"Invalid payload for StreamItem message.\");\r\n        }\r\n    }\r\n    _isCompletionMessage(message) {\r\n        if (message.result && message.error) {\r\n            throw new Error(\"Invalid payload for Completion message.\");\r\n        }\r\n        if (!message.result && message.error) {\r\n            this._assertNotEmptyString(message.error, \"Invalid payload for Completion message.\");\r\n        }\r\n        this._assertNotEmptyString(message.invocationId, \"Invalid payload for Completion message.\");\r\n    }\r\n    _isAckMessage(message) {\r\n        if (typeof message.sequenceId !== 'number') {\r\n            throw new Error(\"Invalid SequenceId for Ack message.\");\r\n        }\r\n    }\r\n    _isSequenceMessage(message) {\r\n        if (typeof message.sequenceId !== 'number') {\r\n            throw new Error(\"Invalid SequenceId for Sequence message.\");\r\n        }\r\n    }\r\n    _assertNotEmptyString(value, errorMessage) {\r\n        if (typeof value !== \"string\" || value === \"\") {\r\n            throw new Error(errorMessage);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=JsonHubProtocol.js.map","// Licensed to the .NET Foundation under one or more agreements.\r\n// The .NET Foundation licenses this file to you under the MIT license.\r\nimport { DefaultReconnectPolicy } from \"./DefaultReconnectPolicy\";\r\nimport { HttpConnection } from \"./HttpConnection\";\r\nimport { HubConnection } from \"./HubConnection\";\r\nimport { LogLevel } from \"./ILogger\";\r\nimport { JsonHubProtocol } from \"./JsonHubProtocol\";\r\nimport { NullLogger } from \"./Loggers\";\r\nimport { Arg, ConsoleLogger } from \"./Utils\";\r\nconst LogLevelNameMapping = {\r\n    trace: LogLevel.Trace,\r\n    debug: LogLevel.Debug,\r\n    info: LogLevel.Information,\r\n    information: LogLevel.Information,\r\n    warn: LogLevel.Warning,\r\n    warning: LogLevel.Warning,\r\n    error: LogLevel.Error,\r\n    critical: LogLevel.Critical,\r\n    none: LogLevel.None,\r\n};\r\nfunction parseLogLevel(name) {\r\n    // Case-insensitive matching via lower-casing\r\n    // Yes, I know case-folding is a complicated problem in Unicode, but we only support\r\n    // the ASCII strings defined in LogLevelNameMapping anyway, so it's fine -anurse.\r\n    const mapping = LogLevelNameMapping[name.toLowerCase()];\r\n    if (typeof mapping !== \"undefined\") {\r\n        return mapping;\r\n    }\r\n    else {\r\n        throw new Error(`Unknown log level: ${name}`);\r\n    }\r\n}\r\n/** A builder for configuring {@link @microsoft/signalr.HubConnection} instances. */\r\nexport class HubConnectionBuilder {\r\n    configureLogging(logging) {\r\n        Arg.isRequired(logging, \"logging\");\r\n        if (isLogger(logging)) {\r\n            this.logger = logging;\r\n        }\r\n        else if (typeof logging === \"string\") {\r\n            const logLevel = parseLogLevel(logging);\r\n            this.logger = new ConsoleLogger(logLevel);\r\n        }\r\n        else {\r\n            this.logger = new ConsoleLogger(logging);\r\n        }\r\n        return this;\r\n    }\r\n    withUrl(url, transportTypeOrOptions) {\r\n        Arg.isRequired(url, \"url\");\r\n        Arg.isNotEmpty(url, \"url\");\r\n        this.url = url;\r\n        // Flow-typing knows where it's at. Since HttpTransportType is a number and IHttpConnectionOptions is guaranteed\r\n        // to be an object, we know (as does TypeScript) this comparison is all we need to figure out which overload was called.\r\n        if (typeof transportTypeOrOptions === \"object\") {\r\n            this.httpConnectionOptions = { ...this.httpConnectionOptions, ...transportTypeOrOptions };\r\n        }\r\n        else {\r\n            this.httpConnectionOptions = {\r\n                ...this.httpConnectionOptions,\r\n                transport: transportTypeOrOptions,\r\n            };\r\n        }\r\n        return this;\r\n    }\r\n    /** Configures the {@link @microsoft/signalr.HubConnection} to use the specified Hub Protocol.\r\n     *\r\n     * @param {IHubProtocol} protocol The {@link @microsoft/signalr.IHubProtocol} implementation to use.\r\n     */\r\n    withHubProtocol(protocol) {\r\n        Arg.isRequired(protocol, \"protocol\");\r\n        this.protocol = protocol;\r\n        return this;\r\n    }\r\n    withAutomaticReconnect(retryDelaysOrReconnectPolicy) {\r\n        if (this.reconnectPolicy) {\r\n            throw new Error(\"A reconnectPolicy has already been set.\");\r\n        }\r\n        if (!retryDelaysOrReconnectPolicy) {\r\n            this.reconnectPolicy = new DefaultReconnectPolicy();\r\n        }\r\n        else if (Array.isArray(retryDelaysOrReconnectPolicy)) {\r\n            this.reconnectPolicy = new DefaultReconnectPolicy(retryDelaysOrReconnectPolicy);\r\n        }\r\n        else {\r\n            this.reconnectPolicy = retryDelaysOrReconnectPolicy;\r\n        }\r\n        return this;\r\n    }\r\n    /** Configures {@link @microsoft/signalr.HubConnection.serverTimeoutInMilliseconds} for the {@link @microsoft/signalr.HubConnection}.\r\n     *\r\n     * @returns The {@link @microsoft/signalr.HubConnectionBuilder} instance, for chaining.\r\n     */\r\n    withServerTimeout(milliseconds) {\r\n        Arg.isRequired(milliseconds, \"milliseconds\");\r\n        this._serverTimeoutInMilliseconds = milliseconds;\r\n        return this;\r\n    }\r\n    /** Configures {@link @microsoft/signalr.HubConnection.keepAliveIntervalInMilliseconds} for the {@link @microsoft/signalr.HubConnection}.\r\n     *\r\n     * @returns The {@link @microsoft/signalr.HubConnectionBuilder} instance, for chaining.\r\n     */\r\n    withKeepAliveInterval(milliseconds) {\r\n        Arg.isRequired(milliseconds, \"milliseconds\");\r\n        this._keepAliveIntervalInMilliseconds = milliseconds;\r\n        return this;\r\n    }\r\n    /** Enables and configures options for the Stateful Reconnect feature.\r\n     *\r\n     * @returns The {@link @microsoft/signalr.HubConnectionBuilder} instance, for chaining.\r\n     */\r\n    withStatefulReconnect(options) {\r\n        if (this.httpConnectionOptions === undefined) {\r\n            this.httpConnectionOptions = {};\r\n        }\r\n        this.httpConnectionOptions._useStatefulReconnect = true;\r\n        this._statefulReconnectBufferSize = options === null || options === void 0 ? void 0 : options.bufferSize;\r\n        return this;\r\n    }\r\n    /** Creates a {@link @microsoft/signalr.HubConnection} from the configuration options specified in this builder.\r\n     *\r\n     * @returns {HubConnection} The configured {@link @microsoft/signalr.HubConnection}.\r\n     */\r\n    build() {\r\n        // If httpConnectionOptions has a logger, use it. Otherwise, override it with the one\r\n        // provided to configureLogger\r\n        const httpConnectionOptions = this.httpConnectionOptions || {};\r\n        // If it's 'null', the user **explicitly** asked for null, don't mess with it.\r\n        if (httpConnectionOptions.logger === undefined) {\r\n            // If our logger is undefined or null, that's OK, the HttpConnection constructor will handle it.\r\n            httpConnectionOptions.logger = this.logger;\r\n        }\r\n        // Now create the connection\r\n        if (!this.url) {\r\n            throw new Error(\"The 'HubConnectionBuilder.withUrl' method must be called before building the connection.\");\r\n        }\r\n        const connection = new HttpConnection(this.url, httpConnectionOptions);\r\n        return HubConnection.create(connection, this.logger || NullLogger.instance, this.protocol || new JsonHubProtocol(), this.reconnectPolicy, this._serverTimeoutInMilliseconds, this._keepAliveIntervalInMilliseconds, this._statefulReconnectBufferSize);\r\n    }\r\n}\r\nfunction isLogger(logger) {\r\n    return logger.log !== undefined;\r\n}\r\n//# sourceMappingURL=HubConnectionBuilder.js.map","import React, { createContext, useContext, useEffect, useState } from 'react'\r\nimport * as signalR from '@microsoft/signalr'\r\nimport { ScoreUpdate, GameEvent, AnalyticsUpdate } from '../types/index'\r\n\r\ninterface SignalRContextType {\r\n  gameConnection: signalR.HubConnection | null\r\n  analyticsConnection: signalR.HubConnection | null\r\n  isGameConnected: boolean\r\n  isAnalyticsConnected: boolean\r\n  latestScoreUpdate: ScoreUpdate | null\r\n  latestGameEvent: GameEvent | null\r\n  latestAnalyticsUpdate: AnalyticsUpdate | null\r\n}\r\n\r\nconst SignalRContext = createContext<SignalRContextType | undefined>(undefined)\r\n\r\nexport const useSignalR = () => {\r\n  const context = useContext(SignalRContext)\r\n  if (context === undefined) {\r\n    throw new Error('useSignalR must be used within a SignalRProvider')\r\n  }\r\n  return context\r\n}\r\n\r\ninterface SignalRProviderProps {\r\n  children: React.ReactNode\r\n}\r\n\r\nexport const SignalRProvider: React.FC<SignalRProviderProps> = ({ children }) => {\r\n  const [gameConnection, setGameConnection] = useState<signalR.HubConnection | null>(null)\r\n  const [analyticsConnection, setAnalyticsConnection] = useState<signalR.HubConnection | null>(null)\r\n  const [isGameConnected, setIsGameConnected] = useState(false)\r\n  const [isAnalyticsConnected, setIsAnalyticsConnected] = useState(false)\r\n  const [latestScoreUpdate, setLatestScoreUpdate] = useState<ScoreUpdate | null>(null)\r\n  const [latestGameEvent, setLatestGameEvent] = useState<GameEvent | null>(null)\r\n  const [latestAnalyticsUpdate, setLatestAnalyticsUpdate] = useState<AnalyticsUpdate | null>(null)\r\n\r\n  useEffect(() => {\r\n    // Setup Game Hub connection\r\n    const gameHub = new signalR.HubConnectionBuilder()\r\n      .withUrl('/hubs/game')\r\n      .withAutomaticReconnect()\r\n      .build()\r\n\r\n    // Setup Analytics Hub connection\r\n    const analyticsHub = new signalR.HubConnectionBuilder()\r\n      .withUrl('/hubs/analytics')\r\n      .withAutomaticReconnect()\r\n      .build()\r\n\r\n    // Game Hub event handlers\r\n    gameHub.on('ScoreUpdate', (update: ScoreUpdate) => {\r\n      setLatestScoreUpdate(update)\r\n    })\r\n\r\n    gameHub.on('GameEvent', (event: GameEvent) => {\r\n      setLatestGameEvent(event)\r\n    })\r\n\r\n    // Analytics Hub event handlers\r\n    analyticsHub.on('AnalyticsUpdate', (update: AnalyticsUpdate) => {\r\n      setLatestAnalyticsUpdate(update)\r\n    })\r\n\r\n    // Start connections\r\n    const startConnections = async () => {\r\n      try {\r\n        await gameHub.start()\r\n        setIsGameConnected(true)\r\n        setGameConnection(gameHub)\r\n        console.log('Game hub connected')\r\n      } catch (error) {\r\n        console.error('Error connecting to game hub:', error)\r\n      }\r\n\r\n      try {\r\n        await analyticsHub.start()\r\n        setIsAnalyticsConnected(true)\r\n        setAnalyticsConnection(analyticsHub)\r\n        console.log('Analytics hub connected')\r\n      } catch (error) {\r\n        console.error('Error connecting to analytics hub:', error)\r\n      }\r\n    }\r\n\r\n    startConnections()\r\n\r\n    // Cleanup\r\n    return () => {\r\n      gameHub.stop()\r\n      analyticsHub.stop()\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <SignalRContext.Provider\r\n      value={{\r\n        gameConnection,\r\n        analyticsConnection,\r\n        isGameConnected,\r\n        isAnalyticsConnected,\r\n        latestScoreUpdate,\r\n        latestGameEvent,\r\n        latestAnalyticsUpdate,\r\n      }}\r\n    >\r\n      {children}\r\n    </SignalRContext.Provider>\r\n  )\r\n}","import React, { createContext, useContext, useState, useEffect } from 'react'\r\nimport { UserSession } from '../types/index'\r\n\r\ninterface SessionContextType {\r\n  session: UserSession | null\r\n  setSession: (session: UserSession | null) => void\r\n  isLoading: boolean\r\n}\r\n\r\nconst SessionContext = createContext<SessionContextType | undefined>(undefined)\r\n\r\nexport const useSession = () => {\r\n  const context = useContext(SessionContext)\r\n  if (context === undefined) {\r\n    throw new Error('useSession must be used within a SessionProvider')\r\n  }\r\n  return context\r\n}\r\n\r\ninterface SessionProviderProps {\r\n  children: React.ReactNode\r\n}\r\n\r\nexport const SessionProvider: React.FC<SessionProviderProps> = ({ children }) => {\r\n  const [session, setSession] = useState<UserSession | null>(null)\r\n  const [isLoading, setIsLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    // Try to restore session from localStorage\r\n    const savedSession = localStorage.getItem('ai-demo-session')\r\n    if (savedSession) {\r\n      try {\r\n        const parsedSession = JSON.parse(savedSession)\r\n        setSession(parsedSession)\r\n      } catch (error) {\r\n        console.error('Failed to parse saved session:', error)\r\n        localStorage.removeItem('ai-demo-session')\r\n      }\r\n    }\r\n    setIsLoading(false)\r\n  }, [])\r\n\r\n  const handleSetSession = (newSession: UserSession | null) => {\r\n    setSession(newSession)\r\n    if (newSession) {\r\n      localStorage.setItem('ai-demo-session', JSON.stringify(newSession))\r\n    } else {\r\n      localStorage.removeItem('ai-demo-session')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <SessionContext.Provider value={{ session, setSession: handleSetSession, isLoading }}>\r\n      {children}\r\n    </SessionContext.Provider>\r\n  )\r\n}","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\nconst {iterator, toStringTag} = Symbol;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(toStringTag in val) && !(iterator in val);\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[iterator];\n\n  const _iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = _iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n}\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[toStringTag] === 'FormData' && thing[iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\n\nconst isIterable = (thing) => thing != null && isFunction(thing[iterator]);\n\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap,\n  isIterable\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nexport {\n  hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv,\n  _navigator as navigator,\n  origin\n}\n","import platform from './node/index.js';\nimport * as utils from './common/utils.js';\n\nexport default {\n  ...utils,\n  ...platform\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data) ||\n      utils.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils.isResponse(data) || utils.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils.isObject(header) && utils.isIterable(header)) {\n      let obj = {}, dest, key;\n      for (const entry of header) {\n        if (!utils.isArray(entry)) {\n          throw TypeError('Object iterator must return a key-value pair');\n        }\n\n        obj[key = entry[0]] = (dest = obj[key]) ?\n          (utils.isArray(dest) ? [...dest, entry[1]] : [dest, entry[1]]) : entry[1];\n      }\n\n      setHeaders(obj, valueOrRewrite)\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  getSetCookie() {\n    return this.get(\"set-cookie\") || [];\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn.apply(null, args);\n  }\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs)\n        }, threshold - passed);\n      }\n    }\n  }\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nexport default throttle;\n","import speedometer from \"./speedometer.js\";\nimport throttle from \"./throttle.js\";\nimport utils from \"../utils.js\";\n\nexport const progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n}\n\nexport const progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n}\n\nexport const asyncDecorator = (fn) => (...args) => utils.asap(() => fn(...args));\n","import platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n","import utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils.isString(path) && cookie.push('path=' + path);\n\n      utils.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL, allowAbsoluteUrls) {\n  let isRelativeUrl = !isAbsoluteURL(requestedURL);\n  if (baseURL && (isRelativeUrl || allowAbsoluteUrls == false)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport isURLSameOrigin from \"./isURLSameOrigin.js\";\nimport cookies from \"./cookies.js\";\nimport buildFullPath from \"../core/buildFullPath.js\";\nimport mergeConfig from \"../core/mergeConfig.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport buildURL from \"./buildURL.js\";\n\nexport default (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url, newConfig.allowAbsoluteUrls), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n}\n\n","import utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport {progressEventReducer} from '../helpers/progressEventReducer.js';\nimport resolveConfig from \"../helpers/resolveConfig.js\";\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","import CanceledError from \"../cancel/CanceledError.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport utils from '../utils.js';\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    }\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT))\n    }, timeout)\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    }\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils.asap(unsubscribe);\n\n    return signal;\n  }\n}\n\nexport default composeSignals;\n","\nexport const streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n}\n\nexport const readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n}\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n}\n\nexport const trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  }\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport composeSignals from \"../helpers/composeSignals.js\";\nimport {trackStream} from \"../helpers/trackStream.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport {progressEventReducer, progressEventDecorator, asyncDecorator} from \"../helpers/progressEventReducer.js\";\nimport resolveConfig from \"../helpers/resolveConfig.js\";\nimport settle from \"../core/settle.js\";\n\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\n\n// used only inside the fetch adapter\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\n);\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n}\n\nconst supportsRequestStream = isReadableStreamSupported && test(() => {\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(platform.origin, {\n    body: new ReadableStream(),\n    method: 'POST',\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  return duplexAccessed && !hasContentType;\n});\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst supportsResponseStream = isReadableStreamSupported &&\n  test(() => utils.isReadableStream(new Response('').body));\n\n\nconst resolvers = {\n  stream: supportsResponseStream && ((res) => res.body)\n};\n\nisFetchSupported && (((res) => {\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n    !resolvers[type] && (resolvers[type] = utils.isFunction(res[type]) ? (res) => res[type]() :\n      (_, config) => {\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      })\n  });\n})(new Response));\n\nconst getBodyLength = async (body) => {\n  if (body == null) {\n    return 0;\n  }\n\n  if(utils.isBlob(body)) {\n    return body.size;\n  }\n\n  if(utils.isSpecCompliantForm(body)) {\n    const _request = new Request(platform.origin, {\n      method: 'POST',\n      body,\n    });\n    return (await _request.arrayBuffer()).byteLength;\n  }\n\n  if(utils.isArrayBufferView(body) || utils.isArrayBuffer(body)) {\n    return body.byteLength;\n  }\n\n  if(utils.isURLSearchParams(body)) {\n    body = body + '';\n  }\n\n  if(utils.isString(body)) {\n    return (await encodeText(body)).byteLength;\n  }\n}\n\nconst resolveBodyLength = async (headers, body) => {\n  const length = utils.toFiniteNumber(headers.getContentLength());\n\n  return length == null ? getBodyLength(body) : length;\n}\n\nexport default isFetchSupported && (async (config) => {\n  let {\n    url,\n    method,\n    data,\n    signal,\n    cancelToken,\n    timeout,\n    onDownloadProgress,\n    onUploadProgress,\n    responseType,\n    headers,\n    withCredentials = 'same-origin',\n    fetchOptions\n  } = resolveConfig(config);\n\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n  let composedSignal = composeSignals([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n  let request;\n\n  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n  });\n\n  let requestContentLength;\n\n  try {\n    if (\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n    ) {\n      let _request = new Request(url, {\n        method: 'POST',\n        body: data,\n        duplex: \"half\"\n      });\n\n      let contentTypeHeader;\n\n      if (utils.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n        headers.setContentType(contentTypeHeader)\n      }\n\n      if (_request.body) {\n        const [onProgress, flush] = progressEventDecorator(\n          requestContentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress))\n        );\n\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n      }\n    }\n\n    if (!utils.isString(withCredentials)) {\n      withCredentials = withCredentials ? 'include' : 'omit';\n    }\n\n    // Cloudflare Workers throws when credentials are defined\n    // see https://github.com/cloudflare/workerd/issues/902\n    const isCredentialsSupported = \"credentials\" in Request.prototype;\n    request = new Request(url, {\n      ...fetchOptions,\n      signal: composedSignal,\n      method: method.toUpperCase(),\n      headers: headers.normalize().toJSON(),\n      body: data,\n      duplex: \"half\",\n      credentials: isCredentialsSupported ? withCredentials : undefined\n    });\n\n    let response = await fetch(request);\n\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n      const options = {};\n\n      ['status', 'statusText', 'headers'].forEach(prop => {\n        options[prop] = response[prop];\n      });\n\n      const responseContentLength = utils.toFiniteNumber(response.headers.get('content-length'));\n\n      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n        responseContentLength,\n        progressEventReducer(asyncDecorator(onDownloadProgress), true)\n      ) || [];\n\n      response = new Response(\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n          flush && flush();\n          unsubscribe && unsubscribe();\n        }),\n        options\n      );\n    }\n\n    responseType = responseType || 'text';\n\n    let responseData = await resolvers[utils.findKey(resolvers, responseType) || 'text'](response, config);\n\n    !isStreamResponse && unsubscribe && unsubscribe();\n\n    return await new Promise((resolve, reject) => {\n      settle(resolve, reject, {\n        data: responseData,\n        headers: AxiosHeaders.from(response.headers),\n        status: response.status,\n        statusText: response.statusText,\n        config,\n        request\n      })\n    })\n  } catch (err) {\n    unsubscribe && unsubscribe();\n\n    if (err && err.name === 'TypeError' && /Load failed|fetch/i.test(err.message)) {\n      throw Object.assign(\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n        {\n          cause: err.cause || err\n        }\n      )\n    }\n\n    throw AxiosError.from(err, err && err.code, config, request);\n  }\n});\n\n\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport fetchAdapter from './fetch.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","export const VERSION = \"1.9.0\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig || {};\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.allowAbsoluteUrls\n    if (config.allowAbsoluteUrls !== undefined) {\n      // do nothing\n    } else if (this.defaults.allowAbsoluteUrls !== undefined) {\n      config.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls;\n    } else {\n      config.allowAbsoluteUrls = true;\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","import axios from './lib/axios.js';\n\n// This module is intended to unwrap Axios default export as named.\n// Keep top-level export same with static properties\n// so that it can keep same with es module or cjs\nconst {\n  Axios,\n  AxiosError,\n  CanceledError,\n  isCancel,\n  CancelToken,\n  VERSION,\n  all,\n  Cancel,\n  isAxiosError,\n  spread,\n  toFormData,\n  AxiosHeaders,\n  HttpStatusCode,\n  formToJSON,\n  getAdapter,\n  mergeConfig\n} = axios;\n\nexport {\n  axios as default,\n  Axios,\n  AxiosError,\n  CanceledError,\n  isCancel,\n  CancelToken,\n  VERSION,\n  all,\n  Cancel,\n  isAxiosError,\n  spread,\n  toFormData,\n  AxiosHeaders,\n  HttpStatusCode,\n  formToJSON,\n  getAdapter,\n  mergeConfig\n}\n","import axios from 'axios'\r\nimport {\r\n  UserSession,\r\n  QuizQuestion,\r\n  QuizSubmission,\r\n  QuizResult,\r\n  GameScore,\r\n  LeaderboardResponse,\r\n  SubmitScoreRequest,\r\n  GameStats,\r\n  Tip,\r\n  TipsCollectionResponse,\r\n  CreateTipRequest,\r\n  GenerateTipsRequest,\r\n  DashboardData,\r\n  UserActivity,\r\n  HourlyActivity,\r\n  UnifiedLeaderboardResponse,\r\n  UnifiedParticipant\r\n} from '../types'\r\n\r\nconst api = axios.create({\r\n  baseURL: '/api',\r\n  timeout: 10000,\r\n})\r\n\r\n// Request interceptor for logging\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    console.log(`API Request: ${config.method?.toUpperCase()} ${config.url}`)\r\n    return config\r\n  },\r\n  (error) => {\r\n    console.error('API Request Error:', error)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// Response interceptor for error handling\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    return response\r\n  },\r\n  (error) => {\r\n    console.error('API Response Error:', error.response?.data || error.message)\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n// Session API\r\nexport const sessionApi = {\r\n  create: (request: { name: string }): Promise<UserSession> =>\r\n    api.post('/sessions', { name: request.name }).then((res) => res.data),\r\n  \r\n  get: (sessionId: string): Promise<UserSession> =>\r\n    api.get(`/sessions/${sessionId}`).then((res) => res.data),\r\n  \r\n  updateActivity: (sessionId: string): Promise<void> =>\r\n    api.post(`/sessions/${sessionId}/activity`).then((res) => res.data),\r\n}\r\n\r\n// Quiz API\r\nexport const quizApi = {\r\n  getQuestions: (): Promise<QuizQuestion[]> =>\r\n    api.get('/quiz/questions').then((res) => res.data),\r\n  \r\n  submit: (submission: QuizSubmission): Promise<QuizResult> =>\r\n    api.post('/quiz/submit', submission).then((res) => res.data),\r\n  \r\n  getAttempt: (sessionId: string): Promise<any> =>\r\n    api.get(`/quiz/attempt/${sessionId}`).then((res) => res.data),\r\n  \r\n  generateQuestions: (count: number = 10): Promise<QuizQuestion[]> =>\r\n    api.post(`/quiz/generate?count=${count}`).then((res) => res.data),\r\n\r\n  getHint: (questionId: string): Promise<{ hint: string }> =>\r\n    api.get(`/quiz/hint/${questionId}`).then((res) => res.data),\r\n}\r\n\r\n// Game API\r\nexport const gameApi = {\r\n  submitScore: (request: SubmitScoreRequest): Promise<GameScore> =>\r\n    api.post('/game/score', request).then((res) => res.data),\r\n  \r\n  getLeaderboard: (sessionId?: string): Promise<LeaderboardResponse> =>\r\n    api.get(`/game/leaderboard${sessionId ? `?sessionId=${sessionId}` : ''}`).then((res) => res.data),\r\n  \r\n  getPlayerScores: (sessionId: string): Promise<GameScore[]> =>\r\n    api.get(`/game/scores/${sessionId}`).then((res) => res.data),\r\n  \r\n  getStats: (): Promise<GameStats> =>\r\n    api.get('/game/stats').then((res) => res.data),\r\n}\r\n\r\n// Tips API\r\nexport const tipsApi = {\r\n  getTips: (category?: string, sessionId?: string): Promise<TipsCollectionResponse> => {\r\n    const params = new URLSearchParams()\r\n    if (category) params.append('category', category)\r\n    if (sessionId) params.append('sessionId', sessionId)\r\n    return api.get(`/tips?${params.toString()}`).then((res) => res.data)\r\n  },\r\n  \r\n  getTip: (tipId: string): Promise<Tip> =>\r\n    api.get(`/tips/${tipId}`).then((res) => res.data),\r\n  \r\n  createTip: (request: CreateTipRequest, sessionId: string): Promise<Tip> =>\r\n    api.post(`/tips?sessionId=${sessionId}`, request).then((res) => res.data),\r\n  \r\n  generateTips: (request: GenerateTipsRequest): Promise<Tip[]> =>\r\n    api.post('/tips/generate', request).then((res) => res.data),\r\n  \r\n  likeTip: (tipId: string, sessionId: string): Promise<void> =>\r\n    api.post(`/tips/${tipId}/like?sessionId=${sessionId}`).then((res) => res.data),\r\n  \r\n  unlikeTip: (tipId: string, sessionId: string): Promise<void> =>\r\n    api.delete(`/tips/${tipId}/like?sessionId=${sessionId}`).then((res) => res.data),\r\n  \r\n  getCategories: (): Promise<string[]> =>\r\n    api.get('/tips/categories').then((res) => res.data),\r\n}\r\n\r\n// Analytics API\r\nexport const analyticsApi = {\r\n  getDashboard: (): Promise<DashboardData> =>\r\n    api.get('/analytics/dashboard').then((res) => res.data),\r\n  \r\n  getActiveUsers: (): Promise<UserActivity[]> =>\r\n    api.get('/analytics/users/active').then((res) => res.data),\r\n  \r\n  trackActivity: (sessionId: string, activity: string): Promise<void> =>\r\n    api.post(`/analytics/track/${sessionId}`, { activity }).then((res) => res.data),\r\n  \r\n  getHourlyActivity: (date: Date): Promise<HourlyActivity[]> =>\r\n    api.get(`/analytics/activity/${date.toISOString().split('T')[0]}`).then((res) => res.data),\r\n  \r\n  getUnifiedLeaderboard: (): Promise<UnifiedLeaderboardResponse> =>\r\n    api.get('/analytics/unified-leaderboard').then((res) => res.data),\r\n  \r\n  // Separate leaderboard endpoints for better performance\r\n  getQuizParticipants: (): Promise<UnifiedParticipant[]> =>\r\n    api.get('/analytics/leaderboard/quiz').then((res) => res.data),\r\n  \r\n  getGameParticipants: (): Promise<UnifiedParticipant[]> =>\r\n    api.get('/analytics/leaderboard/game').then((res) => res.data),\r\n  \r\n  getTipsContributors: (): Promise<UnifiedParticipant[]> =>\r\n    api.get('/analytics/leaderboard/tips').then((res) => res.data),\r\n}\r\n\r\nexport default api","import React, { useRef, useEffect, useState, useCallback } from 'react'\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { useSession } from '../../../shared/contexts/SessionContext'\r\nimport { gameApi } from '../../../shared/services/api'\r\nimport { SubmitScoreRequest } from '../../../shared/types'\r\n\r\ninterface GameState {\r\n  player: {\r\n    x: number\r\n    y: number\r\n    angle: number\r\n    velocity: { x: number; y: number }\r\n    radius: number\r\n  }\r\n  bullets: Array<{\r\n    x: number\r\n    y: number\r\n    velocity: { x: number; y: number }\r\n    life: number\r\n  }>\r\n  asteroids: Array<{\r\n    x: number\r\n    y: number\r\n    velocity: { x: number; y: number }\r\n    radius: number\r\n    angle: number\r\n    rotationSpeed: number\r\n  }>\r\n  score: number\r\n  level: number\r\n  lives: number\r\n  gameStartTime: number\r\n  asteroidsDestroyed: number\r\n  isGameOver: boolean\r\n  isPaused: boolean\r\n}\r\n\r\nconst SpaceshipGame: React.FC = () => {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null)\r\n  const gameLoopRef = useRef<number>()\r\n  const keysRef = useRef<Set<string>>(new Set())\r\n  const [gameState, setGameState] = useState<GameState | null>(null)\r\n  const [showLeaderboard, setShowLeaderboard] = useState(false)\r\n  const [playerName, setPlayerName] = useState('')\r\n  const [showNameInput, setShowNameInput] = useState(false)\r\n  const { session } = useSession()\r\n  const queryClient = useQueryClient()\r\n\r\n  // Game constants\r\n  const CANVAS_WIDTH = 800\r\n  const CANVAS_HEIGHT = 600\r\n  const PLAYER_SIZE = 15\r\n  const BULLET_SPEED = 8\r\n  const ASTEROID_MIN_SIZE = 20\r\n  const ASTEROID_MAX_SIZE = 50\r\n  const PLAYER_ACCELERATION = 0.3\r\n  const PLAYER_MAX_SPEED = 8\r\n  const FRICTION = 0.98\r\n\r\n  // API queries\r\n  const { data: leaderboard } = useQuery({\r\n    queryKey: ['leaderboard', session?.sessionId],\r\n    queryFn: () => gameApi.getLeaderboard(session?.sessionId),\r\n    enabled: showLeaderboard\r\n  })\r\n\r\n  const submitScoreMutation = useMutation({\r\n    mutationFn: (request: SubmitScoreRequest) => gameApi.submitScore(request),\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['leaderboard'] })\r\n      setShowNameInput(false)\r\n      setShowLeaderboard(true)\r\n    }\r\n  })\r\n\r\n  // Pre-fill player name if user has a quiz session\r\n  useEffect(() => {\r\n    if (session?.name && !playerName) {\r\n      setPlayerName(session.name)\r\n    }\r\n  }, [session, playerName])\r\n\r\n  // Initialize game\r\n  const initializeGame = useCallback(() => {\r\n    const newGameState: GameState = {\r\n      player: {\r\n        x: CANVAS_WIDTH / 2,\r\n        y: CANVAS_HEIGHT / 2,\r\n        angle: 0,\r\n        velocity: { x: 0, y: 0 },\r\n        radius: PLAYER_SIZE\r\n      },\r\n      bullets: [],\r\n      asteroids: [],\r\n      score: 0,\r\n      level: 1,\r\n      lives: 3,\r\n      gameStartTime: Date.now(),\r\n      asteroidsDestroyed: 0,\r\n      isGameOver: false,\r\n      isPaused: false\r\n    }\r\n\r\n    // Create initial asteroids\r\n    for (let i = 0; i < 5; i++) {\r\n      newGameState.asteroids.push(createAsteroid())\r\n    }\r\n\r\n    setGameState(newGameState)\r\n  }, [])\r\n\r\n  // Create asteroid\r\n  const createAsteroid = useCallback(() => {\r\n    const radius = ASTEROID_MIN_SIZE + Math.random() * (ASTEROID_MAX_SIZE - ASTEROID_MIN_SIZE)\r\n    let x, y\r\n    \r\n    // Spawn asteroids away from player\r\n    do {\r\n      x = Math.random() * CANVAS_WIDTH\r\n      y = Math.random() * CANVAS_HEIGHT\r\n    } while (\r\n      Math.sqrt((x - CANVAS_WIDTH/2) ** 2 + (y - CANVAS_HEIGHT/2) ** 2) < 100\r\n    )\r\n\r\n    return {\r\n      x,\r\n      y,\r\n      velocity: {\r\n        x: (Math.random() - 0.5) * 4,\r\n        y: (Math.random() - 0.5) * 4\r\n      },\r\n      radius,\r\n      angle: Math.random() * Math.PI * 2,\r\n      rotationSpeed: (Math.random() - 0.5) * 0.1\r\n    }\r\n  }, [])\r\n\r\n  // Handle keyboard input\r\n  useEffect(() => {\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      keysRef.current.add(e.code)\r\n      \r\n      if (e.code === 'Space') {\r\n        e.preventDefault()\r\n        if (gameState && !gameState.isGameOver && !gameState.isPaused) {\r\n          shoot()\r\n        }\r\n      }\r\n      \r\n      if (e.code === 'KeyP') {\r\n        togglePause()\r\n      }\r\n    }\r\n\r\n    const handleKeyUp = (e: KeyboardEvent) => {\r\n      keysRef.current.delete(e.code)\r\n    }\r\n\r\n    window.addEventListener('keydown', handleKeyDown)\r\n    window.addEventListener('keyup', handleKeyUp)\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown)\r\n      window.removeEventListener('keyup', handleKeyUp)\r\n    }\r\n  }, [gameState])\r\n\r\n  // Shoot bullet\r\n  const shoot = useCallback(() => {\r\n    if (!gameState) return\r\n\r\n    const bullet = {\r\n      x: gameState.player.x,\r\n      y: gameState.player.y,\r\n      velocity: {\r\n        x: Math.cos(gameState.player.angle) * BULLET_SPEED,\r\n        y: Math.sin(gameState.player.angle) * BULLET_SPEED\r\n      },\r\n      life: 60 // bullets live for 60 frames\r\n    }\r\n\r\n    setGameState(prev => prev ? {\r\n      ...prev,\r\n      bullets: [...prev.bullets, bullet]\r\n    } : null)\r\n  }, [gameState])\r\n\r\n  // Toggle pause\r\n  const togglePause = useCallback(() => {\r\n    setGameState(prev => prev ? {\r\n      ...prev,\r\n      isPaused: !prev.isPaused\r\n    } : null)\r\n  }, [])\r\n\r\n  // Game loop\r\n  const gameLoop = useCallback(() => {\r\n    if (!gameState || gameState.isGameOver || gameState.isPaused) return\r\n\r\n    const newState = { ...gameState }\r\n\r\n    // Handle player input\r\n    if (keysRef.current.has('ArrowLeft') || keysRef.current.has('KeyA')) {\r\n      newState.player.angle -= 0.1\r\n    }\r\n    if (keysRef.current.has('ArrowRight') || keysRef.current.has('KeyD')) {\r\n      newState.player.angle += 0.1\r\n    }\r\n    if (keysRef.current.has('ArrowUp') || keysRef.current.has('KeyW')) {\r\n      newState.player.velocity.x += Math.cos(newState.player.angle) * PLAYER_ACCELERATION\r\n      newState.player.velocity.y += Math.sin(newState.player.angle) * PLAYER_ACCELERATION\r\n    }\r\n\r\n    // Apply friction and speed limit\r\n    newState.player.velocity.x *= FRICTION\r\n    newState.player.velocity.y *= FRICTION\r\n    \r\n    const speed = Math.sqrt(newState.player.velocity.x ** 2 + newState.player.velocity.y ** 2)\r\n    if (speed > PLAYER_MAX_SPEED) {\r\n      newState.player.velocity.x = (newState.player.velocity.x / speed) * PLAYER_MAX_SPEED\r\n      newState.player.velocity.y = (newState.player.velocity.y / speed) * PLAYER_MAX_SPEED\r\n    }\r\n\r\n    // Update player position\r\n    newState.player.x += newState.player.velocity.x\r\n    newState.player.y += newState.player.velocity.y\r\n\r\n    // Wrap player around screen\r\n    if (newState.player.x < 0) newState.player.x = CANVAS_WIDTH\r\n    if (newState.player.x > CANVAS_WIDTH) newState.player.x = 0\r\n    if (newState.player.y < 0) newState.player.y = CANVAS_HEIGHT\r\n    if (newState.player.y > CANVAS_HEIGHT) newState.player.y = 0\r\n\r\n    // Update bullets\r\n    newState.bullets = newState.bullets\r\n      .map(bullet => ({\r\n        ...bullet,\r\n        x: bullet.x + bullet.velocity.x,\r\n        y: bullet.y + bullet.velocity.y,\r\n        life: bullet.life - 1\r\n      }))\r\n      .filter(bullet => bullet.life > 0 && \r\n        bullet.x >= 0 && bullet.x <= CANVAS_WIDTH &&\r\n        bullet.y >= 0 && bullet.y <= CANVAS_HEIGHT)\r\n\r\n    // Update asteroids\r\n    newState.asteroids = newState.asteroids.map(asteroid => ({\r\n      ...asteroid,\r\n      x: asteroid.x + asteroid.velocity.x,\r\n      y: asteroid.y + asteroid.velocity.y,\r\n      angle: asteroid.angle + asteroid.rotationSpeed\r\n    }))\r\n\r\n    // Wrap asteroids around screen\r\n    newState.asteroids.forEach(asteroid => {\r\n      if (asteroid.x < -asteroid.radius) asteroid.x = CANVAS_WIDTH + asteroid.radius\r\n      if (asteroid.x > CANVAS_WIDTH + asteroid.radius) asteroid.x = -asteroid.radius\r\n      if (asteroid.y < -asteroid.radius) asteroid.y = CANVAS_HEIGHT + asteroid.radius\r\n      if (asteroid.y > CANVAS_HEIGHT + asteroid.radius) asteroid.y = -asteroid.radius\r\n    })\r\n\r\n    // Check bullet-asteroid collisions\r\n    for (let i = newState.bullets.length - 1; i >= 0; i--) {\r\n      const bullet = newState.bullets[i]\r\n      for (let j = newState.asteroids.length - 1; j >= 0; j--) {\r\n        const asteroid = newState.asteroids[j]\r\n        const distance = Math.sqrt(\r\n          (bullet.x - asteroid.x) ** 2 + (bullet.y - asteroid.y) ** 2\r\n        )\r\n        \r\n        if (distance < asteroid.radius) {\r\n          // Remove bullet and asteroid\r\n          newState.bullets.splice(i, 1)\r\n          newState.asteroids.splice(j, 1)\r\n          \r\n          // Add score\r\n          newState.score += Math.floor(asteroid.radius)\r\n          newState.asteroidsDestroyed++\r\n          \r\n          // Split large asteroids\r\n          if (asteroid.radius > 30) {\r\n            for (let k = 0; k < 2; k++) {\r\n              newState.asteroids.push({\r\n                x: asteroid.x,\r\n                y: asteroid.y,\r\n                velocity: {\r\n                  x: (Math.random() - 0.5) * 6,\r\n                  y: (Math.random() - 0.5) * 6\r\n                },\r\n                radius: asteroid.radius / 2,\r\n                angle: Math.random() * Math.PI * 2,\r\n                rotationSpeed: (Math.random() - 0.5) * 0.2\r\n              })\r\n            }\r\n          }\r\n          break\r\n        }\r\n      }\r\n    }\r\n\r\n    // Check player-asteroid collisions\r\n    for (const asteroid of newState.asteroids) {\r\n      const distance = Math.sqrt(\r\n        (newState.player.x - asteroid.x) ** 2 + (newState.player.y - asteroid.y) ** 2\r\n      )\r\n      \r\n      if (distance < newState.player.radius + asteroid.radius) {\r\n        newState.lives--\r\n        \r\n        if (newState.lives <= 0) {\r\n          newState.isGameOver = true\r\n          setShowNameInput(true)\r\n        } else {\r\n          // Reset player position\r\n          newState.player.x = CANVAS_WIDTH / 2\r\n          newState.player.y = CANVAS_HEIGHT / 2\r\n          newState.player.velocity = { x: 0, y: 0 }\r\n        }\r\n        break\r\n      }\r\n    }\r\n\r\n    // Level progression\r\n    if (newState.asteroids.length === 0 && !newState.isGameOver) {\r\n      newState.level++\r\n      const asteroidCount = Math.min(5 + newState.level, 12)\r\n      for (let i = 0; i < asteroidCount; i++) {\r\n        newState.asteroids.push(createAsteroid())\r\n      }\r\n    }\r\n\r\n    setGameState(newState)\r\n  }, [gameState, createAsteroid])\r\n\r\n  // Start game loop\r\n  useEffect(() => {\r\n    if (gameState && !gameState.isGameOver && !gameState.isPaused) {\r\n      gameLoopRef.current = requestAnimationFrame(() => {\r\n        gameLoop()\r\n        gameLoopRef.current = requestAnimationFrame(gameLoop)\r\n      })\r\n    }\r\n\r\n    return () => {\r\n      if (gameLoopRef.current) {\r\n        cancelAnimationFrame(gameLoopRef.current)\r\n      }\r\n    }\r\n  }, [gameLoop, gameState])\r\n\r\n  // Render game\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current\r\n    if (!canvas || !gameState) return\r\n\r\n    const ctx = canvas.getContext('2d')\r\n    if (!ctx) return\r\n\r\n    // Clear canvas\r\n    ctx.fillStyle = '#000011'\r\n    ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\r\n\r\n    // Draw stars\r\n    ctx.fillStyle = '#ffffff'\r\n    for (let i = 0; i < 100; i++) {\r\n      const x = (i * 37) % CANVAS_WIDTH\r\n      const y = (i * 73) % CANVAS_HEIGHT\r\n      ctx.fillRect(x, y, 1, 1)\r\n    }\r\n\r\n    // Draw player\r\n    ctx.save()\r\n    ctx.translate(gameState.player.x, gameState.player.y)\r\n    ctx.rotate(gameState.player.angle)\r\n    ctx.strokeStyle = '#00ff00'\r\n    ctx.lineWidth = 2\r\n    ctx.beginPath()\r\n    ctx.moveTo(15, 0)\r\n    ctx.lineTo(-10, -8)\r\n    ctx.lineTo(-5, 0)\r\n    ctx.lineTo(-10, 8)\r\n    ctx.closePath()\r\n    ctx.stroke()\r\n    ctx.restore()\r\n\r\n    // Draw bullets\r\n    ctx.fillStyle = '#ffff00'\r\n    gameState.bullets.forEach(bullet => {\r\n      ctx.beginPath()\r\n      ctx.arc(bullet.x, bullet.y, 2, 0, Math.PI * 2)\r\n      ctx.fill()\r\n    })\r\n\r\n    // Draw asteroids\r\n    ctx.strokeStyle = '#888888'\r\n    ctx.lineWidth = 2\r\n    gameState.asteroids.forEach(asteroid => {\r\n      ctx.save()\r\n      ctx.translate(asteroid.x, asteroid.y)\r\n      ctx.rotate(asteroid.angle)\r\n      ctx.beginPath()\r\n      const points = 8\r\n      for (let i = 0; i < points; i++) {\r\n        const angle = (i / points) * Math.PI * 2\r\n        const radius = asteroid.radius * (0.8 + Math.sin(i * 3) * 0.2)\r\n        const x = Math.cos(angle) * radius\r\n        const y = Math.sin(angle) * radius\r\n        if (i === 0) ctx.moveTo(x, y)\r\n        else ctx.lineTo(x, y)\r\n      }\r\n      ctx.closePath()\r\n      ctx.stroke()\r\n      ctx.restore()\r\n    })\r\n\r\n    // Draw UI\r\n    ctx.fillStyle = '#ffffff'\r\n    ctx.font = '20px Arial'\r\n    ctx.fillText(`Score: ${gameState.score}`, 10, 30)\r\n    ctx.fillText(`Level: ${gameState.level}`, 10, 60)\r\n    ctx.fillText(`Lives: ${gameState.lives}`, 10, 90)\r\n\r\n    if (gameState.isPaused) {\r\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.7)'\r\n      ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\r\n      ctx.fillStyle = '#ffffff'\r\n      ctx.font = '48px Arial'\r\n      ctx.textAlign = 'center'\r\n      ctx.fillText('PAUSED', CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2)\r\n      ctx.font = '24px Arial'\r\n      ctx.fillText('Press P to resume', CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2 + 50)\r\n      ctx.textAlign = 'left'\r\n    }\r\n\r\n    if (gameState.isGameOver) {\r\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.8)'\r\n      ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\r\n      ctx.fillStyle = '#ff0000'\r\n      ctx.font = '48px Arial'\r\n      ctx.textAlign = 'center'\r\n      ctx.fillText('GAME OVER', CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2 - 50)\r\n      ctx.fillStyle = '#ffffff'\r\n      ctx.font = '24px Arial'\r\n      ctx.fillText(`Final Score: ${gameState.score}`, CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2)\r\n      ctx.fillText(`Level Reached: ${gameState.level}`, CANVAS_WIDTH / 2, CANVAS_HEIGHT / 2 + 30)\r\n      ctx.textAlign = 'left'\r\n    }\r\n  }, [gameState])\r\n\r\n  // Submit score\r\n  const handleSubmitScore = () => {\r\n    if (!gameState || !playerName.trim()) return\r\n\r\n    const gameDurationMs = Date.now() - gameState.gameStartTime\r\n    const gameDurationSeconds = Math.floor(gameDurationMs / 1000)\r\n    const hours = Math.floor(gameDurationSeconds / 3600)\r\n    const minutes = Math.floor((gameDurationSeconds % 3600) / 60)\r\n    const seconds = gameDurationSeconds % 60\r\n    const gameDurationTimeSpan = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`\r\n    \r\n    submitScoreMutation.mutate({\r\n      sessionId: session?.sessionId || 'game-only-session', // Use quiz session if available, otherwise use a default\r\n      playerName: playerName.trim(),\r\n      score: gameState.score,\r\n      gameDuration: gameDurationTimeSpan,\r\n      level: gameState.level,\r\n      asteroidsDestroyed: gameState.asteroidsDestroyed\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"text-center\">\r\n        <h2 className=\"text-3xl font-bold text-gray-900 mb-2\"> Spaceship Game</h2>\r\n        <p className=\"text-gray-700\">\r\n          Use WASD or Arrow Keys to move, Space to shoot, P to pause\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"flex justify-center space-x-4 mb-4\">\r\n        <button\r\n          onClick={initializeGame}\r\n          className=\"btn btn-primary\"\r\n        >\r\n          {gameState ? 'New Game' : 'Start Game'}\r\n        </button>\r\n        \r\n        <button\r\n          onClick={() => setShowLeaderboard(!showLeaderboard)}\r\n          className=\"btn btn-secondary\"\r\n        >\r\n          {showLeaderboard ? 'Hide Leaderboard' : 'Show Leaderboard'}\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"flex justify-center\">\r\n        <div className=\"relative\">\r\n          <canvas\r\n            ref={canvasRef}\r\n            width={CANVAS_WIDTH}\r\n            height={CANVAS_HEIGHT}\r\n            className=\"border-2 border-purple-500 rounded-lg bg-black\"\r\n            tabIndex={0}\r\n          />\r\n          \r\n          {!gameState && (\r\n            <div className=\"absolute inset-0 flex items-center justify-center bg-black bg-opacity-75 rounded-lg\">\r\n              <div className=\"text-center text-white\">\r\n                <h3 className=\"text-2xl font-bold mb-4\">Ready to Play?</h3>\r\n                <p className=\"mb-4\">Destroy asteroids to score points!</p>\r\n                <button onClick={initializeGame} className=\"btn btn-primary\">\r\n                  Start Game\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Name Input Modal */}\r\n      {showNameInput && gameState?.isGameOver && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full mx-4\">\r\n            <h3 className=\"text-xl font-bold mb-4\">Submit Your Score!</h3>\r\n            <p className=\"text-gray-600 mb-4\">\r\n              Score: {gameState.score} | Level: {gameState.level}\r\n            </p>\r\n            <input\r\n              type=\"text\"\r\n              value={playerName}\r\n              onChange={(e) => setPlayerName(e.target.value)}\r\n              placeholder=\"Enter your name...\"\r\n              className=\"w-full p-3 border border-gray-300 rounded-lg mb-4\"\r\n              maxLength={20}\r\n              onKeyPress={(e) => e.key === 'Enter' && handleSubmitScore()}\r\n            />\r\n            <div className=\"flex space-x-3\">\r\n              <button\r\n                onClick={handleSubmitScore}\r\n                disabled={!playerName.trim() || submitScoreMutation.isPending}\r\n                className=\"flex-1 btn btn-primary disabled:opacity-50\"\r\n              >\r\n                {submitScoreMutation.isPending ? 'Submitting...' : 'Submit Score'}\r\n              </button>\r\n              <button\r\n                onClick={() => setShowNameInput(false)}\r\n                className=\"flex-1 btn btn-secondary\"\r\n              >\r\n                Skip\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Leaderboard */}\r\n      {showLeaderboard && leaderboard && (\r\n        <div className=\"card\">\r\n          <h3 className=\"text-2xl font-bold text-gray-900 mb-6 text-center\"> Leaderboard</h3>\r\n          \r\n          <div className=\"grid md:grid-cols-3 gap-6\">\r\n            {/* Daily Leaderboard */}\r\n            <div>\r\n              <h4 className=\"text-lg font-semibold text-purple-600 mb-3\">Today</h4>\r\n              <div className=\"space-y-2\">\r\n                {leaderboard.dailyLeaderboard.slice(0, 5).map((entry, index) => (\r\n                  <div key={index} className=\"flex justify-between items-center bg-gray-50 rounded-lg p-2\">\r\n                    <span className=\"text-gray-900\">\r\n                      #{entry.rank} {entry.playerName}\r\n                    </span>\r\n                    <span className=\"text-purple-600 font-bold\">{entry.score}</span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Weekly Leaderboard */}\r\n            <div>\r\n              <h4 className=\"text-lg font-semibold text-blue-600 mb-3\">This Week</h4>\r\n              <div className=\"space-y-2\">\r\n                {leaderboard.weeklyLeaderboard.slice(0, 5).map((entry, index) => (\r\n                  <div key={index} className=\"flex justify-between items-center bg-gray-50 rounded-lg p-2\">\r\n                    <span className=\"text-gray-900\">\r\n                      #{entry.rank} {entry.playerName}\r\n                    </span>\r\n                    <span className=\"text-blue-600 font-bold\">{entry.score}</span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* All Time Leaderboard */}\r\n            <div>\r\n              <h4 className=\"text-lg font-semibold text-yellow-600 mb-3\">All Time</h4>\r\n              <div className=\"space-y-2\">\r\n                {leaderboard.allTimeLeaderboard.slice(0, 5).map((entry, index) => (\r\n                  <div key={index} className=\"flex justify-between items-center bg-gray-50 rounded-lg p-2\">\r\n                    <span className=\"text-gray-900\">\r\n                      #{entry.rank} {entry.playerName}\r\n                    </span>\r\n                    <span className=\"text-yellow-600 font-bold\">{entry.score}</span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {leaderboard.playerBest && (\r\n            <div className=\"mt-6 p-4 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg\">\r\n              <h4 className=\"text-white font-semibold mb-2\">Your Best Score</h4>\r\n              <div className=\"text-white\">\r\n                <span className=\"font-bold\">{leaderboard.playerBest.score}</span> points\r\n                <span className=\"ml-4 text-purple-200\">Level {leaderboard.playerBest.level}</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Game Instructions */}\r\n      <div className=\"card\">\r\n        <h3 className=\"text-xl font-bold text-gray-900 mb-4\">How to Play</h3>\r\n        <div className=\"grid md:grid-cols-2 gap-4 text-gray-700\">\r\n          <div>\r\n            <h4 className=\"font-semibold text-purple-600 mb-2\">Controls</h4>\r\n            <ul className=\"space-y-1 text-sm\">\r\n              <li> WASD or Arrow Keys: Move ship</li>\r\n              <li> Space: Shoot</li>\r\n              <li> P: Pause/Resume</li>\r\n            </ul>\r\n          </div>\r\n          <div>\r\n            <h4 className=\"font-semibold text-blue-600 mb-2\">Gameplay</h4>\r\n            <ul className=\"space-y-1 text-sm\">\r\n              <li> Destroy asteroids to score points</li>\r\n              <li> Large asteroids split into smaller ones</li>\r\n              <li> Avoid collisions - you have 3 lives</li>\r\n              <li> Each level adds more asteroids</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SpaceshipGame ","import React, { useState } from 'react'\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { useSession } from '../../../shared/contexts/SessionContext'\r\nimport { tipsApi, sessionApi } from '../../../shared/services/api'\r\n\r\nconst CATEGORIES = [\r\n  { id: 'all', name: 'All Tips', icon: '' },\r\n  { id: 'cursor-basics', name: 'Cursor Basics', icon: '' },\r\n  { id: 'cursor-advanced', name: 'Cursor Advanced', icon: '' },\r\n  { id: 'ai-first-dev', name: 'AI-First Development', icon: '' },\r\n  { id: 'dotnet-react', name: '.NET & React', icon: '' },\r\n  { id: 'best-practices', name: 'Best Practices', icon: '' },\r\n  { id: 'productivity', name: 'Productivity', icon: '' },\r\n  { id: 'troubleshooting', name: 'Troubleshooting', icon: '' }\r\n]\r\n\r\nconst DIFFICULTY_COLORS: Record<string, string> = {\r\n  beginner: 'bg-green-100 text-green-800',\r\n  intermediate: 'bg-yellow-100 text-yellow-800',\r\n  advanced: 'bg-red-100 text-red-800'\r\n}\r\n\r\nconst TipsAndTricks: React.FC = () => {\r\n  const [selectedCategory, setSelectedCategory] = useState('all')\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [showCreateForm, setShowCreateForm] = useState(false)\r\n  const [showNameForm, setShowNameForm] = useState(false)\r\n  const [userName, setUserName] = useState('')\r\n  const [newTip, setNewTip] = useState({\r\n    title: '',\r\n    content: '',\r\n    category: 'best-practices',\r\n    difficulty: 'beginner',\r\n    tags: ''\r\n  })\r\n  const { session, setSession } = useSession()\r\n  const queryClient = useQueryClient()\r\n\r\n  // API queries - fetch tips from backend with session context\r\n  const { data: tipsResponse, isLoading } = useQuery({\r\n    queryKey: ['tips', selectedCategory, session?.sessionId],\r\n    queryFn: () => tipsApi.getTips(\r\n      selectedCategory === 'all' ? undefined : selectedCategory,\r\n      session?.sessionId\r\n    ),\r\n    staleTime: 30000, // 30 seconds\r\n  })\r\n\r\n  // Use API tips or fallback to empty array\r\n  const allTips = tipsResponse?.tips || []\r\n\r\n  // Filter tips based on search\r\n  const filteredTips = allTips.filter(tip => {\r\n    const matchesSearch = searchQuery === '' || \r\n      tip.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      tip.content.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      tip.tags.some(tag => tag.toLowerCase().includes(searchQuery.toLowerCase()))\r\n    \r\n    return matchesSearch\r\n  })\r\n\r\n  // Session creation mutation\r\n  const createSessionMutation = useMutation({\r\n    mutationFn: (name: string) => sessionApi.create({ name }),\r\n    onSuccess: (newSession) => {\r\n      setSession(newSession)\r\n      setShowNameForm(false)\r\n      setShowCreateForm(true)\r\n      setUserName('')\r\n    },\r\n    onError: (error) => {\r\n      console.error('Failed to create session:', error)\r\n      alert('Failed to create session. Please try again.')\r\n    }\r\n  })\r\n\r\n  const createTipMutation = useMutation({\r\n    mutationFn: (tip: any) => tipsApi.createTip(tip, session?.sessionId || ''),\r\n    onSuccess: () => {\r\n      // Refetch tips to get updated list\r\n      queryClient.invalidateQueries({ queryKey: ['tips'] })\r\n      setShowCreateForm(false)\r\n      setNewTip({ title: '', content: '', category: 'best-practices', difficulty: 'beginner', tags: '' })\r\n    }\r\n  })\r\n\r\n  const likeTipMutation = useMutation({\r\n    mutationFn: (tipId: string) => tipsApi.likeTip(tipId, session?.sessionId || ''),\r\n    onSuccess: () => {\r\n      // Refetch tips to get updated like status\r\n      queryClient.invalidateQueries({ queryKey: ['tips'] })\r\n    },\r\n    onError: (error) => {\r\n      console.error('Failed to like tip:', error)\r\n      // Don't show alert for already liked tips (400 error)\r\n      if (!error.message.includes('400')) {\r\n        alert('Failed to like tip. Please try again.')\r\n      }\r\n    }\r\n  })\r\n\r\n  const handleAddTipClick = () => {\r\n    if (!session) {\r\n      setShowNameForm(true)\r\n    } else {\r\n      setShowCreateForm(true)\r\n    }\r\n  }\r\n\r\n  const handleCreateSession = () => {\r\n    if (!userName.trim()) return\r\n    createSessionMutation.mutate(userName.trim())\r\n  }\r\n\r\n  const handleCreateTip = () => {\r\n    if (!newTip.title.trim() || !newTip.content.trim()) return\r\n\r\n    const tip = {\r\n      ...newTip,\r\n      tags: newTip.tags.split(',').map(tag => tag.trim()).filter(Boolean)\r\n    }\r\n\r\n    createTipMutation.mutate(tip)\r\n  }\r\n\r\n  const handleLikeTip = (tipId: string) => {\r\n    if (!session) {\r\n      alert('Please create a session first to like tips!')\r\n      return\r\n    }\r\n    \r\n    const tip = allTips.find(t => t.id === tipId)\r\n    if (tip && !tip.isLikedByUser) {\r\n      likeTipMutation.mutate(tipId)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"text-center\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\"> Tips & Tricks</h1>\r\n        <p className=\"text-gray-700\">\r\n          Master Cursor and Windsurf with these expert tips and community wisdom\r\n        </p>\r\n        {session && (\r\n          <p className=\"text-sm text-purple-600 mt-2\">\r\n            Welcome back, {session.name}! You can now add tips and like content.\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Search and Add */}\r\n      <div className=\"card\">\r\n        <div className=\"flex flex-col lg:flex-row gap-4 mb-6\">\r\n          <div className=\"flex-1\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search tips...\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n              className=\"w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n            />\r\n          </div>\r\n          <button\r\n            onClick={handleAddTipClick}\r\n            className=\"btn btn-primary whitespace-nowrap\"\r\n          >\r\n             Add Tip\r\n          </button>\r\n        </div>\r\n\r\n        {/* Category Filter */}\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          {CATEGORIES.map(category => (\r\n            <button\r\n              key={category.id}\r\n              onClick={() => setSelectedCategory(category.id)}\r\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${\r\n                selectedCategory === category.id\r\n                  ? 'bg-purple-500 text-white'\r\n                  : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\r\n              }`}\r\n            >\r\n              {category.icon} {category.name}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tips Grid */}\r\n      {isLoading ? (\r\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {[...Array(6)].map((_, i) => (\r\n            <div key={i} className=\"card animate-pulse\">\r\n              <div className=\"h-4 bg-gray-200 rounded mb-3\"></div>\r\n              <div className=\"h-3 bg-gray-200 rounded mb-2\"></div>\r\n              <div className=\"h-3 bg-gray-200 rounded mb-4\"></div>\r\n              <div className=\"flex justify-between items-center\">\r\n                <div className=\"h-3 bg-gray-200 rounded w-16\"></div>\r\n                <div className=\"h-3 bg-gray-200 rounded w-12\"></div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {filteredTips.map(tip => (\r\n            <div key={tip.id} className=\"card hover:shadow-xl transition-all\">\r\n              <div className=\"flex justify-between items-start mb-3\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">{tip.title}</h3>\r\n                <span className={`px-2 py-1 rounded-full text-xs font-medium ${DIFFICULTY_COLORS[tip.difficulty]}`}>\r\n                  {tip.difficulty}\r\n                </span>\r\n              </div>\r\n              \r\n              <p className=\"text-gray-700 text-sm mb-4 leading-relaxed\">\r\n                {tip.content}\r\n              </p>\r\n              \r\n              <div className=\"flex flex-wrap gap-1 mb-4\">\r\n                {tip.tags.map(tag => (\r\n                  <span key={tag} className=\"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full\">\r\n                    #{tag}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n              \r\n              <div className=\"flex justify-between items-center\">\r\n                <span className=\"text-xs text-gray-500\">\r\n                  by {tip.createdBy}\r\n                </span>\r\n                <button\r\n                  onClick={() => handleLikeTip(tip.id)}\r\n                  disabled={tip.isLikedByUser || likeTipMutation.isPending}\r\n                  className={`flex items-center space-x-1 text-sm ${\r\n                    tip.isLikedByUser \r\n                      ? 'text-red-500 cursor-not-allowed' \r\n                      : 'text-gray-500 hover:text-red-500 cursor-pointer'\r\n                  } ${likeTipMutation.isPending ? 'opacity-50' : ''}`}\r\n                >\r\n                  <span>{tip.isLikedByUser ? '' : ''}</span>\r\n                  <span>{tip.likes}</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {!isLoading && filteredTips.length === 0 && (\r\n        <div className=\"text-center py-12\">\r\n          <div className=\"text-6xl mb-4\"></div>\r\n          <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">No tips found</h3>\r\n          <p className=\"text-gray-600\">\r\n            Try adjusting your search or category filter, or create a new tip!\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Create Tip Modal */}\r\n      {showCreateForm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full\">\r\n            <h3 className=\"text-xl font-bold mb-4\">Share Your Tip</h3>\r\n            \r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Title</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={newTip.title}\r\n                  onChange={(e) => setNewTip(prev => ({ ...prev, title: e.target.value }))}\r\n                  placeholder=\"Enter tip title...\"\r\n                  className=\"w-full p-3 border border-gray-300 rounded-lg\"\r\n                  maxLength={100}\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Content</label>\r\n                <textarea\r\n                  value={newTip.content}\r\n                  onChange={(e) => setNewTip(prev => ({ ...prev, content: e.target.value }))}\r\n                  placeholder=\"Share your tip or trick...\"\r\n                  className=\"w-full p-3 border border-gray-300 rounded-lg h-32 resize-none\"\r\n                  maxLength={500}\r\n                />\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Category</label>\r\n                <select\r\n                  value={newTip.category}\r\n                  onChange={(e) => setNewTip(prev => ({ ...prev, category: e.target.value }))}\r\n                  className=\"w-full p-3 border border-gray-300 rounded-lg\"\r\n                >\r\n                  {CATEGORIES.slice(1).map(category => (\r\n                    <option key={category.id} value={category.id}>\r\n                      {category.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Difficulty</label>\r\n                <select\r\n                  value={newTip.difficulty}\r\n                  onChange={(e) => setNewTip(prev => ({ ...prev, difficulty: e.target.value }))}\r\n                  className=\"w-full p-3 border border-gray-300 rounded-lg\"\r\n                >\r\n                  <option value=\"beginner\"> Beginner</option>\r\n                  <option value=\"intermediate\"> Intermediate</option>\r\n                  <option value=\"advanced\"> Advanced</option>\r\n                </select>\r\n              </div>\r\n              \r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Tags (comma-separated)</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={newTip.tags}\r\n                  onChange={(e) => setNewTip(prev => ({ ...prev, tags: e.target.value }))}\r\n                  placeholder=\"shortcuts, productivity, debugging\"\r\n                  className=\"w-full p-3 border border-gray-300 rounded-lg\"\r\n                />\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex space-x-3 mt-6\">\r\n              <button\r\n                onClick={handleCreateTip}\r\n                disabled={!newTip.title.trim() || !newTip.content.trim() || createTipMutation.isPending}\r\n                className=\"flex-1 btn btn-primary disabled:opacity-50\"\r\n              >\r\n                {createTipMutation.isPending ? 'Creating...' : 'Create Tip'}\r\n              </button>\r\n              <button\r\n                onClick={() => setShowCreateForm(false)}\r\n                className=\"flex-1 btn btn-secondary\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Name Input Modal */}\r\n      {showNameForm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n          <div className=\"bg-white rounded-lg p-6 max-w-md w-full\">\r\n            <h3 className=\"text-xl font-bold mb-4\"> Welcome to Tips & Tricks!</h3>\r\n            <p className=\"text-gray-600 mb-4\">\r\n              To add tips and like content, please tell us your name. This helps us track contributions and build a community.\r\n            </p>\r\n            \r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Your Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={userName}\r\n                  onChange={(e) => setUserName(e.target.value)}\r\n                  placeholder=\"Enter your name...\"\r\n                  className=\"w-full p-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500\"\r\n                  maxLength={50}\r\n                  onKeyPress={(e) => e.key === 'Enter' && handleCreateSession()}\r\n                />\r\n              </div>\r\n            </div>\r\n            \r\n            <div className=\"flex space-x-3 mt-6\">\r\n              <button\r\n                onClick={handleCreateSession}\r\n                disabled={!userName.trim() || createSessionMutation.isPending}\r\n                className=\"flex-1 btn btn-primary disabled:opacity-50\"\r\n              >\r\n                {createSessionMutation.isPending ? 'Creating Session...' : 'Continue'}\r\n              </button>\r\n              <button\r\n                onClick={() => {\r\n                  setShowNameForm(false)\r\n                  setUserName('')\r\n                }}\r\n                className=\"flex-1 btn btn-secondary\"\r\n              >\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Quick Start Guide */}\r\n      <div className=\"bg-gradient-to-r from-purple-500 to-blue-500 rounded-xl p-6\">\r\n        <h3 className=\"text-2xl font-bold text-white mb-4\"> Quick Start Guide</h3>\r\n        <div className=\"grid md:grid-cols-2 gap-6 text-white\">\r\n          <div>\r\n            <h4 className=\"font-semibold mb-2\">New to Cursor?</h4>\r\n            <ul className=\"space-y-1 text-sm opacity-90\">\r\n              <li> Start with @ to reference files</li>\r\n              <li> Use Cmd+K for inline editing</li>\r\n              <li> Try Cmd+L for chat mode</li>\r\n              <li> Create a .cursorrules file</li>\r\n            </ul>\r\n          </div>\r\n          <div>\r\n            <h4 className=\"font-semibold mb-2\">New to Windsurf?</h4>\r\n            <ul className=\"space-y-1 text-sm opacity-90\">\r\n              <li> Try Cascade for autonomous development</li>\r\n              <li> Use Flow for collaborative editing</li>\r\n              <li> Ask for project analysis</li>\r\n              <li> Request task planning</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Statistics */}\r\n      <div className=\"card\">\r\n        <h3 className=\"text-xl font-bold text-gray-900 mb-4\"> Tip Statistics</h3>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-purple-600\">{allTips.length}</div>\r\n            <div className=\"text-sm text-gray-600\">Total Tips</div>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-blue-600\">{CATEGORIES.length - 1}</div>\r\n            <div className=\"text-sm text-gray-600\">Categories</div>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-green-600\">\r\n              {allTips.filter(tip => tip.createdBy !== 'system').length}\r\n            </div>\r\n            <div className=\"text-sm text-gray-600\">Community Tips</div>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <div className=\"text-2xl font-bold text-orange-600\">\r\n              {allTips.reduce((sum, tip) => sum + tip.likes, 0)}\r\n            </div>\r\n            <div className=\"text-sm text-gray-600\">Total Likes</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TipsAndTricks ","/**\n   * table-core\n   *\n   * Copyright (c) TanStack\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE.md file in the root directory of this source tree.\n   *\n   * @license MIT\n   */\n// type Person = {\n//   firstName: string\n//   lastName: string\n//   age: number\n//   visits: number\n//   status: string\n//   progress: number\n//   createdAt: Date\n//   nested: {\n//     foo: [\n//       {\n//         bar: 'bar'\n//       }\n//     ]\n//     bar: { subBar: boolean }[]\n//     baz: {\n//       foo: 'foo'\n//       bar: {\n//         baz: 'baz'\n//       }\n//     }\n//   }\n// }\n\n// const test: DeepKeys<Person> = 'nested.foo.0.bar'\n// const test2: DeepKeys<Person> = 'nested.bar'\n\n// const helper = createColumnHelper<Person>()\n\n// helper.accessor('nested.foo', {\n//   cell: info => info.getValue(),\n// })\n\n// helper.accessor('nested.foo.0.bar', {\n//   cell: info => info.getValue(),\n// })\n\n// helper.accessor('nested.bar', {\n//   cell: info => info.getValue(),\n// })\n\nfunction createColumnHelper() {\n  return {\n    accessor: (accessor, column) => {\n      return typeof accessor === 'function' ? {\n        ...column,\n        accessorFn: accessor\n      } : {\n        ...column,\n        accessorKey: accessor\n      };\n    },\n    display: column => column,\n    group: column => column\n  };\n}\n\n// Is this type a tuple?\n\n// If this type is a tuple, what indices are allowed?\n\n///\n\nfunction functionalUpdate(updater, input) {\n  return typeof updater === 'function' ? updater(input) : updater;\n}\nfunction noop() {\n  //\n}\nfunction makeStateUpdater(key, instance) {\n  return updater => {\n    instance.setState(old => {\n      return {\n        ...old,\n        [key]: functionalUpdate(updater, old[key])\n      };\n    });\n  };\n}\nfunction isFunction(d) {\n  return d instanceof Function;\n}\nfunction isNumberArray(d) {\n  return Array.isArray(d) && d.every(val => typeof val === 'number');\n}\nfunction flattenBy(arr, getChildren) {\n  const flat = [];\n  const recurse = subArr => {\n    subArr.forEach(item => {\n      flat.push(item);\n      const children = getChildren(item);\n      if (children != null && children.length) {\n        recurse(children);\n      }\n    });\n  };\n  recurse(arr);\n  return flat;\n}\nfunction memo(getDeps, fn, opts) {\n  let deps = [];\n  let result;\n  return depArgs => {\n    let depTime;\n    if (opts.key && opts.debug) depTime = Date.now();\n    const newDeps = getDeps(depArgs);\n    const depsChanged = newDeps.length !== deps.length || newDeps.some((dep, index) => deps[index] !== dep);\n    if (!depsChanged) {\n      return result;\n    }\n    deps = newDeps;\n    let resultTime;\n    if (opts.key && opts.debug) resultTime = Date.now();\n    result = fn(...newDeps);\n    opts == null || opts.onChange == null || opts.onChange(result);\n    if (opts.key && opts.debug) {\n      if (opts != null && opts.debug()) {\n        const depEndTime = Math.round((Date.now() - depTime) * 100) / 100;\n        const resultEndTime = Math.round((Date.now() - resultTime) * 100) / 100;\n        const resultFpsPercentage = resultEndTime / 16;\n        const pad = (str, num) => {\n          str = String(str);\n          while (str.length < num) {\n            str = ' ' + str;\n          }\n          return str;\n        };\n        console.info(`%c ${pad(resultEndTime, 5)} /${pad(depEndTime, 5)} ms`, `\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0, Math.min(120 - 120 * resultFpsPercentage, 120))}deg 100% 31%);`, opts == null ? void 0 : opts.key);\n      }\n    }\n    return result;\n  };\n}\nfunction getMemoOptions(tableOptions, debugLevel, key, onChange) {\n  return {\n    debug: () => {\n      var _tableOptions$debugAl;\n      return (_tableOptions$debugAl = tableOptions == null ? void 0 : tableOptions.debugAll) != null ? _tableOptions$debugAl : tableOptions[debugLevel];\n    },\n    key: process.env.NODE_ENV === 'development' && key,\n    onChange\n  };\n}\n\nfunction createCell(table, row, column, columnId) {\n  const getRenderValue = () => {\n    var _cell$getValue;\n    return (_cell$getValue = cell.getValue()) != null ? _cell$getValue : table.options.renderFallbackValue;\n  };\n  const cell = {\n    id: `${row.id}_${column.id}`,\n    row,\n    column,\n    getValue: () => row.getValue(columnId),\n    renderValue: getRenderValue,\n    getContext: memo(() => [table, column, row, cell], (table, column, row, cell) => ({\n      table,\n      column,\n      row,\n      cell: cell,\n      getValue: cell.getValue,\n      renderValue: cell.renderValue\n    }), getMemoOptions(table.options, 'debugCells', 'cell.getContext'))\n  };\n  table._features.forEach(feature => {\n    feature.createCell == null || feature.createCell(cell, column, row, table);\n  }, {});\n  return cell;\n}\n\nfunction createColumn(table, columnDef, depth, parent) {\n  var _ref, _resolvedColumnDef$id;\n  const defaultColumn = table._getDefaultColumnDef();\n  const resolvedColumnDef = {\n    ...defaultColumn,\n    ...columnDef\n  };\n  const accessorKey = resolvedColumnDef.accessorKey;\n  let id = (_ref = (_resolvedColumnDef$id = resolvedColumnDef.id) != null ? _resolvedColumnDef$id : accessorKey ? typeof String.prototype.replaceAll === 'function' ? accessorKey.replaceAll('.', '_') : accessorKey.replace(/\\./g, '_') : undefined) != null ? _ref : typeof resolvedColumnDef.header === 'string' ? resolvedColumnDef.header : undefined;\n  let accessorFn;\n  if (resolvedColumnDef.accessorFn) {\n    accessorFn = resolvedColumnDef.accessorFn;\n  } else if (accessorKey) {\n    // Support deep accessor keys\n    if (accessorKey.includes('.')) {\n      accessorFn = originalRow => {\n        let result = originalRow;\n        for (const key of accessorKey.split('.')) {\n          var _result;\n          result = (_result = result) == null ? void 0 : _result[key];\n          if (process.env.NODE_ENV !== 'production' && result === undefined) {\n            console.warn(`\"${key}\" in deeply nested key \"${accessorKey}\" returned undefined.`);\n          }\n        }\n        return result;\n      };\n    } else {\n      accessorFn = originalRow => originalRow[resolvedColumnDef.accessorKey];\n    }\n  }\n  if (!id) {\n    if (process.env.NODE_ENV !== 'production') {\n      throw new Error(resolvedColumnDef.accessorFn ? `Columns require an id when using an accessorFn` : `Columns require an id when using a non-string header`);\n    }\n    throw new Error();\n  }\n  let column = {\n    id: `${String(id)}`,\n    accessorFn,\n    parent: parent,\n    depth,\n    columnDef: resolvedColumnDef,\n    columns: [],\n    getFlatColumns: memo(() => [true], () => {\n      var _column$columns;\n      return [column, ...((_column$columns = column.columns) == null ? void 0 : _column$columns.flatMap(d => d.getFlatColumns()))];\n    }, getMemoOptions(table.options, 'debugColumns', 'column.getFlatColumns')),\n    getLeafColumns: memo(() => [table._getOrderColumnsFn()], orderColumns => {\n      var _column$columns2;\n      if ((_column$columns2 = column.columns) != null && _column$columns2.length) {\n        let leafColumns = column.columns.flatMap(column => column.getLeafColumns());\n        return orderColumns(leafColumns);\n      }\n      return [column];\n    }, getMemoOptions(table.options, 'debugColumns', 'column.getLeafColumns'))\n  };\n  for (const feature of table._features) {\n    feature.createColumn == null || feature.createColumn(column, table);\n  }\n\n  // Yes, we have to convert table to unknown, because we know more than the compiler here.\n  return column;\n}\n\nconst debug = 'debugHeaders';\n//\n\nfunction createHeader(table, column, options) {\n  var _options$id;\n  const id = (_options$id = options.id) != null ? _options$id : column.id;\n  let header = {\n    id,\n    column,\n    index: options.index,\n    isPlaceholder: !!options.isPlaceholder,\n    placeholderId: options.placeholderId,\n    depth: options.depth,\n    subHeaders: [],\n    colSpan: 0,\n    rowSpan: 0,\n    headerGroup: null,\n    getLeafHeaders: () => {\n      const leafHeaders = [];\n      const recurseHeader = h => {\n        if (h.subHeaders && h.subHeaders.length) {\n          h.subHeaders.map(recurseHeader);\n        }\n        leafHeaders.push(h);\n      };\n      recurseHeader(header);\n      return leafHeaders;\n    },\n    getContext: () => ({\n      table,\n      header: header,\n      column\n    })\n  };\n  table._features.forEach(feature => {\n    feature.createHeader == null || feature.createHeader(header, table);\n  });\n  return header;\n}\nconst Headers = {\n  createTable: table => {\n    // Header Groups\n\n    table.getHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allColumns, leafColumns, left, right) => {\n      var _left$map$filter, _right$map$filter;\n      const leftColumns = (_left$map$filter = left == null ? void 0 : left.map(columnId => leafColumns.find(d => d.id === columnId)).filter(Boolean)) != null ? _left$map$filter : [];\n      const rightColumns = (_right$map$filter = right == null ? void 0 : right.map(columnId => leafColumns.find(d => d.id === columnId)).filter(Boolean)) != null ? _right$map$filter : [];\n      const centerColumns = leafColumns.filter(column => !(left != null && left.includes(column.id)) && !(right != null && right.includes(column.id)));\n      const headerGroups = buildHeaderGroups(allColumns, [...leftColumns, ...centerColumns, ...rightColumns], table);\n      return headerGroups;\n    }, getMemoOptions(table.options, debug, 'getHeaderGroups'));\n    table.getCenterHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allColumns, leafColumns, left, right) => {\n      leafColumns = leafColumns.filter(column => !(left != null && left.includes(column.id)) && !(right != null && right.includes(column.id)));\n      return buildHeaderGroups(allColumns, leafColumns, table, 'center');\n    }, getMemoOptions(table.options, debug, 'getCenterHeaderGroups'));\n    table.getLeftHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.left], (allColumns, leafColumns, left) => {\n      var _left$map$filter2;\n      const orderedLeafColumns = (_left$map$filter2 = left == null ? void 0 : left.map(columnId => leafColumns.find(d => d.id === columnId)).filter(Boolean)) != null ? _left$map$filter2 : [];\n      return buildHeaderGroups(allColumns, orderedLeafColumns, table, 'left');\n    }, getMemoOptions(table.options, debug, 'getLeftHeaderGroups'));\n    table.getRightHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.right], (allColumns, leafColumns, right) => {\n      var _right$map$filter2;\n      const orderedLeafColumns = (_right$map$filter2 = right == null ? void 0 : right.map(columnId => leafColumns.find(d => d.id === columnId)).filter(Boolean)) != null ? _right$map$filter2 : [];\n      return buildHeaderGroups(allColumns, orderedLeafColumns, table, 'right');\n    }, getMemoOptions(table.options, debug, 'getRightHeaderGroups'));\n\n    // Footer Groups\n\n    table.getFooterGroups = memo(() => [table.getHeaderGroups()], headerGroups => {\n      return [...headerGroups].reverse();\n    }, getMemoOptions(table.options, debug, 'getFooterGroups'));\n    table.getLeftFooterGroups = memo(() => [table.getLeftHeaderGroups()], headerGroups => {\n      return [...headerGroups].reverse();\n    }, getMemoOptions(table.options, debug, 'getLeftFooterGroups'));\n    table.getCenterFooterGroups = memo(() => [table.getCenterHeaderGroups()], headerGroups => {\n      return [...headerGroups].reverse();\n    }, getMemoOptions(table.options, debug, 'getCenterFooterGroups'));\n    table.getRightFooterGroups = memo(() => [table.getRightHeaderGroups()], headerGroups => {\n      return [...headerGroups].reverse();\n    }, getMemoOptions(table.options, debug, 'getRightFooterGroups'));\n\n    // Flat Headers\n\n    table.getFlatHeaders = memo(() => [table.getHeaderGroups()], headerGroups => {\n      return headerGroups.map(headerGroup => {\n        return headerGroup.headers;\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getFlatHeaders'));\n    table.getLeftFlatHeaders = memo(() => [table.getLeftHeaderGroups()], left => {\n      return left.map(headerGroup => {\n        return headerGroup.headers;\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getLeftFlatHeaders'));\n    table.getCenterFlatHeaders = memo(() => [table.getCenterHeaderGroups()], left => {\n      return left.map(headerGroup => {\n        return headerGroup.headers;\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getCenterFlatHeaders'));\n    table.getRightFlatHeaders = memo(() => [table.getRightHeaderGroups()], left => {\n      return left.map(headerGroup => {\n        return headerGroup.headers;\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getRightFlatHeaders'));\n\n    // Leaf Headers\n\n    table.getCenterLeafHeaders = memo(() => [table.getCenterFlatHeaders()], flatHeaders => {\n      return flatHeaders.filter(header => {\n        var _header$subHeaders;\n        return !((_header$subHeaders = header.subHeaders) != null && _header$subHeaders.length);\n      });\n    }, getMemoOptions(table.options, debug, 'getCenterLeafHeaders'));\n    table.getLeftLeafHeaders = memo(() => [table.getLeftFlatHeaders()], flatHeaders => {\n      return flatHeaders.filter(header => {\n        var _header$subHeaders2;\n        return !((_header$subHeaders2 = header.subHeaders) != null && _header$subHeaders2.length);\n      });\n    }, getMemoOptions(table.options, debug, 'getLeftLeafHeaders'));\n    table.getRightLeafHeaders = memo(() => [table.getRightFlatHeaders()], flatHeaders => {\n      return flatHeaders.filter(header => {\n        var _header$subHeaders3;\n        return !((_header$subHeaders3 = header.subHeaders) != null && _header$subHeaders3.length);\n      });\n    }, getMemoOptions(table.options, debug, 'getRightLeafHeaders'));\n    table.getLeafHeaders = memo(() => [table.getLeftHeaderGroups(), table.getCenterHeaderGroups(), table.getRightHeaderGroups()], (left, center, right) => {\n      var _left$0$headers, _left$, _center$0$headers, _center$, _right$0$headers, _right$;\n      return [...((_left$0$headers = (_left$ = left[0]) == null ? void 0 : _left$.headers) != null ? _left$0$headers : []), ...((_center$0$headers = (_center$ = center[0]) == null ? void 0 : _center$.headers) != null ? _center$0$headers : []), ...((_right$0$headers = (_right$ = right[0]) == null ? void 0 : _right$.headers) != null ? _right$0$headers : [])].map(header => {\n        return header.getLeafHeaders();\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getLeafHeaders'));\n  }\n};\nfunction buildHeaderGroups(allColumns, columnsToGroup, table, headerFamily) {\n  var _headerGroups$0$heade, _headerGroups$;\n  // Find the max depth of the columns:\n  // build the leaf column row\n  // build each buffer row going up\n  //    placeholder for non-existent level\n  //    real column for existing level\n\n  let maxDepth = 0;\n  const findMaxDepth = function (columns, depth) {\n    if (depth === void 0) {\n      depth = 1;\n    }\n    maxDepth = Math.max(maxDepth, depth);\n    columns.filter(column => column.getIsVisible()).forEach(column => {\n      var _column$columns;\n      if ((_column$columns = column.columns) != null && _column$columns.length) {\n        findMaxDepth(column.columns, depth + 1);\n      }\n    }, 0);\n  };\n  findMaxDepth(allColumns);\n  let headerGroups = [];\n  const createHeaderGroup = (headersToGroup, depth) => {\n    // The header group we are creating\n    const headerGroup = {\n      depth,\n      id: [headerFamily, `${depth}`].filter(Boolean).join('_'),\n      headers: []\n    };\n\n    // The parent columns we're going to scan next\n    const pendingParentHeaders = [];\n\n    // Scan each column for parents\n    headersToGroup.forEach(headerToGroup => {\n      // What is the latest (last) parent column?\n\n      const latestPendingParentHeader = [...pendingParentHeaders].reverse()[0];\n      const isLeafHeader = headerToGroup.column.depth === headerGroup.depth;\n      let column;\n      let isPlaceholder = false;\n      if (isLeafHeader && headerToGroup.column.parent) {\n        // The parent header is new\n        column = headerToGroup.column.parent;\n      } else {\n        // The parent header is repeated\n        column = headerToGroup.column;\n        isPlaceholder = true;\n      }\n      if (latestPendingParentHeader && (latestPendingParentHeader == null ? void 0 : latestPendingParentHeader.column) === column) {\n        // This column is repeated. Add it as a sub header to the next batch\n        latestPendingParentHeader.subHeaders.push(headerToGroup);\n      } else {\n        // This is a new header. Let's create it\n        const header = createHeader(table, column, {\n          id: [headerFamily, depth, column.id, headerToGroup == null ? void 0 : headerToGroup.id].filter(Boolean).join('_'),\n          isPlaceholder,\n          placeholderId: isPlaceholder ? `${pendingParentHeaders.filter(d => d.column === column).length}` : undefined,\n          depth,\n          index: pendingParentHeaders.length\n        });\n\n        // Add the headerToGroup as a subHeader of the new header\n        header.subHeaders.push(headerToGroup);\n        // Add the new header to the pendingParentHeaders to get grouped\n        // in the next batch\n        pendingParentHeaders.push(header);\n      }\n      headerGroup.headers.push(headerToGroup);\n      headerToGroup.headerGroup = headerGroup;\n    });\n    headerGroups.push(headerGroup);\n    if (depth > 0) {\n      createHeaderGroup(pendingParentHeaders, depth - 1);\n    }\n  };\n  const bottomHeaders = columnsToGroup.map((column, index) => createHeader(table, column, {\n    depth: maxDepth,\n    index\n  }));\n  createHeaderGroup(bottomHeaders, maxDepth - 1);\n  headerGroups.reverse();\n\n  // headerGroups = headerGroups.filter(headerGroup => {\n  //   return !headerGroup.headers.every(header => header.isPlaceholder)\n  // })\n\n  const recurseHeadersForSpans = headers => {\n    const filteredHeaders = headers.filter(header => header.column.getIsVisible());\n    return filteredHeaders.map(header => {\n      let colSpan = 0;\n      let rowSpan = 0;\n      let childRowSpans = [0];\n      if (header.subHeaders && header.subHeaders.length) {\n        childRowSpans = [];\n        recurseHeadersForSpans(header.subHeaders).forEach(_ref => {\n          let {\n            colSpan: childColSpan,\n            rowSpan: childRowSpan\n          } = _ref;\n          colSpan += childColSpan;\n          childRowSpans.push(childRowSpan);\n        });\n      } else {\n        colSpan = 1;\n      }\n      const minChildRowSpan = Math.min(...childRowSpans);\n      rowSpan = rowSpan + minChildRowSpan;\n      header.colSpan = colSpan;\n      header.rowSpan = rowSpan;\n      return {\n        colSpan,\n        rowSpan\n      };\n    });\n  };\n  recurseHeadersForSpans((_headerGroups$0$heade = (_headerGroups$ = headerGroups[0]) == null ? void 0 : _headerGroups$.headers) != null ? _headerGroups$0$heade : []);\n  return headerGroups;\n}\n\nconst createRow = (table, id, original, rowIndex, depth, subRows, parentId) => {\n  let row = {\n    id,\n    index: rowIndex,\n    original,\n    depth,\n    parentId,\n    _valuesCache: {},\n    _uniqueValuesCache: {},\n    getValue: columnId => {\n      if (row._valuesCache.hasOwnProperty(columnId)) {\n        return row._valuesCache[columnId];\n      }\n      const column = table.getColumn(columnId);\n      if (!(column != null && column.accessorFn)) {\n        return undefined;\n      }\n      row._valuesCache[columnId] = column.accessorFn(row.original, rowIndex);\n      return row._valuesCache[columnId];\n    },\n    getUniqueValues: columnId => {\n      if (row._uniqueValuesCache.hasOwnProperty(columnId)) {\n        return row._uniqueValuesCache[columnId];\n      }\n      const column = table.getColumn(columnId);\n      if (!(column != null && column.accessorFn)) {\n        return undefined;\n      }\n      if (!column.columnDef.getUniqueValues) {\n        row._uniqueValuesCache[columnId] = [row.getValue(columnId)];\n        return row._uniqueValuesCache[columnId];\n      }\n      row._uniqueValuesCache[columnId] = column.columnDef.getUniqueValues(row.original, rowIndex);\n      return row._uniqueValuesCache[columnId];\n    },\n    renderValue: columnId => {\n      var _row$getValue;\n      return (_row$getValue = row.getValue(columnId)) != null ? _row$getValue : table.options.renderFallbackValue;\n    },\n    subRows: subRows != null ? subRows : [],\n    getLeafRows: () => flattenBy(row.subRows, d => d.subRows),\n    getParentRow: () => row.parentId ? table.getRow(row.parentId, true) : undefined,\n    getParentRows: () => {\n      let parentRows = [];\n      let currentRow = row;\n      while (true) {\n        const parentRow = currentRow.getParentRow();\n        if (!parentRow) break;\n        parentRows.push(parentRow);\n        currentRow = parentRow;\n      }\n      return parentRows.reverse();\n    },\n    getAllCells: memo(() => [table.getAllLeafColumns()], leafColumns => {\n      return leafColumns.map(column => {\n        return createCell(table, row, column, column.id);\n      });\n    }, getMemoOptions(table.options, 'debugRows', 'getAllCells')),\n    _getAllCellsByColumnId: memo(() => [row.getAllCells()], allCells => {\n      return allCells.reduce((acc, cell) => {\n        acc[cell.column.id] = cell;\n        return acc;\n      }, {});\n    }, getMemoOptions(table.options, 'debugRows', 'getAllCellsByColumnId'))\n  };\n  for (let i = 0; i < table._features.length; i++) {\n    const feature = table._features[i];\n    feature == null || feature.createRow == null || feature.createRow(row, table);\n  }\n  return row;\n};\n\n//\n\nconst ColumnFaceting = {\n  createColumn: (column, table) => {\n    column._getFacetedRowModel = table.options.getFacetedRowModel && table.options.getFacetedRowModel(table, column.id);\n    column.getFacetedRowModel = () => {\n      if (!column._getFacetedRowModel) {\n        return table.getPreFilteredRowModel();\n      }\n      return column._getFacetedRowModel();\n    };\n    column._getFacetedUniqueValues = table.options.getFacetedUniqueValues && table.options.getFacetedUniqueValues(table, column.id);\n    column.getFacetedUniqueValues = () => {\n      if (!column._getFacetedUniqueValues) {\n        return new Map();\n      }\n      return column._getFacetedUniqueValues();\n    };\n    column._getFacetedMinMaxValues = table.options.getFacetedMinMaxValues && table.options.getFacetedMinMaxValues(table, column.id);\n    column.getFacetedMinMaxValues = () => {\n      if (!column._getFacetedMinMaxValues) {\n        return undefined;\n      }\n      return column._getFacetedMinMaxValues();\n    };\n  }\n};\n\nconst includesString = (row, columnId, filterValue) => {\n  var _filterValue$toString, _row$getValue;\n  const search = filterValue == null || (_filterValue$toString = filterValue.toString()) == null ? void 0 : _filterValue$toString.toLowerCase();\n  return Boolean((_row$getValue = row.getValue(columnId)) == null || (_row$getValue = _row$getValue.toString()) == null || (_row$getValue = _row$getValue.toLowerCase()) == null ? void 0 : _row$getValue.includes(search));\n};\nincludesString.autoRemove = val => testFalsey(val);\nconst includesStringSensitive = (row, columnId, filterValue) => {\n  var _row$getValue2;\n  return Boolean((_row$getValue2 = row.getValue(columnId)) == null || (_row$getValue2 = _row$getValue2.toString()) == null ? void 0 : _row$getValue2.includes(filterValue));\n};\nincludesStringSensitive.autoRemove = val => testFalsey(val);\nconst equalsString = (row, columnId, filterValue) => {\n  var _row$getValue3;\n  return ((_row$getValue3 = row.getValue(columnId)) == null || (_row$getValue3 = _row$getValue3.toString()) == null ? void 0 : _row$getValue3.toLowerCase()) === (filterValue == null ? void 0 : filterValue.toLowerCase());\n};\nequalsString.autoRemove = val => testFalsey(val);\nconst arrIncludes = (row, columnId, filterValue) => {\n  var _row$getValue4;\n  return (_row$getValue4 = row.getValue(columnId)) == null ? void 0 : _row$getValue4.includes(filterValue);\n};\narrIncludes.autoRemove = val => testFalsey(val);\nconst arrIncludesAll = (row, columnId, filterValue) => {\n  return !filterValue.some(val => {\n    var _row$getValue5;\n    return !((_row$getValue5 = row.getValue(columnId)) != null && _row$getValue5.includes(val));\n  });\n};\narrIncludesAll.autoRemove = val => testFalsey(val) || !(val != null && val.length);\nconst arrIncludesSome = (row, columnId, filterValue) => {\n  return filterValue.some(val => {\n    var _row$getValue6;\n    return (_row$getValue6 = row.getValue(columnId)) == null ? void 0 : _row$getValue6.includes(val);\n  });\n};\narrIncludesSome.autoRemove = val => testFalsey(val) || !(val != null && val.length);\nconst equals = (row, columnId, filterValue) => {\n  return row.getValue(columnId) === filterValue;\n};\nequals.autoRemove = val => testFalsey(val);\nconst weakEquals = (row, columnId, filterValue) => {\n  return row.getValue(columnId) == filterValue;\n};\nweakEquals.autoRemove = val => testFalsey(val);\nconst inNumberRange = (row, columnId, filterValue) => {\n  let [min, max] = filterValue;\n  const rowValue = row.getValue(columnId);\n  return rowValue >= min && rowValue <= max;\n};\ninNumberRange.resolveFilterValue = val => {\n  let [unsafeMin, unsafeMax] = val;\n  let parsedMin = typeof unsafeMin !== 'number' ? parseFloat(unsafeMin) : unsafeMin;\n  let parsedMax = typeof unsafeMax !== 'number' ? parseFloat(unsafeMax) : unsafeMax;\n  let min = unsafeMin === null || Number.isNaN(parsedMin) ? -Infinity : parsedMin;\n  let max = unsafeMax === null || Number.isNaN(parsedMax) ? Infinity : parsedMax;\n  if (min > max) {\n    const temp = min;\n    min = max;\n    max = temp;\n  }\n  return [min, max];\n};\ninNumberRange.autoRemove = val => testFalsey(val) || testFalsey(val[0]) && testFalsey(val[1]);\n\n// Export\n\nconst filterFns = {\n  includesString,\n  includesStringSensitive,\n  equalsString,\n  arrIncludes,\n  arrIncludesAll,\n  arrIncludesSome,\n  equals,\n  weakEquals,\n  inNumberRange\n};\n// Utils\n\nfunction testFalsey(val) {\n  return val === undefined || val === null || val === '';\n}\n\n//\n\nconst ColumnFiltering = {\n  getDefaultColumnDef: () => {\n    return {\n      filterFn: 'auto'\n    };\n  },\n  getInitialState: state => {\n    return {\n      columnFilters: [],\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onColumnFiltersChange: makeStateUpdater('columnFilters', table),\n      filterFromLeafRows: false,\n      maxLeafRowFilterDepth: 100\n    };\n  },\n  createColumn: (column, table) => {\n    column.getAutoFilterFn = () => {\n      const firstRow = table.getCoreRowModel().flatRows[0];\n      const value = firstRow == null ? void 0 : firstRow.getValue(column.id);\n      if (typeof value === 'string') {\n        return filterFns.includesString;\n      }\n      if (typeof value === 'number') {\n        return filterFns.inNumberRange;\n      }\n      if (typeof value === 'boolean') {\n        return filterFns.equals;\n      }\n      if (value !== null && typeof value === 'object') {\n        return filterFns.equals;\n      }\n      if (Array.isArray(value)) {\n        return filterFns.arrIncludes;\n      }\n      return filterFns.weakEquals;\n    };\n    column.getFilterFn = () => {\n      var _table$options$filter, _table$options$filter2;\n      return isFunction(column.columnDef.filterFn) ? column.columnDef.filterFn : column.columnDef.filterFn === 'auto' ? column.getAutoFilterFn() : // @ts-ignore\n      (_table$options$filter = (_table$options$filter2 = table.options.filterFns) == null ? void 0 : _table$options$filter2[column.columnDef.filterFn]) != null ? _table$options$filter : filterFns[column.columnDef.filterFn];\n    };\n    column.getCanFilter = () => {\n      var _column$columnDef$ena, _table$options$enable, _table$options$enable2;\n      return ((_column$columnDef$ena = column.columnDef.enableColumnFilter) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableColumnFilters) != null ? _table$options$enable : true) && ((_table$options$enable2 = table.options.enableFilters) != null ? _table$options$enable2 : true) && !!column.accessorFn;\n    };\n    column.getIsFiltered = () => column.getFilterIndex() > -1;\n    column.getFilterValue = () => {\n      var _table$getState$colum;\n      return (_table$getState$colum = table.getState().columnFilters) == null || (_table$getState$colum = _table$getState$colum.find(d => d.id === column.id)) == null ? void 0 : _table$getState$colum.value;\n    };\n    column.getFilterIndex = () => {\n      var _table$getState$colum2, _table$getState$colum3;\n      return (_table$getState$colum2 = (_table$getState$colum3 = table.getState().columnFilters) == null ? void 0 : _table$getState$colum3.findIndex(d => d.id === column.id)) != null ? _table$getState$colum2 : -1;\n    };\n    column.setFilterValue = value => {\n      table.setColumnFilters(old => {\n        const filterFn = column.getFilterFn();\n        const previousFilter = old == null ? void 0 : old.find(d => d.id === column.id);\n        const newFilter = functionalUpdate(value, previousFilter ? previousFilter.value : undefined);\n\n        //\n        if (shouldAutoRemoveFilter(filterFn, newFilter, column)) {\n          var _old$filter;\n          return (_old$filter = old == null ? void 0 : old.filter(d => d.id !== column.id)) != null ? _old$filter : [];\n        }\n        const newFilterObj = {\n          id: column.id,\n          value: newFilter\n        };\n        if (previousFilter) {\n          var _old$map;\n          return (_old$map = old == null ? void 0 : old.map(d => {\n            if (d.id === column.id) {\n              return newFilterObj;\n            }\n            return d;\n          })) != null ? _old$map : [];\n        }\n        if (old != null && old.length) {\n          return [...old, newFilterObj];\n        }\n        return [newFilterObj];\n      });\n    };\n  },\n  createRow: (row, _table) => {\n    row.columnFilters = {};\n    row.columnFiltersMeta = {};\n  },\n  createTable: table => {\n    table.setColumnFilters = updater => {\n      const leafColumns = table.getAllLeafColumns();\n      const updateFn = old => {\n        var _functionalUpdate;\n        return (_functionalUpdate = functionalUpdate(updater, old)) == null ? void 0 : _functionalUpdate.filter(filter => {\n          const column = leafColumns.find(d => d.id === filter.id);\n          if (column) {\n            const filterFn = column.getFilterFn();\n            if (shouldAutoRemoveFilter(filterFn, filter.value, column)) {\n              return false;\n            }\n          }\n          return true;\n        });\n      };\n      table.options.onColumnFiltersChange == null || table.options.onColumnFiltersChange(updateFn);\n    };\n    table.resetColumnFilters = defaultState => {\n      var _table$initialState$c, _table$initialState;\n      table.setColumnFilters(defaultState ? [] : (_table$initialState$c = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.columnFilters) != null ? _table$initialState$c : []);\n    };\n    table.getPreFilteredRowModel = () => table.getCoreRowModel();\n    table.getFilteredRowModel = () => {\n      if (!table._getFilteredRowModel && table.options.getFilteredRowModel) {\n        table._getFilteredRowModel = table.options.getFilteredRowModel(table);\n      }\n      if (table.options.manualFiltering || !table._getFilteredRowModel) {\n        return table.getPreFilteredRowModel();\n      }\n      return table._getFilteredRowModel();\n    };\n  }\n};\nfunction shouldAutoRemoveFilter(filterFn, value, column) {\n  return (filterFn && filterFn.autoRemove ? filterFn.autoRemove(value, column) : false) || typeof value === 'undefined' || typeof value === 'string' && !value;\n}\n\nconst sum = (columnId, _leafRows, childRows) => {\n  // It's faster to just add the aggregations together instead of\n  // process leaf nodes individually\n  return childRows.reduce((sum, next) => {\n    const nextValue = next.getValue(columnId);\n    return sum + (typeof nextValue === 'number' ? nextValue : 0);\n  }, 0);\n};\nconst min = (columnId, _leafRows, childRows) => {\n  let min;\n  childRows.forEach(row => {\n    const value = row.getValue(columnId);\n    if (value != null && (min > value || min === undefined && value >= value)) {\n      min = value;\n    }\n  });\n  return min;\n};\nconst max = (columnId, _leafRows, childRows) => {\n  let max;\n  childRows.forEach(row => {\n    const value = row.getValue(columnId);\n    if (value != null && (max < value || max === undefined && value >= value)) {\n      max = value;\n    }\n  });\n  return max;\n};\nconst extent = (columnId, _leafRows, childRows) => {\n  let min;\n  let max;\n  childRows.forEach(row => {\n    const value = row.getValue(columnId);\n    if (value != null) {\n      if (min === undefined) {\n        if (value >= value) min = max = value;\n      } else {\n        if (min > value) min = value;\n        if (max < value) max = value;\n      }\n    }\n  });\n  return [min, max];\n};\nconst mean = (columnId, leafRows) => {\n  let count = 0;\n  let sum = 0;\n  leafRows.forEach(row => {\n    let value = row.getValue(columnId);\n    if (value != null && (value = +value) >= value) {\n      ++count, sum += value;\n    }\n  });\n  if (count) return sum / count;\n  return;\n};\nconst median = (columnId, leafRows) => {\n  if (!leafRows.length) {\n    return;\n  }\n  const values = leafRows.map(row => row.getValue(columnId));\n  if (!isNumberArray(values)) {\n    return;\n  }\n  if (values.length === 1) {\n    return values[0];\n  }\n  const mid = Math.floor(values.length / 2);\n  const nums = values.sort((a, b) => a - b);\n  return values.length % 2 !== 0 ? nums[mid] : (nums[mid - 1] + nums[mid]) / 2;\n};\nconst unique = (columnId, leafRows) => {\n  return Array.from(new Set(leafRows.map(d => d.getValue(columnId))).values());\n};\nconst uniqueCount = (columnId, leafRows) => {\n  return new Set(leafRows.map(d => d.getValue(columnId))).size;\n};\nconst count = (_columnId, leafRows) => {\n  return leafRows.length;\n};\nconst aggregationFns = {\n  sum,\n  min,\n  max,\n  extent,\n  mean,\n  median,\n  unique,\n  uniqueCount,\n  count\n};\n\n//\n\nconst ColumnGrouping = {\n  getDefaultColumnDef: () => {\n    return {\n      aggregatedCell: props => {\n        var _toString, _props$getValue;\n        return (_toString = (_props$getValue = props.getValue()) == null || _props$getValue.toString == null ? void 0 : _props$getValue.toString()) != null ? _toString : null;\n      },\n      aggregationFn: 'auto'\n    };\n  },\n  getInitialState: state => {\n    return {\n      grouping: [],\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onGroupingChange: makeStateUpdater('grouping', table),\n      groupedColumnMode: 'reorder'\n    };\n  },\n  createColumn: (column, table) => {\n    column.toggleGrouping = () => {\n      table.setGrouping(old => {\n        // Find any existing grouping for this column\n        if (old != null && old.includes(column.id)) {\n          return old.filter(d => d !== column.id);\n        }\n        return [...(old != null ? old : []), column.id];\n      });\n    };\n    column.getCanGroup = () => {\n      var _column$columnDef$ena, _table$options$enable;\n      return ((_column$columnDef$ena = column.columnDef.enableGrouping) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableGrouping) != null ? _table$options$enable : true) && (!!column.accessorFn || !!column.columnDef.getGroupingValue);\n    };\n    column.getIsGrouped = () => {\n      var _table$getState$group;\n      return (_table$getState$group = table.getState().grouping) == null ? void 0 : _table$getState$group.includes(column.id);\n    };\n    column.getGroupedIndex = () => {\n      var _table$getState$group2;\n      return (_table$getState$group2 = table.getState().grouping) == null ? void 0 : _table$getState$group2.indexOf(column.id);\n    };\n    column.getToggleGroupingHandler = () => {\n      const canGroup = column.getCanGroup();\n      return () => {\n        if (!canGroup) return;\n        column.toggleGrouping();\n      };\n    };\n    column.getAutoAggregationFn = () => {\n      const firstRow = table.getCoreRowModel().flatRows[0];\n      const value = firstRow == null ? void 0 : firstRow.getValue(column.id);\n      if (typeof value === 'number') {\n        return aggregationFns.sum;\n      }\n      if (Object.prototype.toString.call(value) === '[object Date]') {\n        return aggregationFns.extent;\n      }\n    };\n    column.getAggregationFn = () => {\n      var _table$options$aggreg, _table$options$aggreg2;\n      if (!column) {\n        throw new Error();\n      }\n      return isFunction(column.columnDef.aggregationFn) ? column.columnDef.aggregationFn : column.columnDef.aggregationFn === 'auto' ? column.getAutoAggregationFn() : (_table$options$aggreg = (_table$options$aggreg2 = table.options.aggregationFns) == null ? void 0 : _table$options$aggreg2[column.columnDef.aggregationFn]) != null ? _table$options$aggreg : aggregationFns[column.columnDef.aggregationFn];\n    };\n  },\n  createTable: table => {\n    table.setGrouping = updater => table.options.onGroupingChange == null ? void 0 : table.options.onGroupingChange(updater);\n    table.resetGrouping = defaultState => {\n      var _table$initialState$g, _table$initialState;\n      table.setGrouping(defaultState ? [] : (_table$initialState$g = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.grouping) != null ? _table$initialState$g : []);\n    };\n    table.getPreGroupedRowModel = () => table.getFilteredRowModel();\n    table.getGroupedRowModel = () => {\n      if (!table._getGroupedRowModel && table.options.getGroupedRowModel) {\n        table._getGroupedRowModel = table.options.getGroupedRowModel(table);\n      }\n      if (table.options.manualGrouping || !table._getGroupedRowModel) {\n        return table.getPreGroupedRowModel();\n      }\n      return table._getGroupedRowModel();\n    };\n  },\n  createRow: (row, table) => {\n    row.getIsGrouped = () => !!row.groupingColumnId;\n    row.getGroupingValue = columnId => {\n      if (row._groupingValuesCache.hasOwnProperty(columnId)) {\n        return row._groupingValuesCache[columnId];\n      }\n      const column = table.getColumn(columnId);\n      if (!(column != null && column.columnDef.getGroupingValue)) {\n        return row.getValue(columnId);\n      }\n      row._groupingValuesCache[columnId] = column.columnDef.getGroupingValue(row.original);\n      return row._groupingValuesCache[columnId];\n    };\n    row._groupingValuesCache = {};\n  },\n  createCell: (cell, column, row, table) => {\n    cell.getIsGrouped = () => column.getIsGrouped() && column.id === row.groupingColumnId;\n    cell.getIsPlaceholder = () => !cell.getIsGrouped() && column.getIsGrouped();\n    cell.getIsAggregated = () => {\n      var _row$subRows;\n      return !cell.getIsGrouped() && !cell.getIsPlaceholder() && !!((_row$subRows = row.subRows) != null && _row$subRows.length);\n    };\n  }\n};\nfunction orderColumns(leafColumns, grouping, groupedColumnMode) {\n  if (!(grouping != null && grouping.length) || !groupedColumnMode) {\n    return leafColumns;\n  }\n  const nonGroupingColumns = leafColumns.filter(col => !grouping.includes(col.id));\n  if (groupedColumnMode === 'remove') {\n    return nonGroupingColumns;\n  }\n  const groupingColumns = grouping.map(g => leafColumns.find(col => col.id === g)).filter(Boolean);\n  return [...groupingColumns, ...nonGroupingColumns];\n}\n\n//\n\nconst ColumnOrdering = {\n  getInitialState: state => {\n    return {\n      columnOrder: [],\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onColumnOrderChange: makeStateUpdater('columnOrder', table)\n    };\n  },\n  createColumn: (column, table) => {\n    column.getIndex = memo(position => [_getVisibleLeafColumns(table, position)], columns => columns.findIndex(d => d.id === column.id), getMemoOptions(table.options, 'debugColumns', 'getIndex'));\n    column.getIsFirstColumn = position => {\n      var _columns$;\n      const columns = _getVisibleLeafColumns(table, position);\n      return ((_columns$ = columns[0]) == null ? void 0 : _columns$.id) === column.id;\n    };\n    column.getIsLastColumn = position => {\n      var _columns;\n      const columns = _getVisibleLeafColumns(table, position);\n      return ((_columns = columns[columns.length - 1]) == null ? void 0 : _columns.id) === column.id;\n    };\n  },\n  createTable: table => {\n    table.setColumnOrder = updater => table.options.onColumnOrderChange == null ? void 0 : table.options.onColumnOrderChange(updater);\n    table.resetColumnOrder = defaultState => {\n      var _table$initialState$c;\n      table.setColumnOrder(defaultState ? [] : (_table$initialState$c = table.initialState.columnOrder) != null ? _table$initialState$c : []);\n    };\n    table._getOrderColumnsFn = memo(() => [table.getState().columnOrder, table.getState().grouping, table.options.groupedColumnMode], (columnOrder, grouping, groupedColumnMode) => columns => {\n      // Sort grouped columns to the start of the column list\n      // before the headers are built\n      let orderedColumns = [];\n\n      // If there is no order, return the normal columns\n      if (!(columnOrder != null && columnOrder.length)) {\n        orderedColumns = columns;\n      } else {\n        const columnOrderCopy = [...columnOrder];\n\n        // If there is an order, make a copy of the columns\n        const columnsCopy = [...columns];\n\n        // And make a new ordered array of the columns\n\n        // Loop over the columns and place them in order into the new array\n        while (columnsCopy.length && columnOrderCopy.length) {\n          const targetColumnId = columnOrderCopy.shift();\n          const foundIndex = columnsCopy.findIndex(d => d.id === targetColumnId);\n          if (foundIndex > -1) {\n            orderedColumns.push(columnsCopy.splice(foundIndex, 1)[0]);\n          }\n        }\n\n        // If there are any columns left, add them to the end\n        orderedColumns = [...orderedColumns, ...columnsCopy];\n      }\n      return orderColumns(orderedColumns, grouping, groupedColumnMode);\n    }, getMemoOptions(table.options, 'debugTable', '_getOrderColumnsFn'));\n  }\n};\n\n//\n\nconst getDefaultColumnPinningState = () => ({\n  left: [],\n  right: []\n});\nconst ColumnPinning = {\n  getInitialState: state => {\n    return {\n      columnPinning: getDefaultColumnPinningState(),\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onColumnPinningChange: makeStateUpdater('columnPinning', table)\n    };\n  },\n  createColumn: (column, table) => {\n    column.pin = position => {\n      const columnIds = column.getLeafColumns().map(d => d.id).filter(Boolean);\n      table.setColumnPinning(old => {\n        var _old$left3, _old$right3;\n        if (position === 'right') {\n          var _old$left, _old$right;\n          return {\n            left: ((_old$left = old == null ? void 0 : old.left) != null ? _old$left : []).filter(d => !(columnIds != null && columnIds.includes(d))),\n            right: [...((_old$right = old == null ? void 0 : old.right) != null ? _old$right : []).filter(d => !(columnIds != null && columnIds.includes(d))), ...columnIds]\n          };\n        }\n        if (position === 'left') {\n          var _old$left2, _old$right2;\n          return {\n            left: [...((_old$left2 = old == null ? void 0 : old.left) != null ? _old$left2 : []).filter(d => !(columnIds != null && columnIds.includes(d))), ...columnIds],\n            right: ((_old$right2 = old == null ? void 0 : old.right) != null ? _old$right2 : []).filter(d => !(columnIds != null && columnIds.includes(d)))\n          };\n        }\n        return {\n          left: ((_old$left3 = old == null ? void 0 : old.left) != null ? _old$left3 : []).filter(d => !(columnIds != null && columnIds.includes(d))),\n          right: ((_old$right3 = old == null ? void 0 : old.right) != null ? _old$right3 : []).filter(d => !(columnIds != null && columnIds.includes(d)))\n        };\n      });\n    };\n    column.getCanPin = () => {\n      const leafColumns = column.getLeafColumns();\n      return leafColumns.some(d => {\n        var _d$columnDef$enablePi, _ref, _table$options$enable;\n        return ((_d$columnDef$enablePi = d.columnDef.enablePinning) != null ? _d$columnDef$enablePi : true) && ((_ref = (_table$options$enable = table.options.enableColumnPinning) != null ? _table$options$enable : table.options.enablePinning) != null ? _ref : true);\n      });\n    };\n    column.getIsPinned = () => {\n      const leafColumnIds = column.getLeafColumns().map(d => d.id);\n      const {\n        left,\n        right\n      } = table.getState().columnPinning;\n      const isLeft = leafColumnIds.some(d => left == null ? void 0 : left.includes(d));\n      const isRight = leafColumnIds.some(d => right == null ? void 0 : right.includes(d));\n      return isLeft ? 'left' : isRight ? 'right' : false;\n    };\n    column.getPinnedIndex = () => {\n      var _table$getState$colum, _table$getState$colum2;\n      const position = column.getIsPinned();\n      return position ? (_table$getState$colum = (_table$getState$colum2 = table.getState().columnPinning) == null || (_table$getState$colum2 = _table$getState$colum2[position]) == null ? void 0 : _table$getState$colum2.indexOf(column.id)) != null ? _table$getState$colum : -1 : 0;\n    };\n  },\n  createRow: (row, table) => {\n    row.getCenterVisibleCells = memo(() => [row._getAllVisibleCells(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allCells, left, right) => {\n      const leftAndRight = [...(left != null ? left : []), ...(right != null ? right : [])];\n      return allCells.filter(d => !leftAndRight.includes(d.column.id));\n    }, getMemoOptions(table.options, 'debugRows', 'getCenterVisibleCells'));\n    row.getLeftVisibleCells = memo(() => [row._getAllVisibleCells(), table.getState().columnPinning.left], (allCells, left) => {\n      const cells = (left != null ? left : []).map(columnId => allCells.find(cell => cell.column.id === columnId)).filter(Boolean).map(d => ({\n        ...d,\n        position: 'left'\n      }));\n      return cells;\n    }, getMemoOptions(table.options, 'debugRows', 'getLeftVisibleCells'));\n    row.getRightVisibleCells = memo(() => [row._getAllVisibleCells(), table.getState().columnPinning.right], (allCells, right) => {\n      const cells = (right != null ? right : []).map(columnId => allCells.find(cell => cell.column.id === columnId)).filter(Boolean).map(d => ({\n        ...d,\n        position: 'right'\n      }));\n      return cells;\n    }, getMemoOptions(table.options, 'debugRows', 'getRightVisibleCells'));\n  },\n  createTable: table => {\n    table.setColumnPinning = updater => table.options.onColumnPinningChange == null ? void 0 : table.options.onColumnPinningChange(updater);\n    table.resetColumnPinning = defaultState => {\n      var _table$initialState$c, _table$initialState;\n      return table.setColumnPinning(defaultState ? getDefaultColumnPinningState() : (_table$initialState$c = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.columnPinning) != null ? _table$initialState$c : getDefaultColumnPinningState());\n    };\n    table.getIsSomeColumnsPinned = position => {\n      var _pinningState$positio;\n      const pinningState = table.getState().columnPinning;\n      if (!position) {\n        var _pinningState$left, _pinningState$right;\n        return Boolean(((_pinningState$left = pinningState.left) == null ? void 0 : _pinningState$left.length) || ((_pinningState$right = pinningState.right) == null ? void 0 : _pinningState$right.length));\n      }\n      return Boolean((_pinningState$positio = pinningState[position]) == null ? void 0 : _pinningState$positio.length);\n    };\n    table.getLeftLeafColumns = memo(() => [table.getAllLeafColumns(), table.getState().columnPinning.left], (allColumns, left) => {\n      return (left != null ? left : []).map(columnId => allColumns.find(column => column.id === columnId)).filter(Boolean);\n    }, getMemoOptions(table.options, 'debugColumns', 'getLeftLeafColumns'));\n    table.getRightLeafColumns = memo(() => [table.getAllLeafColumns(), table.getState().columnPinning.right], (allColumns, right) => {\n      return (right != null ? right : []).map(columnId => allColumns.find(column => column.id === columnId)).filter(Boolean);\n    }, getMemoOptions(table.options, 'debugColumns', 'getRightLeafColumns'));\n    table.getCenterLeafColumns = memo(() => [table.getAllLeafColumns(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allColumns, left, right) => {\n      const leftAndRight = [...(left != null ? left : []), ...(right != null ? right : [])];\n      return allColumns.filter(d => !leftAndRight.includes(d.id));\n    }, getMemoOptions(table.options, 'debugColumns', 'getCenterLeafColumns'));\n  }\n};\n\nfunction safelyAccessDocument(_document) {\n  return _document || (typeof document !== 'undefined' ? document : null);\n}\n\n//\n\n//\n\nconst defaultColumnSizing = {\n  size: 150,\n  minSize: 20,\n  maxSize: Number.MAX_SAFE_INTEGER\n};\nconst getDefaultColumnSizingInfoState = () => ({\n  startOffset: null,\n  startSize: null,\n  deltaOffset: null,\n  deltaPercentage: null,\n  isResizingColumn: false,\n  columnSizingStart: []\n});\nconst ColumnSizing = {\n  getDefaultColumnDef: () => {\n    return defaultColumnSizing;\n  },\n  getInitialState: state => {\n    return {\n      columnSizing: {},\n      columnSizingInfo: getDefaultColumnSizingInfoState(),\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      columnResizeMode: 'onEnd',\n      columnResizeDirection: 'ltr',\n      onColumnSizingChange: makeStateUpdater('columnSizing', table),\n      onColumnSizingInfoChange: makeStateUpdater('columnSizingInfo', table)\n    };\n  },\n  createColumn: (column, table) => {\n    column.getSize = () => {\n      var _column$columnDef$min, _ref, _column$columnDef$max;\n      const columnSize = table.getState().columnSizing[column.id];\n      return Math.min(Math.max((_column$columnDef$min = column.columnDef.minSize) != null ? _column$columnDef$min : defaultColumnSizing.minSize, (_ref = columnSize != null ? columnSize : column.columnDef.size) != null ? _ref : defaultColumnSizing.size), (_column$columnDef$max = column.columnDef.maxSize) != null ? _column$columnDef$max : defaultColumnSizing.maxSize);\n    };\n    column.getStart = memo(position => [position, _getVisibleLeafColumns(table, position), table.getState().columnSizing], (position, columns) => columns.slice(0, column.getIndex(position)).reduce((sum, column) => sum + column.getSize(), 0), getMemoOptions(table.options, 'debugColumns', 'getStart'));\n    column.getAfter = memo(position => [position, _getVisibleLeafColumns(table, position), table.getState().columnSizing], (position, columns) => columns.slice(column.getIndex(position) + 1).reduce((sum, column) => sum + column.getSize(), 0), getMemoOptions(table.options, 'debugColumns', 'getAfter'));\n    column.resetSize = () => {\n      table.setColumnSizing(_ref2 => {\n        let {\n          [column.id]: _,\n          ...rest\n        } = _ref2;\n        return rest;\n      });\n    };\n    column.getCanResize = () => {\n      var _column$columnDef$ena, _table$options$enable;\n      return ((_column$columnDef$ena = column.columnDef.enableResizing) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableColumnResizing) != null ? _table$options$enable : true);\n    };\n    column.getIsResizing = () => {\n      return table.getState().columnSizingInfo.isResizingColumn === column.id;\n    };\n  },\n  createHeader: (header, table) => {\n    header.getSize = () => {\n      let sum = 0;\n      const recurse = header => {\n        if (header.subHeaders.length) {\n          header.subHeaders.forEach(recurse);\n        } else {\n          var _header$column$getSiz;\n          sum += (_header$column$getSiz = header.column.getSize()) != null ? _header$column$getSiz : 0;\n        }\n      };\n      recurse(header);\n      return sum;\n    };\n    header.getStart = () => {\n      if (header.index > 0) {\n        const prevSiblingHeader = header.headerGroup.headers[header.index - 1];\n        return prevSiblingHeader.getStart() + prevSiblingHeader.getSize();\n      }\n      return 0;\n    };\n    header.getResizeHandler = _contextDocument => {\n      const column = table.getColumn(header.column.id);\n      const canResize = column == null ? void 0 : column.getCanResize();\n      return e => {\n        if (!column || !canResize) {\n          return;\n        }\n        e.persist == null || e.persist();\n        if (isTouchStartEvent(e)) {\n          // lets not respond to multiple touches (e.g. 2 or 3 fingers)\n          if (e.touches && e.touches.length > 1) {\n            return;\n          }\n        }\n        const startSize = header.getSize();\n        const columnSizingStart = header ? header.getLeafHeaders().map(d => [d.column.id, d.column.getSize()]) : [[column.id, column.getSize()]];\n        const clientX = isTouchStartEvent(e) ? Math.round(e.touches[0].clientX) : e.clientX;\n        const newColumnSizing = {};\n        const updateOffset = (eventType, clientXPos) => {\n          if (typeof clientXPos !== 'number') {\n            return;\n          }\n          table.setColumnSizingInfo(old => {\n            var _old$startOffset, _old$startSize;\n            const deltaDirection = table.options.columnResizeDirection === 'rtl' ? -1 : 1;\n            const deltaOffset = (clientXPos - ((_old$startOffset = old == null ? void 0 : old.startOffset) != null ? _old$startOffset : 0)) * deltaDirection;\n            const deltaPercentage = Math.max(deltaOffset / ((_old$startSize = old == null ? void 0 : old.startSize) != null ? _old$startSize : 0), -0.999999);\n            old.columnSizingStart.forEach(_ref3 => {\n              let [columnId, headerSize] = _ref3;\n              newColumnSizing[columnId] = Math.round(Math.max(headerSize + headerSize * deltaPercentage, 0) * 100) / 100;\n            });\n            return {\n              ...old,\n              deltaOffset,\n              deltaPercentage\n            };\n          });\n          if (table.options.columnResizeMode === 'onChange' || eventType === 'end') {\n            table.setColumnSizing(old => ({\n              ...old,\n              ...newColumnSizing\n            }));\n          }\n        };\n        const onMove = clientXPos => updateOffset('move', clientXPos);\n        const onEnd = clientXPos => {\n          updateOffset('end', clientXPos);\n          table.setColumnSizingInfo(old => ({\n            ...old,\n            isResizingColumn: false,\n            startOffset: null,\n            startSize: null,\n            deltaOffset: null,\n            deltaPercentage: null,\n            columnSizingStart: []\n          }));\n        };\n        const contextDocument = safelyAccessDocument(_contextDocument);\n        const mouseEvents = {\n          moveHandler: e => onMove(e.clientX),\n          upHandler: e => {\n            contextDocument == null || contextDocument.removeEventListener('mousemove', mouseEvents.moveHandler);\n            contextDocument == null || contextDocument.removeEventListener('mouseup', mouseEvents.upHandler);\n            onEnd(e.clientX);\n          }\n        };\n        const touchEvents = {\n          moveHandler: e => {\n            if (e.cancelable) {\n              e.preventDefault();\n              e.stopPropagation();\n            }\n            onMove(e.touches[0].clientX);\n            return false;\n          },\n          upHandler: e => {\n            var _e$touches$;\n            contextDocument == null || contextDocument.removeEventListener('touchmove', touchEvents.moveHandler);\n            contextDocument == null || contextDocument.removeEventListener('touchend', touchEvents.upHandler);\n            if (e.cancelable) {\n              e.preventDefault();\n              e.stopPropagation();\n            }\n            onEnd((_e$touches$ = e.touches[0]) == null ? void 0 : _e$touches$.clientX);\n          }\n        };\n        const passiveIfSupported = passiveEventSupported() ? {\n          passive: false\n        } : false;\n        if (isTouchStartEvent(e)) {\n          contextDocument == null || contextDocument.addEventListener('touchmove', touchEvents.moveHandler, passiveIfSupported);\n          contextDocument == null || contextDocument.addEventListener('touchend', touchEvents.upHandler, passiveIfSupported);\n        } else {\n          contextDocument == null || contextDocument.addEventListener('mousemove', mouseEvents.moveHandler, passiveIfSupported);\n          contextDocument == null || contextDocument.addEventListener('mouseup', mouseEvents.upHandler, passiveIfSupported);\n        }\n        table.setColumnSizingInfo(old => ({\n          ...old,\n          startOffset: clientX,\n          startSize,\n          deltaOffset: 0,\n          deltaPercentage: 0,\n          columnSizingStart,\n          isResizingColumn: column.id\n        }));\n      };\n    };\n  },\n  createTable: table => {\n    table.setColumnSizing = updater => table.options.onColumnSizingChange == null ? void 0 : table.options.onColumnSizingChange(updater);\n    table.setColumnSizingInfo = updater => table.options.onColumnSizingInfoChange == null ? void 0 : table.options.onColumnSizingInfoChange(updater);\n    table.resetColumnSizing = defaultState => {\n      var _table$initialState$c;\n      table.setColumnSizing(defaultState ? {} : (_table$initialState$c = table.initialState.columnSizing) != null ? _table$initialState$c : {});\n    };\n    table.resetHeaderSizeInfo = defaultState => {\n      var _table$initialState$c2;\n      table.setColumnSizingInfo(defaultState ? getDefaultColumnSizingInfoState() : (_table$initialState$c2 = table.initialState.columnSizingInfo) != null ? _table$initialState$c2 : getDefaultColumnSizingInfoState());\n    };\n    table.getTotalSize = () => {\n      var _table$getHeaderGroup, _table$getHeaderGroup2;\n      return (_table$getHeaderGroup = (_table$getHeaderGroup2 = table.getHeaderGroups()[0]) == null ? void 0 : _table$getHeaderGroup2.headers.reduce((sum, header) => {\n        return sum + header.getSize();\n      }, 0)) != null ? _table$getHeaderGroup : 0;\n    };\n    table.getLeftTotalSize = () => {\n      var _table$getLeftHeaderG, _table$getLeftHeaderG2;\n      return (_table$getLeftHeaderG = (_table$getLeftHeaderG2 = table.getLeftHeaderGroups()[0]) == null ? void 0 : _table$getLeftHeaderG2.headers.reduce((sum, header) => {\n        return sum + header.getSize();\n      }, 0)) != null ? _table$getLeftHeaderG : 0;\n    };\n    table.getCenterTotalSize = () => {\n      var _table$getCenterHeade, _table$getCenterHeade2;\n      return (_table$getCenterHeade = (_table$getCenterHeade2 = table.getCenterHeaderGroups()[0]) == null ? void 0 : _table$getCenterHeade2.headers.reduce((sum, header) => {\n        return sum + header.getSize();\n      }, 0)) != null ? _table$getCenterHeade : 0;\n    };\n    table.getRightTotalSize = () => {\n      var _table$getRightHeader, _table$getRightHeader2;\n      return (_table$getRightHeader = (_table$getRightHeader2 = table.getRightHeaderGroups()[0]) == null ? void 0 : _table$getRightHeader2.headers.reduce((sum, header) => {\n        return sum + header.getSize();\n      }, 0)) != null ? _table$getRightHeader : 0;\n    };\n  }\n};\nlet passiveSupported = null;\nfunction passiveEventSupported() {\n  if (typeof passiveSupported === 'boolean') return passiveSupported;\n  let supported = false;\n  try {\n    const options = {\n      get passive() {\n        supported = true;\n        return false;\n      }\n    };\n    const noop = () => {};\n    window.addEventListener('test', noop, options);\n    window.removeEventListener('test', noop);\n  } catch (err) {\n    supported = false;\n  }\n  passiveSupported = supported;\n  return passiveSupported;\n}\nfunction isTouchStartEvent(e) {\n  return e.type === 'touchstart';\n}\n\n//\n\nconst ColumnVisibility = {\n  getInitialState: state => {\n    return {\n      columnVisibility: {},\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onColumnVisibilityChange: makeStateUpdater('columnVisibility', table)\n    };\n  },\n  createColumn: (column, table) => {\n    column.toggleVisibility = value => {\n      if (column.getCanHide()) {\n        table.setColumnVisibility(old => ({\n          ...old,\n          [column.id]: value != null ? value : !column.getIsVisible()\n        }));\n      }\n    };\n    column.getIsVisible = () => {\n      var _ref, _table$getState$colum;\n      const childColumns = column.columns;\n      return (_ref = childColumns.length ? childColumns.some(c => c.getIsVisible()) : (_table$getState$colum = table.getState().columnVisibility) == null ? void 0 : _table$getState$colum[column.id]) != null ? _ref : true;\n    };\n    column.getCanHide = () => {\n      var _column$columnDef$ena, _table$options$enable;\n      return ((_column$columnDef$ena = column.columnDef.enableHiding) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableHiding) != null ? _table$options$enable : true);\n    };\n    column.getToggleVisibilityHandler = () => {\n      return e => {\n        column.toggleVisibility == null || column.toggleVisibility(e.target.checked);\n      };\n    };\n  },\n  createRow: (row, table) => {\n    row._getAllVisibleCells = memo(() => [row.getAllCells(), table.getState().columnVisibility], cells => {\n      return cells.filter(cell => cell.column.getIsVisible());\n    }, getMemoOptions(table.options, 'debugRows', '_getAllVisibleCells'));\n    row.getVisibleCells = memo(() => [row.getLeftVisibleCells(), row.getCenterVisibleCells(), row.getRightVisibleCells()], (left, center, right) => [...left, ...center, ...right], getMemoOptions(table.options, 'debugRows', 'getVisibleCells'));\n  },\n  createTable: table => {\n    const makeVisibleColumnsMethod = (key, getColumns) => {\n      return memo(() => [getColumns(), getColumns().filter(d => d.getIsVisible()).map(d => d.id).join('_')], columns => {\n        return columns.filter(d => d.getIsVisible == null ? void 0 : d.getIsVisible());\n      }, getMemoOptions(table.options, 'debugColumns', key));\n    };\n    table.getVisibleFlatColumns = makeVisibleColumnsMethod('getVisibleFlatColumns', () => table.getAllFlatColumns());\n    table.getVisibleLeafColumns = makeVisibleColumnsMethod('getVisibleLeafColumns', () => table.getAllLeafColumns());\n    table.getLeftVisibleLeafColumns = makeVisibleColumnsMethod('getLeftVisibleLeafColumns', () => table.getLeftLeafColumns());\n    table.getRightVisibleLeafColumns = makeVisibleColumnsMethod('getRightVisibleLeafColumns', () => table.getRightLeafColumns());\n    table.getCenterVisibleLeafColumns = makeVisibleColumnsMethod('getCenterVisibleLeafColumns', () => table.getCenterLeafColumns());\n    table.setColumnVisibility = updater => table.options.onColumnVisibilityChange == null ? void 0 : table.options.onColumnVisibilityChange(updater);\n    table.resetColumnVisibility = defaultState => {\n      var _table$initialState$c;\n      table.setColumnVisibility(defaultState ? {} : (_table$initialState$c = table.initialState.columnVisibility) != null ? _table$initialState$c : {});\n    };\n    table.toggleAllColumnsVisible = value => {\n      var _value;\n      value = (_value = value) != null ? _value : !table.getIsAllColumnsVisible();\n      table.setColumnVisibility(table.getAllLeafColumns().reduce((obj, column) => ({\n        ...obj,\n        [column.id]: !value ? !(column.getCanHide != null && column.getCanHide()) : value\n      }), {}));\n    };\n    table.getIsAllColumnsVisible = () => !table.getAllLeafColumns().some(column => !(column.getIsVisible != null && column.getIsVisible()));\n    table.getIsSomeColumnsVisible = () => table.getAllLeafColumns().some(column => column.getIsVisible == null ? void 0 : column.getIsVisible());\n    table.getToggleAllColumnsVisibilityHandler = () => {\n      return e => {\n        var _target;\n        table.toggleAllColumnsVisible((_target = e.target) == null ? void 0 : _target.checked);\n      };\n    };\n  }\n};\nfunction _getVisibleLeafColumns(table, position) {\n  return !position ? table.getVisibleLeafColumns() : position === 'center' ? table.getCenterVisibleLeafColumns() : position === 'left' ? table.getLeftVisibleLeafColumns() : table.getRightVisibleLeafColumns();\n}\n\n//\n\nconst GlobalFaceting = {\n  createTable: table => {\n    table._getGlobalFacetedRowModel = table.options.getFacetedRowModel && table.options.getFacetedRowModel(table, '__global__');\n    table.getGlobalFacetedRowModel = () => {\n      if (table.options.manualFiltering || !table._getGlobalFacetedRowModel) {\n        return table.getPreFilteredRowModel();\n      }\n      return table._getGlobalFacetedRowModel();\n    };\n    table._getGlobalFacetedUniqueValues = table.options.getFacetedUniqueValues && table.options.getFacetedUniqueValues(table, '__global__');\n    table.getGlobalFacetedUniqueValues = () => {\n      if (!table._getGlobalFacetedUniqueValues) {\n        return new Map();\n      }\n      return table._getGlobalFacetedUniqueValues();\n    };\n    table._getGlobalFacetedMinMaxValues = table.options.getFacetedMinMaxValues && table.options.getFacetedMinMaxValues(table, '__global__');\n    table.getGlobalFacetedMinMaxValues = () => {\n      if (!table._getGlobalFacetedMinMaxValues) {\n        return;\n      }\n      return table._getGlobalFacetedMinMaxValues();\n    };\n  }\n};\n\n//\n\nconst GlobalFiltering = {\n  getInitialState: state => {\n    return {\n      globalFilter: undefined,\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onGlobalFilterChange: makeStateUpdater('globalFilter', table),\n      globalFilterFn: 'auto',\n      getColumnCanGlobalFilter: column => {\n        var _table$getCoreRowMode;\n        const value = (_table$getCoreRowMode = table.getCoreRowModel().flatRows[0]) == null || (_table$getCoreRowMode = _table$getCoreRowMode._getAllCellsByColumnId()[column.id]) == null ? void 0 : _table$getCoreRowMode.getValue();\n        return typeof value === 'string' || typeof value === 'number';\n      }\n    };\n  },\n  createColumn: (column, table) => {\n    column.getCanGlobalFilter = () => {\n      var _column$columnDef$ena, _table$options$enable, _table$options$enable2, _table$options$getCol;\n      return ((_column$columnDef$ena = column.columnDef.enableGlobalFilter) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableGlobalFilter) != null ? _table$options$enable : true) && ((_table$options$enable2 = table.options.enableFilters) != null ? _table$options$enable2 : true) && ((_table$options$getCol = table.options.getColumnCanGlobalFilter == null ? void 0 : table.options.getColumnCanGlobalFilter(column)) != null ? _table$options$getCol : true) && !!column.accessorFn;\n    };\n  },\n  createTable: table => {\n    table.getGlobalAutoFilterFn = () => {\n      return filterFns.includesString;\n    };\n    table.getGlobalFilterFn = () => {\n      var _table$options$filter, _table$options$filter2;\n      const {\n        globalFilterFn: globalFilterFn\n      } = table.options;\n      return isFunction(globalFilterFn) ? globalFilterFn : globalFilterFn === 'auto' ? table.getGlobalAutoFilterFn() : (_table$options$filter = (_table$options$filter2 = table.options.filterFns) == null ? void 0 : _table$options$filter2[globalFilterFn]) != null ? _table$options$filter : filterFns[globalFilterFn];\n    };\n    table.setGlobalFilter = updater => {\n      table.options.onGlobalFilterChange == null || table.options.onGlobalFilterChange(updater);\n    };\n    table.resetGlobalFilter = defaultState => {\n      table.setGlobalFilter(defaultState ? undefined : table.initialState.globalFilter);\n    };\n  }\n};\n\n//\n\nconst RowExpanding = {\n  getInitialState: state => {\n    return {\n      expanded: {},\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onExpandedChange: makeStateUpdater('expanded', table),\n      paginateExpandedRows: true\n    };\n  },\n  createTable: table => {\n    let registered = false;\n    let queued = false;\n    table._autoResetExpanded = () => {\n      var _ref, _table$options$autoRe;\n      if (!registered) {\n        table._queue(() => {\n          registered = true;\n        });\n        return;\n      }\n      if ((_ref = (_table$options$autoRe = table.options.autoResetAll) != null ? _table$options$autoRe : table.options.autoResetExpanded) != null ? _ref : !table.options.manualExpanding) {\n        if (queued) return;\n        queued = true;\n        table._queue(() => {\n          table.resetExpanded();\n          queued = false;\n        });\n      }\n    };\n    table.setExpanded = updater => table.options.onExpandedChange == null ? void 0 : table.options.onExpandedChange(updater);\n    table.toggleAllRowsExpanded = expanded => {\n      if (expanded != null ? expanded : !table.getIsAllRowsExpanded()) {\n        table.setExpanded(true);\n      } else {\n        table.setExpanded({});\n      }\n    };\n    table.resetExpanded = defaultState => {\n      var _table$initialState$e, _table$initialState;\n      table.setExpanded(defaultState ? {} : (_table$initialState$e = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.expanded) != null ? _table$initialState$e : {});\n    };\n    table.getCanSomeRowsExpand = () => {\n      return table.getPrePaginationRowModel().flatRows.some(row => row.getCanExpand());\n    };\n    table.getToggleAllRowsExpandedHandler = () => {\n      return e => {\n        e.persist == null || e.persist();\n        table.toggleAllRowsExpanded();\n      };\n    };\n    table.getIsSomeRowsExpanded = () => {\n      const expanded = table.getState().expanded;\n      return expanded === true || Object.values(expanded).some(Boolean);\n    };\n    table.getIsAllRowsExpanded = () => {\n      const expanded = table.getState().expanded;\n\n      // If expanded is true, save some cycles and return true\n      if (typeof expanded === 'boolean') {\n        return expanded === true;\n      }\n      if (!Object.keys(expanded).length) {\n        return false;\n      }\n\n      // If any row is not expanded, return false\n      if (table.getRowModel().flatRows.some(row => !row.getIsExpanded())) {\n        return false;\n      }\n\n      // They must all be expanded :shrug:\n      return true;\n    };\n    table.getExpandedDepth = () => {\n      let maxDepth = 0;\n      const rowIds = table.getState().expanded === true ? Object.keys(table.getRowModel().rowsById) : Object.keys(table.getState().expanded);\n      rowIds.forEach(id => {\n        const splitId = id.split('.');\n        maxDepth = Math.max(maxDepth, splitId.length);\n      });\n      return maxDepth;\n    };\n    table.getPreExpandedRowModel = () => table.getSortedRowModel();\n    table.getExpandedRowModel = () => {\n      if (!table._getExpandedRowModel && table.options.getExpandedRowModel) {\n        table._getExpandedRowModel = table.options.getExpandedRowModel(table);\n      }\n      if (table.options.manualExpanding || !table._getExpandedRowModel) {\n        return table.getPreExpandedRowModel();\n      }\n      return table._getExpandedRowModel();\n    };\n  },\n  createRow: (row, table) => {\n    row.toggleExpanded = expanded => {\n      table.setExpanded(old => {\n        var _expanded;\n        const exists = old === true ? true : !!(old != null && old[row.id]);\n        let oldExpanded = {};\n        if (old === true) {\n          Object.keys(table.getRowModel().rowsById).forEach(rowId => {\n            oldExpanded[rowId] = true;\n          });\n        } else {\n          oldExpanded = old;\n        }\n        expanded = (_expanded = expanded) != null ? _expanded : !exists;\n        if (!exists && expanded) {\n          return {\n            ...oldExpanded,\n            [row.id]: true\n          };\n        }\n        if (exists && !expanded) {\n          const {\n            [row.id]: _,\n            ...rest\n          } = oldExpanded;\n          return rest;\n        }\n        return old;\n      });\n    };\n    row.getIsExpanded = () => {\n      var _table$options$getIsR;\n      const expanded = table.getState().expanded;\n      return !!((_table$options$getIsR = table.options.getIsRowExpanded == null ? void 0 : table.options.getIsRowExpanded(row)) != null ? _table$options$getIsR : expanded === true || (expanded == null ? void 0 : expanded[row.id]));\n    };\n    row.getCanExpand = () => {\n      var _table$options$getRow, _table$options$enable, _row$subRows;\n      return (_table$options$getRow = table.options.getRowCanExpand == null ? void 0 : table.options.getRowCanExpand(row)) != null ? _table$options$getRow : ((_table$options$enable = table.options.enableExpanding) != null ? _table$options$enable : true) && !!((_row$subRows = row.subRows) != null && _row$subRows.length);\n    };\n    row.getIsAllParentsExpanded = () => {\n      let isFullyExpanded = true;\n      let currentRow = row;\n      while (isFullyExpanded && currentRow.parentId) {\n        currentRow = table.getRow(currentRow.parentId, true);\n        isFullyExpanded = currentRow.getIsExpanded();\n      }\n      return isFullyExpanded;\n    };\n    row.getToggleExpandedHandler = () => {\n      const canExpand = row.getCanExpand();\n      return () => {\n        if (!canExpand) return;\n        row.toggleExpanded();\n      };\n    };\n  }\n};\n\n//\n\nconst defaultPageIndex = 0;\nconst defaultPageSize = 10;\nconst getDefaultPaginationState = () => ({\n  pageIndex: defaultPageIndex,\n  pageSize: defaultPageSize\n});\nconst RowPagination = {\n  getInitialState: state => {\n    return {\n      ...state,\n      pagination: {\n        ...getDefaultPaginationState(),\n        ...(state == null ? void 0 : state.pagination)\n      }\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onPaginationChange: makeStateUpdater('pagination', table)\n    };\n  },\n  createTable: table => {\n    let registered = false;\n    let queued = false;\n    table._autoResetPageIndex = () => {\n      var _ref, _table$options$autoRe;\n      if (!registered) {\n        table._queue(() => {\n          registered = true;\n        });\n        return;\n      }\n      if ((_ref = (_table$options$autoRe = table.options.autoResetAll) != null ? _table$options$autoRe : table.options.autoResetPageIndex) != null ? _ref : !table.options.manualPagination) {\n        if (queued) return;\n        queued = true;\n        table._queue(() => {\n          table.resetPageIndex();\n          queued = false;\n        });\n      }\n    };\n    table.setPagination = updater => {\n      const safeUpdater = old => {\n        let newState = functionalUpdate(updater, old);\n        return newState;\n      };\n      return table.options.onPaginationChange == null ? void 0 : table.options.onPaginationChange(safeUpdater);\n    };\n    table.resetPagination = defaultState => {\n      var _table$initialState$p;\n      table.setPagination(defaultState ? getDefaultPaginationState() : (_table$initialState$p = table.initialState.pagination) != null ? _table$initialState$p : getDefaultPaginationState());\n    };\n    table.setPageIndex = updater => {\n      table.setPagination(old => {\n        let pageIndex = functionalUpdate(updater, old.pageIndex);\n        const maxPageIndex = typeof table.options.pageCount === 'undefined' || table.options.pageCount === -1 ? Number.MAX_SAFE_INTEGER : table.options.pageCount - 1;\n        pageIndex = Math.max(0, Math.min(pageIndex, maxPageIndex));\n        return {\n          ...old,\n          pageIndex\n        };\n      });\n    };\n    table.resetPageIndex = defaultState => {\n      var _table$initialState$p2, _table$initialState;\n      table.setPageIndex(defaultState ? defaultPageIndex : (_table$initialState$p2 = (_table$initialState = table.initialState) == null || (_table$initialState = _table$initialState.pagination) == null ? void 0 : _table$initialState.pageIndex) != null ? _table$initialState$p2 : defaultPageIndex);\n    };\n    table.resetPageSize = defaultState => {\n      var _table$initialState$p3, _table$initialState2;\n      table.setPageSize(defaultState ? defaultPageSize : (_table$initialState$p3 = (_table$initialState2 = table.initialState) == null || (_table$initialState2 = _table$initialState2.pagination) == null ? void 0 : _table$initialState2.pageSize) != null ? _table$initialState$p3 : defaultPageSize);\n    };\n    table.setPageSize = updater => {\n      table.setPagination(old => {\n        const pageSize = Math.max(1, functionalUpdate(updater, old.pageSize));\n        const topRowIndex = old.pageSize * old.pageIndex;\n        const pageIndex = Math.floor(topRowIndex / pageSize);\n        return {\n          ...old,\n          pageIndex,\n          pageSize\n        };\n      });\n    };\n    //deprecated\n    table.setPageCount = updater => table.setPagination(old => {\n      var _table$options$pageCo;\n      let newPageCount = functionalUpdate(updater, (_table$options$pageCo = table.options.pageCount) != null ? _table$options$pageCo : -1);\n      if (typeof newPageCount === 'number') {\n        newPageCount = Math.max(-1, newPageCount);\n      }\n      return {\n        ...old,\n        pageCount: newPageCount\n      };\n    });\n    table.getPageOptions = memo(() => [table.getPageCount()], pageCount => {\n      let pageOptions = [];\n      if (pageCount && pageCount > 0) {\n        pageOptions = [...new Array(pageCount)].fill(null).map((_, i) => i);\n      }\n      return pageOptions;\n    }, getMemoOptions(table.options, 'debugTable', 'getPageOptions'));\n    table.getCanPreviousPage = () => table.getState().pagination.pageIndex > 0;\n    table.getCanNextPage = () => {\n      const {\n        pageIndex\n      } = table.getState().pagination;\n      const pageCount = table.getPageCount();\n      if (pageCount === -1) {\n        return true;\n      }\n      if (pageCount === 0) {\n        return false;\n      }\n      return pageIndex < pageCount - 1;\n    };\n    table.previousPage = () => {\n      return table.setPageIndex(old => old - 1);\n    };\n    table.nextPage = () => {\n      return table.setPageIndex(old => {\n        return old + 1;\n      });\n    };\n    table.firstPage = () => {\n      return table.setPageIndex(0);\n    };\n    table.lastPage = () => {\n      return table.setPageIndex(table.getPageCount() - 1);\n    };\n    table.getPrePaginationRowModel = () => table.getExpandedRowModel();\n    table.getPaginationRowModel = () => {\n      if (!table._getPaginationRowModel && table.options.getPaginationRowModel) {\n        table._getPaginationRowModel = table.options.getPaginationRowModel(table);\n      }\n      if (table.options.manualPagination || !table._getPaginationRowModel) {\n        return table.getPrePaginationRowModel();\n      }\n      return table._getPaginationRowModel();\n    };\n    table.getPageCount = () => {\n      var _table$options$pageCo2;\n      return (_table$options$pageCo2 = table.options.pageCount) != null ? _table$options$pageCo2 : Math.ceil(table.getRowCount() / table.getState().pagination.pageSize);\n    };\n    table.getRowCount = () => {\n      var _table$options$rowCou;\n      return (_table$options$rowCou = table.options.rowCount) != null ? _table$options$rowCou : table.getPrePaginationRowModel().rows.length;\n    };\n  }\n};\n\n//\n\nconst getDefaultRowPinningState = () => ({\n  top: [],\n  bottom: []\n});\nconst RowPinning = {\n  getInitialState: state => {\n    return {\n      rowPinning: getDefaultRowPinningState(),\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onRowPinningChange: makeStateUpdater('rowPinning', table)\n    };\n  },\n  createRow: (row, table) => {\n    row.pin = (position, includeLeafRows, includeParentRows) => {\n      const leafRowIds = includeLeafRows ? row.getLeafRows().map(_ref => {\n        let {\n          id\n        } = _ref;\n        return id;\n      }) : [];\n      const parentRowIds = includeParentRows ? row.getParentRows().map(_ref2 => {\n        let {\n          id\n        } = _ref2;\n        return id;\n      }) : [];\n      const rowIds = new Set([...parentRowIds, row.id, ...leafRowIds]);\n      table.setRowPinning(old => {\n        var _old$top3, _old$bottom3;\n        if (position === 'bottom') {\n          var _old$top, _old$bottom;\n          return {\n            top: ((_old$top = old == null ? void 0 : old.top) != null ? _old$top : []).filter(d => !(rowIds != null && rowIds.has(d))),\n            bottom: [...((_old$bottom = old == null ? void 0 : old.bottom) != null ? _old$bottom : []).filter(d => !(rowIds != null && rowIds.has(d))), ...Array.from(rowIds)]\n          };\n        }\n        if (position === 'top') {\n          var _old$top2, _old$bottom2;\n          return {\n            top: [...((_old$top2 = old == null ? void 0 : old.top) != null ? _old$top2 : []).filter(d => !(rowIds != null && rowIds.has(d))), ...Array.from(rowIds)],\n            bottom: ((_old$bottom2 = old == null ? void 0 : old.bottom) != null ? _old$bottom2 : []).filter(d => !(rowIds != null && rowIds.has(d)))\n          };\n        }\n        return {\n          top: ((_old$top3 = old == null ? void 0 : old.top) != null ? _old$top3 : []).filter(d => !(rowIds != null && rowIds.has(d))),\n          bottom: ((_old$bottom3 = old == null ? void 0 : old.bottom) != null ? _old$bottom3 : []).filter(d => !(rowIds != null && rowIds.has(d)))\n        };\n      });\n    };\n    row.getCanPin = () => {\n      var _ref3;\n      const {\n        enableRowPinning,\n        enablePinning\n      } = table.options;\n      if (typeof enableRowPinning === 'function') {\n        return enableRowPinning(row);\n      }\n      return (_ref3 = enableRowPinning != null ? enableRowPinning : enablePinning) != null ? _ref3 : true;\n    };\n    row.getIsPinned = () => {\n      const rowIds = [row.id];\n      const {\n        top,\n        bottom\n      } = table.getState().rowPinning;\n      const isTop = rowIds.some(d => top == null ? void 0 : top.includes(d));\n      const isBottom = rowIds.some(d => bottom == null ? void 0 : bottom.includes(d));\n      return isTop ? 'top' : isBottom ? 'bottom' : false;\n    };\n    row.getPinnedIndex = () => {\n      var _ref4, _visiblePinnedRowIds$;\n      const position = row.getIsPinned();\n      if (!position) return -1;\n      const visiblePinnedRowIds = (_ref4 = position === 'top' ? table.getTopRows() : table.getBottomRows()) == null ? void 0 : _ref4.map(_ref5 => {\n        let {\n          id\n        } = _ref5;\n        return id;\n      });\n      return (_visiblePinnedRowIds$ = visiblePinnedRowIds == null ? void 0 : visiblePinnedRowIds.indexOf(row.id)) != null ? _visiblePinnedRowIds$ : -1;\n    };\n  },\n  createTable: table => {\n    table.setRowPinning = updater => table.options.onRowPinningChange == null ? void 0 : table.options.onRowPinningChange(updater);\n    table.resetRowPinning = defaultState => {\n      var _table$initialState$r, _table$initialState;\n      return table.setRowPinning(defaultState ? getDefaultRowPinningState() : (_table$initialState$r = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.rowPinning) != null ? _table$initialState$r : getDefaultRowPinningState());\n    };\n    table.getIsSomeRowsPinned = position => {\n      var _pinningState$positio;\n      const pinningState = table.getState().rowPinning;\n      if (!position) {\n        var _pinningState$top, _pinningState$bottom;\n        return Boolean(((_pinningState$top = pinningState.top) == null ? void 0 : _pinningState$top.length) || ((_pinningState$bottom = pinningState.bottom) == null ? void 0 : _pinningState$bottom.length));\n      }\n      return Boolean((_pinningState$positio = pinningState[position]) == null ? void 0 : _pinningState$positio.length);\n    };\n    table._getPinnedRows = (visibleRows, pinnedRowIds, position) => {\n      var _table$options$keepPi;\n      const rows = ((_table$options$keepPi = table.options.keepPinnedRows) != null ? _table$options$keepPi : true) ?\n      //get all rows that are pinned even if they would not be otherwise visible\n      //account for expanded parent rows, but not pagination or filtering\n      (pinnedRowIds != null ? pinnedRowIds : []).map(rowId => {\n        const row = table.getRow(rowId, true);\n        return row.getIsAllParentsExpanded() ? row : null;\n      }) :\n      //else get only visible rows that are pinned\n      (pinnedRowIds != null ? pinnedRowIds : []).map(rowId => visibleRows.find(row => row.id === rowId));\n      return rows.filter(Boolean).map(d => ({\n        ...d,\n        position\n      }));\n    };\n    table.getTopRows = memo(() => [table.getRowModel().rows, table.getState().rowPinning.top], (allRows, topPinnedRowIds) => table._getPinnedRows(allRows, topPinnedRowIds, 'top'), getMemoOptions(table.options, 'debugRows', 'getTopRows'));\n    table.getBottomRows = memo(() => [table.getRowModel().rows, table.getState().rowPinning.bottom], (allRows, bottomPinnedRowIds) => table._getPinnedRows(allRows, bottomPinnedRowIds, 'bottom'), getMemoOptions(table.options, 'debugRows', 'getBottomRows'));\n    table.getCenterRows = memo(() => [table.getRowModel().rows, table.getState().rowPinning.top, table.getState().rowPinning.bottom], (allRows, top, bottom) => {\n      const topAndBottom = new Set([...(top != null ? top : []), ...(bottom != null ? bottom : [])]);\n      return allRows.filter(d => !topAndBottom.has(d.id));\n    }, getMemoOptions(table.options, 'debugRows', 'getCenterRows'));\n  }\n};\n\n//\n\nconst RowSelection = {\n  getInitialState: state => {\n    return {\n      rowSelection: {},\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onRowSelectionChange: makeStateUpdater('rowSelection', table),\n      enableRowSelection: true,\n      enableMultiRowSelection: true,\n      enableSubRowSelection: true\n      // enableGroupingRowSelection: false,\n      // isAdditiveSelectEvent: (e: unknown) => !!e.metaKey,\n      // isInclusiveSelectEvent: (e: unknown) => !!e.shiftKey,\n    };\n  },\n  createTable: table => {\n    table.setRowSelection = updater => table.options.onRowSelectionChange == null ? void 0 : table.options.onRowSelectionChange(updater);\n    table.resetRowSelection = defaultState => {\n      var _table$initialState$r;\n      return table.setRowSelection(defaultState ? {} : (_table$initialState$r = table.initialState.rowSelection) != null ? _table$initialState$r : {});\n    };\n    table.toggleAllRowsSelected = value => {\n      table.setRowSelection(old => {\n        value = typeof value !== 'undefined' ? value : !table.getIsAllRowsSelected();\n        const rowSelection = {\n          ...old\n        };\n        const preGroupedFlatRows = table.getPreGroupedRowModel().flatRows;\n\n        // We don't use `mutateRowIsSelected` here for performance reasons.\n        // All of the rows are flat already, so it wouldn't be worth it\n        if (value) {\n          preGroupedFlatRows.forEach(row => {\n            if (!row.getCanSelect()) {\n              return;\n            }\n            rowSelection[row.id] = true;\n          });\n        } else {\n          preGroupedFlatRows.forEach(row => {\n            delete rowSelection[row.id];\n          });\n        }\n        return rowSelection;\n      });\n    };\n    table.toggleAllPageRowsSelected = value => table.setRowSelection(old => {\n      const resolvedValue = typeof value !== 'undefined' ? value : !table.getIsAllPageRowsSelected();\n      const rowSelection = {\n        ...old\n      };\n      table.getRowModel().rows.forEach(row => {\n        mutateRowIsSelected(rowSelection, row.id, resolvedValue, true, table);\n      });\n      return rowSelection;\n    });\n\n    // addRowSelectionRange: rowId => {\n    //   const {\n    //     rows,\n    //     rowsById,\n    //     options: { selectGroupingRows, selectSubRows },\n    //   } = table\n\n    //   const findSelectedRow = (rows: Row[]) => {\n    //     let found\n    //     rows.find(d => {\n    //       if (d.getIsSelected()) {\n    //         found = d\n    //         return true\n    //       }\n    //       const subFound = findSelectedRow(d.subRows || [])\n    //       if (subFound) {\n    //         found = subFound\n    //         return true\n    //       }\n    //       return false\n    //     })\n    //     return found\n    //   }\n\n    //   const firstRow = findSelectedRow(rows) || rows[0]\n    //   const lastRow = rowsById[rowId]\n\n    //   let include = false\n    //   const selectedRowIds = {}\n\n    //   const addRow = (row: Row) => {\n    //     mutateRowIsSelected(selectedRowIds, row.id, true, {\n    //       rowsById,\n    //       selectGroupingRows: selectGroupingRows!,\n    //       selectSubRows: selectSubRows!,\n    //     })\n    //   }\n\n    //   table.rows.forEach(row => {\n    //     const isFirstRow = row.id === firstRow.id\n    //     const isLastRow = row.id === lastRow.id\n\n    //     if (isFirstRow || isLastRow) {\n    //       if (!include) {\n    //         include = true\n    //       } else if (include) {\n    //         addRow(row)\n    //         include = false\n    //       }\n    //     }\n\n    //     if (include) {\n    //       addRow(row)\n    //     }\n    //   })\n\n    //   table.setRowSelection(selectedRowIds)\n    // },\n    table.getPreSelectedRowModel = () => table.getCoreRowModel();\n    table.getSelectedRowModel = memo(() => [table.getState().rowSelection, table.getCoreRowModel()], (rowSelection, rowModel) => {\n      if (!Object.keys(rowSelection).length) {\n        return {\n          rows: [],\n          flatRows: [],\n          rowsById: {}\n        };\n      }\n      return selectRowsFn(table, rowModel);\n    }, getMemoOptions(table.options, 'debugTable', 'getSelectedRowModel'));\n    table.getFilteredSelectedRowModel = memo(() => [table.getState().rowSelection, table.getFilteredRowModel()], (rowSelection, rowModel) => {\n      if (!Object.keys(rowSelection).length) {\n        return {\n          rows: [],\n          flatRows: [],\n          rowsById: {}\n        };\n      }\n      return selectRowsFn(table, rowModel);\n    }, getMemoOptions(table.options, 'debugTable', 'getFilteredSelectedRowModel'));\n    table.getGroupedSelectedRowModel = memo(() => [table.getState().rowSelection, table.getSortedRowModel()], (rowSelection, rowModel) => {\n      if (!Object.keys(rowSelection).length) {\n        return {\n          rows: [],\n          flatRows: [],\n          rowsById: {}\n        };\n      }\n      return selectRowsFn(table, rowModel);\n    }, getMemoOptions(table.options, 'debugTable', 'getGroupedSelectedRowModel'));\n\n    ///\n\n    // getGroupingRowCanSelect: rowId => {\n    //   const row = table.getRow(rowId)\n\n    //   if (!row) {\n    //     throw new Error()\n    //   }\n\n    //   if (typeof table.options.enableGroupingRowSelection === 'function') {\n    //     return table.options.enableGroupingRowSelection(row)\n    //   }\n\n    //   return table.options.enableGroupingRowSelection ?? false\n    // },\n\n    table.getIsAllRowsSelected = () => {\n      const preGroupedFlatRows = table.getFilteredRowModel().flatRows;\n      const {\n        rowSelection\n      } = table.getState();\n      let isAllRowsSelected = Boolean(preGroupedFlatRows.length && Object.keys(rowSelection).length);\n      if (isAllRowsSelected) {\n        if (preGroupedFlatRows.some(row => row.getCanSelect() && !rowSelection[row.id])) {\n          isAllRowsSelected = false;\n        }\n      }\n      return isAllRowsSelected;\n    };\n    table.getIsAllPageRowsSelected = () => {\n      const paginationFlatRows = table.getPaginationRowModel().flatRows.filter(row => row.getCanSelect());\n      const {\n        rowSelection\n      } = table.getState();\n      let isAllPageRowsSelected = !!paginationFlatRows.length;\n      if (isAllPageRowsSelected && paginationFlatRows.some(row => !rowSelection[row.id])) {\n        isAllPageRowsSelected = false;\n      }\n      return isAllPageRowsSelected;\n    };\n    table.getIsSomeRowsSelected = () => {\n      var _table$getState$rowSe;\n      const totalSelected = Object.keys((_table$getState$rowSe = table.getState().rowSelection) != null ? _table$getState$rowSe : {}).length;\n      return totalSelected > 0 && totalSelected < table.getFilteredRowModel().flatRows.length;\n    };\n    table.getIsSomePageRowsSelected = () => {\n      const paginationFlatRows = table.getPaginationRowModel().flatRows;\n      return table.getIsAllPageRowsSelected() ? false : paginationFlatRows.filter(row => row.getCanSelect()).some(d => d.getIsSelected() || d.getIsSomeSelected());\n    };\n    table.getToggleAllRowsSelectedHandler = () => {\n      return e => {\n        table.toggleAllRowsSelected(e.target.checked);\n      };\n    };\n    table.getToggleAllPageRowsSelectedHandler = () => {\n      return e => {\n        table.toggleAllPageRowsSelected(e.target.checked);\n      };\n    };\n  },\n  createRow: (row, table) => {\n    row.toggleSelected = (value, opts) => {\n      const isSelected = row.getIsSelected();\n      table.setRowSelection(old => {\n        var _opts$selectChildren;\n        value = typeof value !== 'undefined' ? value : !isSelected;\n        if (row.getCanSelect() && isSelected === value) {\n          return old;\n        }\n        const selectedRowIds = {\n          ...old\n        };\n        mutateRowIsSelected(selectedRowIds, row.id, value, (_opts$selectChildren = opts == null ? void 0 : opts.selectChildren) != null ? _opts$selectChildren : true, table);\n        return selectedRowIds;\n      });\n    };\n    row.getIsSelected = () => {\n      const {\n        rowSelection\n      } = table.getState();\n      return isRowSelected(row, rowSelection);\n    };\n    row.getIsSomeSelected = () => {\n      const {\n        rowSelection\n      } = table.getState();\n      return isSubRowSelected(row, rowSelection) === 'some';\n    };\n    row.getIsAllSubRowsSelected = () => {\n      const {\n        rowSelection\n      } = table.getState();\n      return isSubRowSelected(row, rowSelection) === 'all';\n    };\n    row.getCanSelect = () => {\n      var _table$options$enable;\n      if (typeof table.options.enableRowSelection === 'function') {\n        return table.options.enableRowSelection(row);\n      }\n      return (_table$options$enable = table.options.enableRowSelection) != null ? _table$options$enable : true;\n    };\n    row.getCanSelectSubRows = () => {\n      var _table$options$enable2;\n      if (typeof table.options.enableSubRowSelection === 'function') {\n        return table.options.enableSubRowSelection(row);\n      }\n      return (_table$options$enable2 = table.options.enableSubRowSelection) != null ? _table$options$enable2 : true;\n    };\n    row.getCanMultiSelect = () => {\n      var _table$options$enable3;\n      if (typeof table.options.enableMultiRowSelection === 'function') {\n        return table.options.enableMultiRowSelection(row);\n      }\n      return (_table$options$enable3 = table.options.enableMultiRowSelection) != null ? _table$options$enable3 : true;\n    };\n    row.getToggleSelectedHandler = () => {\n      const canSelect = row.getCanSelect();\n      return e => {\n        var _target;\n        if (!canSelect) return;\n        row.toggleSelected((_target = e.target) == null ? void 0 : _target.checked);\n      };\n    };\n  }\n};\nconst mutateRowIsSelected = (selectedRowIds, id, value, includeChildren, table) => {\n  var _row$subRows;\n  const row = table.getRow(id, true);\n\n  // const isGrouped = row.getIsGrouped()\n\n  // if ( // TODO: enforce grouping row selection rules\n  //   !isGrouped ||\n  //   (isGrouped && table.options.enableGroupingRowSelection)\n  // ) {\n  if (value) {\n    if (!row.getCanMultiSelect()) {\n      Object.keys(selectedRowIds).forEach(key => delete selectedRowIds[key]);\n    }\n    if (row.getCanSelect()) {\n      selectedRowIds[id] = true;\n    }\n  } else {\n    delete selectedRowIds[id];\n  }\n  // }\n\n  if (includeChildren && (_row$subRows = row.subRows) != null && _row$subRows.length && row.getCanSelectSubRows()) {\n    row.subRows.forEach(row => mutateRowIsSelected(selectedRowIds, row.id, value, includeChildren, table));\n  }\n};\nfunction selectRowsFn(table, rowModel) {\n  const rowSelection = table.getState().rowSelection;\n  const newSelectedFlatRows = [];\n  const newSelectedRowsById = {};\n\n  // Filters top level and nested rows\n  const recurseRows = function (rows, depth) {\n    return rows.map(row => {\n      var _row$subRows2;\n      const isSelected = isRowSelected(row, rowSelection);\n      if (isSelected) {\n        newSelectedFlatRows.push(row);\n        newSelectedRowsById[row.id] = row;\n      }\n      if ((_row$subRows2 = row.subRows) != null && _row$subRows2.length) {\n        row = {\n          ...row,\n          subRows: recurseRows(row.subRows)\n        };\n      }\n      if (isSelected) {\n        return row;\n      }\n    }).filter(Boolean);\n  };\n  return {\n    rows: recurseRows(rowModel.rows),\n    flatRows: newSelectedFlatRows,\n    rowsById: newSelectedRowsById\n  };\n}\nfunction isRowSelected(row, selection) {\n  var _selection$row$id;\n  return (_selection$row$id = selection[row.id]) != null ? _selection$row$id : false;\n}\nfunction isSubRowSelected(row, selection, table) {\n  var _row$subRows3;\n  if (!((_row$subRows3 = row.subRows) != null && _row$subRows3.length)) return false;\n  let allChildrenSelected = true;\n  let someSelected = false;\n  row.subRows.forEach(subRow => {\n    // Bail out early if we know both of these\n    if (someSelected && !allChildrenSelected) {\n      return;\n    }\n    if (subRow.getCanSelect()) {\n      if (isRowSelected(subRow, selection)) {\n        someSelected = true;\n      } else {\n        allChildrenSelected = false;\n      }\n    }\n\n    // Check row selection of nested subrows\n    if (subRow.subRows && subRow.subRows.length) {\n      const subRowChildrenSelected = isSubRowSelected(subRow, selection);\n      if (subRowChildrenSelected === 'all') {\n        someSelected = true;\n      } else if (subRowChildrenSelected === 'some') {\n        someSelected = true;\n        allChildrenSelected = false;\n      } else {\n        allChildrenSelected = false;\n      }\n    }\n  });\n  return allChildrenSelected ? 'all' : someSelected ? 'some' : false;\n}\n\nconst reSplitAlphaNumeric = /([0-9]+)/gm;\nconst alphanumeric = (rowA, rowB, columnId) => {\n  return compareAlphanumeric(toString(rowA.getValue(columnId)).toLowerCase(), toString(rowB.getValue(columnId)).toLowerCase());\n};\nconst alphanumericCaseSensitive = (rowA, rowB, columnId) => {\n  return compareAlphanumeric(toString(rowA.getValue(columnId)), toString(rowB.getValue(columnId)));\n};\n\n// The text filter is more basic (less numeric support)\n// but is much faster\nconst text = (rowA, rowB, columnId) => {\n  return compareBasic(toString(rowA.getValue(columnId)).toLowerCase(), toString(rowB.getValue(columnId)).toLowerCase());\n};\n\n// The text filter is more basic (less numeric support)\n// but is much faster\nconst textCaseSensitive = (rowA, rowB, columnId) => {\n  return compareBasic(toString(rowA.getValue(columnId)), toString(rowB.getValue(columnId)));\n};\nconst datetime = (rowA, rowB, columnId) => {\n  const a = rowA.getValue(columnId);\n  const b = rowB.getValue(columnId);\n\n  // Can handle nullish values\n  // Use > and < because == (and ===) doesn't work with\n  // Date objects (would require calling getTime()).\n  return a > b ? 1 : a < b ? -1 : 0;\n};\nconst basic = (rowA, rowB, columnId) => {\n  return compareBasic(rowA.getValue(columnId), rowB.getValue(columnId));\n};\n\n// Utils\n\nfunction compareBasic(a, b) {\n  return a === b ? 0 : a > b ? 1 : -1;\n}\nfunction toString(a) {\n  if (typeof a === 'number') {\n    if (isNaN(a) || a === Infinity || a === -Infinity) {\n      return '';\n    }\n    return String(a);\n  }\n  if (typeof a === 'string') {\n    return a;\n  }\n  return '';\n}\n\n// Mixed sorting is slow, but very inclusive of many edge cases.\n// It handles numbers, mixed alphanumeric combinations, and even\n// null, undefined, and Infinity\nfunction compareAlphanumeric(aStr, bStr) {\n  // Split on number groups, but keep the delimiter\n  // Then remove falsey split values\n  const a = aStr.split(reSplitAlphaNumeric).filter(Boolean);\n  const b = bStr.split(reSplitAlphaNumeric).filter(Boolean);\n\n  // While\n  while (a.length && b.length) {\n    const aa = a.shift();\n    const bb = b.shift();\n    const an = parseInt(aa, 10);\n    const bn = parseInt(bb, 10);\n    const combo = [an, bn].sort();\n\n    // Both are string\n    if (isNaN(combo[0])) {\n      if (aa > bb) {\n        return 1;\n      }\n      if (bb > aa) {\n        return -1;\n      }\n      continue;\n    }\n\n    // One is a string, one is a number\n    if (isNaN(combo[1])) {\n      return isNaN(an) ? -1 : 1;\n    }\n\n    // Both are numbers\n    if (an > bn) {\n      return 1;\n    }\n    if (bn > an) {\n      return -1;\n    }\n  }\n  return a.length - b.length;\n}\n\n// Exports\n\nconst sortingFns = {\n  alphanumeric,\n  alphanumericCaseSensitive,\n  text,\n  textCaseSensitive,\n  datetime,\n  basic\n};\n\n//\n\nconst RowSorting = {\n  getInitialState: state => {\n    return {\n      sorting: [],\n      ...state\n    };\n  },\n  getDefaultColumnDef: () => {\n    return {\n      sortingFn: 'auto',\n      sortUndefined: 1\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onSortingChange: makeStateUpdater('sorting', table),\n      isMultiSortEvent: e => {\n        return e.shiftKey;\n      }\n    };\n  },\n  createColumn: (column, table) => {\n    column.getAutoSortingFn = () => {\n      const firstRows = table.getFilteredRowModel().flatRows.slice(10);\n      let isString = false;\n      for (const row of firstRows) {\n        const value = row == null ? void 0 : row.getValue(column.id);\n        if (Object.prototype.toString.call(value) === '[object Date]') {\n          return sortingFns.datetime;\n        }\n        if (typeof value === 'string') {\n          isString = true;\n          if (value.split(reSplitAlphaNumeric).length > 1) {\n            return sortingFns.alphanumeric;\n          }\n        }\n      }\n      if (isString) {\n        return sortingFns.text;\n      }\n      return sortingFns.basic;\n    };\n    column.getAutoSortDir = () => {\n      const firstRow = table.getFilteredRowModel().flatRows[0];\n      const value = firstRow == null ? void 0 : firstRow.getValue(column.id);\n      if (typeof value === 'string') {\n        return 'asc';\n      }\n      return 'desc';\n    };\n    column.getSortingFn = () => {\n      var _table$options$sortin, _table$options$sortin2;\n      if (!column) {\n        throw new Error();\n      }\n      return isFunction(column.columnDef.sortingFn) ? column.columnDef.sortingFn : column.columnDef.sortingFn === 'auto' ? column.getAutoSortingFn() : (_table$options$sortin = (_table$options$sortin2 = table.options.sortingFns) == null ? void 0 : _table$options$sortin2[column.columnDef.sortingFn]) != null ? _table$options$sortin : sortingFns[column.columnDef.sortingFn];\n    };\n    column.toggleSorting = (desc, multi) => {\n      // if (column.columns.length) {\n      //   column.columns.forEach((c, i) => {\n      //     if (c.id) {\n      //       table.toggleColumnSorting(c.id, undefined, multi || !!i)\n      //     }\n      //   })\n      //   return\n      // }\n\n      // this needs to be outside of table.setSorting to be in sync with rerender\n      const nextSortingOrder = column.getNextSortingOrder();\n      const hasManualValue = typeof desc !== 'undefined' && desc !== null;\n      table.setSorting(old => {\n        // Find any existing sorting for this column\n        const existingSorting = old == null ? void 0 : old.find(d => d.id === column.id);\n        const existingIndex = old == null ? void 0 : old.findIndex(d => d.id === column.id);\n        let newSorting = [];\n\n        // What should we do with this sort action?\n        let sortAction;\n        let nextDesc = hasManualValue ? desc : nextSortingOrder === 'desc';\n\n        // Multi-mode\n        if (old != null && old.length && column.getCanMultiSort() && multi) {\n          if (existingSorting) {\n            sortAction = 'toggle';\n          } else {\n            sortAction = 'add';\n          }\n        } else {\n          // Normal mode\n          if (old != null && old.length && existingIndex !== old.length - 1) {\n            sortAction = 'replace';\n          } else if (existingSorting) {\n            sortAction = 'toggle';\n          } else {\n            sortAction = 'replace';\n          }\n        }\n\n        // Handle toggle states that will remove the sorting\n        if (sortAction === 'toggle') {\n          // If we are \"actually\" toggling (not a manual set value), should we remove the sorting?\n          if (!hasManualValue) {\n            // Is our intention to remove?\n            if (!nextSortingOrder) {\n              sortAction = 'remove';\n            }\n          }\n        }\n        if (sortAction === 'add') {\n          var _table$options$maxMul;\n          newSorting = [...old, {\n            id: column.id,\n            desc: nextDesc\n          }];\n          // Take latest n columns\n          newSorting.splice(0, newSorting.length - ((_table$options$maxMul = table.options.maxMultiSortColCount) != null ? _table$options$maxMul : Number.MAX_SAFE_INTEGER));\n        } else if (sortAction === 'toggle') {\n          // This flips (or sets) the\n          newSorting = old.map(d => {\n            if (d.id === column.id) {\n              return {\n                ...d,\n                desc: nextDesc\n              };\n            }\n            return d;\n          });\n        } else if (sortAction === 'remove') {\n          newSorting = old.filter(d => d.id !== column.id);\n        } else {\n          newSorting = [{\n            id: column.id,\n            desc: nextDesc\n          }];\n        }\n        return newSorting;\n      });\n    };\n    column.getFirstSortDir = () => {\n      var _ref, _column$columnDef$sor;\n      const sortDescFirst = (_ref = (_column$columnDef$sor = column.columnDef.sortDescFirst) != null ? _column$columnDef$sor : table.options.sortDescFirst) != null ? _ref : column.getAutoSortDir() === 'desc';\n      return sortDescFirst ? 'desc' : 'asc';\n    };\n    column.getNextSortingOrder = multi => {\n      var _table$options$enable, _table$options$enable2;\n      const firstSortDirection = column.getFirstSortDir();\n      const isSorted = column.getIsSorted();\n      if (!isSorted) {\n        return firstSortDirection;\n      }\n      if (isSorted !== firstSortDirection && ((_table$options$enable = table.options.enableSortingRemoval) != null ? _table$options$enable : true) && (\n      // If enableSortRemove, enable in general\n      multi ? (_table$options$enable2 = table.options.enableMultiRemove) != null ? _table$options$enable2 : true : true) // If multi, don't allow if enableMultiRemove))\n      ) {\n        return false;\n      }\n      return isSorted === 'desc' ? 'asc' : 'desc';\n    };\n    column.getCanSort = () => {\n      var _column$columnDef$ena, _table$options$enable3;\n      return ((_column$columnDef$ena = column.columnDef.enableSorting) != null ? _column$columnDef$ena : true) && ((_table$options$enable3 = table.options.enableSorting) != null ? _table$options$enable3 : true) && !!column.accessorFn;\n    };\n    column.getCanMultiSort = () => {\n      var _ref2, _column$columnDef$ena2;\n      return (_ref2 = (_column$columnDef$ena2 = column.columnDef.enableMultiSort) != null ? _column$columnDef$ena2 : table.options.enableMultiSort) != null ? _ref2 : !!column.accessorFn;\n    };\n    column.getIsSorted = () => {\n      var _table$getState$sorti;\n      const columnSort = (_table$getState$sorti = table.getState().sorting) == null ? void 0 : _table$getState$sorti.find(d => d.id === column.id);\n      return !columnSort ? false : columnSort.desc ? 'desc' : 'asc';\n    };\n    column.getSortIndex = () => {\n      var _table$getState$sorti2, _table$getState$sorti3;\n      return (_table$getState$sorti2 = (_table$getState$sorti3 = table.getState().sorting) == null ? void 0 : _table$getState$sorti3.findIndex(d => d.id === column.id)) != null ? _table$getState$sorti2 : -1;\n    };\n    column.clearSorting = () => {\n      //clear sorting for just 1 column\n      table.setSorting(old => old != null && old.length ? old.filter(d => d.id !== column.id) : []);\n    };\n    column.getToggleSortingHandler = () => {\n      const canSort = column.getCanSort();\n      return e => {\n        if (!canSort) return;\n        e.persist == null || e.persist();\n        column.toggleSorting == null || column.toggleSorting(undefined, column.getCanMultiSort() ? table.options.isMultiSortEvent == null ? void 0 : table.options.isMultiSortEvent(e) : false);\n      };\n    };\n  },\n  createTable: table => {\n    table.setSorting = updater => table.options.onSortingChange == null ? void 0 : table.options.onSortingChange(updater);\n    table.resetSorting = defaultState => {\n      var _table$initialState$s, _table$initialState;\n      table.setSorting(defaultState ? [] : (_table$initialState$s = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.sorting) != null ? _table$initialState$s : []);\n    };\n    table.getPreSortedRowModel = () => table.getGroupedRowModel();\n    table.getSortedRowModel = () => {\n      if (!table._getSortedRowModel && table.options.getSortedRowModel) {\n        table._getSortedRowModel = table.options.getSortedRowModel(table);\n      }\n      if (table.options.manualSorting || !table._getSortedRowModel) {\n        return table.getPreSortedRowModel();\n      }\n      return table._getSortedRowModel();\n    };\n  }\n};\n\nconst builtInFeatures = [Headers, ColumnVisibility, ColumnOrdering, ColumnPinning, ColumnFaceting, ColumnFiltering, GlobalFaceting,\n//depends on ColumnFaceting\nGlobalFiltering,\n//depends on ColumnFiltering\nRowSorting, ColumnGrouping,\n//depends on RowSorting\nRowExpanding, RowPagination, RowPinning, RowSelection, ColumnSizing];\n\n//\n\nfunction createTable(options) {\n  var _options$_features, _options$initialState;\n  if (process.env.NODE_ENV !== 'production' && (options.debugAll || options.debugTable)) {\n    console.info('Creating Table Instance...');\n  }\n  const _features = [...builtInFeatures, ...((_options$_features = options._features) != null ? _options$_features : [])];\n  let table = {\n    _features\n  };\n  const defaultOptions = table._features.reduce((obj, feature) => {\n    return Object.assign(obj, feature.getDefaultOptions == null ? void 0 : feature.getDefaultOptions(table));\n  }, {});\n  const mergeOptions = options => {\n    if (table.options.mergeOptions) {\n      return table.options.mergeOptions(defaultOptions, options);\n    }\n    return {\n      ...defaultOptions,\n      ...options\n    };\n  };\n  const coreInitialState = {};\n  let initialState = {\n    ...coreInitialState,\n    ...((_options$initialState = options.initialState) != null ? _options$initialState : {})\n  };\n  table._features.forEach(feature => {\n    var _feature$getInitialSt;\n    initialState = (_feature$getInitialSt = feature.getInitialState == null ? void 0 : feature.getInitialState(initialState)) != null ? _feature$getInitialSt : initialState;\n  });\n  const queued = [];\n  let queuedTimeout = false;\n  const coreInstance = {\n    _features,\n    options: {\n      ...defaultOptions,\n      ...options\n    },\n    initialState,\n    _queue: cb => {\n      queued.push(cb);\n      if (!queuedTimeout) {\n        queuedTimeout = true;\n\n        // Schedule a microtask to run the queued callbacks after\n        // the current call stack (render, etc) has finished.\n        Promise.resolve().then(() => {\n          while (queued.length) {\n            queued.shift()();\n          }\n          queuedTimeout = false;\n        }).catch(error => setTimeout(() => {\n          throw error;\n        }));\n      }\n    },\n    reset: () => {\n      table.setState(table.initialState);\n    },\n    setOptions: updater => {\n      const newOptions = functionalUpdate(updater, table.options);\n      table.options = mergeOptions(newOptions);\n    },\n    getState: () => {\n      return table.options.state;\n    },\n    setState: updater => {\n      table.options.onStateChange == null || table.options.onStateChange(updater);\n    },\n    _getRowId: (row, index, parent) => {\n      var _table$options$getRow;\n      return (_table$options$getRow = table.options.getRowId == null ? void 0 : table.options.getRowId(row, index, parent)) != null ? _table$options$getRow : `${parent ? [parent.id, index].join('.') : index}`;\n    },\n    getCoreRowModel: () => {\n      if (!table._getCoreRowModel) {\n        table._getCoreRowModel = table.options.getCoreRowModel(table);\n      }\n      return table._getCoreRowModel();\n    },\n    // The final calls start at the bottom of the model,\n    // expanded rows, which then work their way up\n\n    getRowModel: () => {\n      return table.getPaginationRowModel();\n    },\n    //in next version, we should just pass in the row model as the optional 2nd arg\n    getRow: (id, searchAll) => {\n      let row = (searchAll ? table.getPrePaginationRowModel() : table.getRowModel()).rowsById[id];\n      if (!row) {\n        row = table.getCoreRowModel().rowsById[id];\n        if (!row) {\n          if (process.env.NODE_ENV !== 'production') {\n            throw new Error(`getRow could not find row with ID: ${id}`);\n          }\n          throw new Error();\n        }\n      }\n      return row;\n    },\n    _getDefaultColumnDef: memo(() => [table.options.defaultColumn], defaultColumn => {\n      var _defaultColumn;\n      defaultColumn = (_defaultColumn = defaultColumn) != null ? _defaultColumn : {};\n      return {\n        header: props => {\n          const resolvedColumnDef = props.header.column.columnDef;\n          if (resolvedColumnDef.accessorKey) {\n            return resolvedColumnDef.accessorKey;\n          }\n          if (resolvedColumnDef.accessorFn) {\n            return resolvedColumnDef.id;\n          }\n          return null;\n        },\n        // footer: props => props.header.column.id,\n        cell: props => {\n          var _props$renderValue$to, _props$renderValue;\n          return (_props$renderValue$to = (_props$renderValue = props.renderValue()) == null || _props$renderValue.toString == null ? void 0 : _props$renderValue.toString()) != null ? _props$renderValue$to : null;\n        },\n        ...table._features.reduce((obj, feature) => {\n          return Object.assign(obj, feature.getDefaultColumnDef == null ? void 0 : feature.getDefaultColumnDef());\n        }, {}),\n        ...defaultColumn\n      };\n    }, getMemoOptions(options, 'debugColumns', '_getDefaultColumnDef')),\n    _getColumnDefs: () => table.options.columns,\n    getAllColumns: memo(() => [table._getColumnDefs()], columnDefs => {\n      const recurseColumns = function (columnDefs, parent, depth) {\n        if (depth === void 0) {\n          depth = 0;\n        }\n        return columnDefs.map(columnDef => {\n          const column = createColumn(table, columnDef, depth, parent);\n          const groupingColumnDef = columnDef;\n          column.columns = groupingColumnDef.columns ? recurseColumns(groupingColumnDef.columns, column, depth + 1) : [];\n          return column;\n        });\n      };\n      return recurseColumns(columnDefs);\n    }, getMemoOptions(options, 'debugColumns', 'getAllColumns')),\n    getAllFlatColumns: memo(() => [table.getAllColumns()], allColumns => {\n      return allColumns.flatMap(column => {\n        return column.getFlatColumns();\n      });\n    }, getMemoOptions(options, 'debugColumns', 'getAllFlatColumns')),\n    _getAllFlatColumnsById: memo(() => [table.getAllFlatColumns()], flatColumns => {\n      return flatColumns.reduce((acc, column) => {\n        acc[column.id] = column;\n        return acc;\n      }, {});\n    }, getMemoOptions(options, 'debugColumns', 'getAllFlatColumnsById')),\n    getAllLeafColumns: memo(() => [table.getAllColumns(), table._getOrderColumnsFn()], (allColumns, orderColumns) => {\n      let leafColumns = allColumns.flatMap(column => column.getLeafColumns());\n      return orderColumns(leafColumns);\n    }, getMemoOptions(options, 'debugColumns', 'getAllLeafColumns')),\n    getColumn: columnId => {\n      const column = table._getAllFlatColumnsById()[columnId];\n      if (process.env.NODE_ENV !== 'production' && !column) {\n        console.error(`[Table] Column with id '${columnId}' does not exist.`);\n      }\n      return column;\n    }\n  };\n  Object.assign(table, coreInstance);\n  for (let index = 0; index < table._features.length; index++) {\n    const feature = table._features[index];\n    feature == null || feature.createTable == null || feature.createTable(table);\n  }\n  return table;\n}\n\nfunction getCoreRowModel() {\n  return table => memo(() => [table.options.data], data => {\n    const rowModel = {\n      rows: [],\n      flatRows: [],\n      rowsById: {}\n    };\n    const accessRows = function (originalRows, depth, parentRow) {\n      if (depth === void 0) {\n        depth = 0;\n      }\n      const rows = [];\n      for (let i = 0; i < originalRows.length; i++) {\n        // This could be an expensive check at scale, so we should move it somewhere else, but where?\n        // if (!id) {\n        //   if (process.env.NODE_ENV !== 'production') {\n        //     throw new Error(`getRowId expected an ID, but got ${id}`)\n        //   }\n        // }\n\n        // Make the row\n        const row = createRow(table, table._getRowId(originalRows[i], i, parentRow), originalRows[i], i, depth, undefined, parentRow == null ? void 0 : parentRow.id);\n\n        // Keep track of every row in a flat array\n        rowModel.flatRows.push(row);\n        // Also keep track of every row by its ID\n        rowModel.rowsById[row.id] = row;\n        // Push table row into parent\n        rows.push(row);\n\n        // Get the original subrows\n        if (table.options.getSubRows) {\n          var _row$originalSubRows;\n          row.originalSubRows = table.options.getSubRows(originalRows[i], i);\n\n          // Then recursively access them\n          if ((_row$originalSubRows = row.originalSubRows) != null && _row$originalSubRows.length) {\n            row.subRows = accessRows(row.originalSubRows, depth + 1, row);\n          }\n        }\n      }\n      return rows;\n    };\n    rowModel.rows = accessRows(data);\n    return rowModel;\n  }, getMemoOptions(table.options, 'debugTable', 'getRowModel', () => table._autoResetPageIndex()));\n}\n\nfunction getExpandedRowModel() {\n  return table => memo(() => [table.getState().expanded, table.getPreExpandedRowModel(), table.options.paginateExpandedRows], (expanded, rowModel, paginateExpandedRows) => {\n    if (!rowModel.rows.length || expanded !== true && !Object.keys(expanded != null ? expanded : {}).length) {\n      return rowModel;\n    }\n    if (!paginateExpandedRows) {\n      // Only expand rows at this point if they are being paginated\n      return rowModel;\n    }\n    return expandRows(rowModel);\n  }, getMemoOptions(table.options, 'debugTable', 'getExpandedRowModel'));\n}\nfunction expandRows(rowModel) {\n  const expandedRows = [];\n  const handleRow = row => {\n    var _row$subRows;\n    expandedRows.push(row);\n    if ((_row$subRows = row.subRows) != null && _row$subRows.length && row.getIsExpanded()) {\n      row.subRows.forEach(handleRow);\n    }\n  };\n  rowModel.rows.forEach(handleRow);\n  return {\n    rows: expandedRows,\n    flatRows: rowModel.flatRows,\n    rowsById: rowModel.rowsById\n  };\n}\n\nfunction getFacetedMinMaxValues() {\n  return (table, columnId) => memo(() => {\n    var _table$getColumn;\n    return [(_table$getColumn = table.getColumn(columnId)) == null ? void 0 : _table$getColumn.getFacetedRowModel()];\n  }, facetedRowModel => {\n    if (!facetedRowModel) return undefined;\n    const uniqueValues = facetedRowModel.flatRows.flatMap(flatRow => {\n      var _flatRow$getUniqueVal;\n      return (_flatRow$getUniqueVal = flatRow.getUniqueValues(columnId)) != null ? _flatRow$getUniqueVal : [];\n    }).map(Number).filter(value => !Number.isNaN(value));\n    if (!uniqueValues.length) return;\n    let facetedMinValue = uniqueValues[0];\n    let facetedMaxValue = uniqueValues[uniqueValues.length - 1];\n    for (const value of uniqueValues) {\n      if (value < facetedMinValue) facetedMinValue = value;else if (value > facetedMaxValue) facetedMaxValue = value;\n    }\n    return [facetedMinValue, facetedMaxValue];\n  }, getMemoOptions(table.options, 'debugTable', 'getFacetedMinMaxValues'));\n}\n\nfunction filterRows(rows, filterRowImpl, table) {\n  if (table.options.filterFromLeafRows) {\n    return filterRowModelFromLeafs(rows, filterRowImpl, table);\n  }\n  return filterRowModelFromRoot(rows, filterRowImpl, table);\n}\nfunction filterRowModelFromLeafs(rowsToFilter, filterRow, table) {\n  var _table$options$maxLea;\n  const newFilteredFlatRows = [];\n  const newFilteredRowsById = {};\n  const maxDepth = (_table$options$maxLea = table.options.maxLeafRowFilterDepth) != null ? _table$options$maxLea : 100;\n  const recurseFilterRows = function (rowsToFilter, depth) {\n    if (depth === void 0) {\n      depth = 0;\n    }\n    const rows = [];\n\n    // Filter from children up first\n    for (let i = 0; i < rowsToFilter.length; i++) {\n      var _row$subRows;\n      let row = rowsToFilter[i];\n      const newRow = createRow(table, row.id, row.original, row.index, row.depth, undefined, row.parentId);\n      newRow.columnFilters = row.columnFilters;\n      if ((_row$subRows = row.subRows) != null && _row$subRows.length && depth < maxDepth) {\n        newRow.subRows = recurseFilterRows(row.subRows, depth + 1);\n        row = newRow;\n        if (filterRow(row) && !newRow.subRows.length) {\n          rows.push(row);\n          newFilteredRowsById[row.id] = row;\n          newFilteredFlatRows.push(row);\n          continue;\n        }\n        if (filterRow(row) || newRow.subRows.length) {\n          rows.push(row);\n          newFilteredRowsById[row.id] = row;\n          newFilteredFlatRows.push(row);\n          continue;\n        }\n      } else {\n        row = newRow;\n        if (filterRow(row)) {\n          rows.push(row);\n          newFilteredRowsById[row.id] = row;\n          newFilteredFlatRows.push(row);\n        }\n      }\n    }\n    return rows;\n  };\n  return {\n    rows: recurseFilterRows(rowsToFilter),\n    flatRows: newFilteredFlatRows,\n    rowsById: newFilteredRowsById\n  };\n}\nfunction filterRowModelFromRoot(rowsToFilter, filterRow, table) {\n  var _table$options$maxLea2;\n  const newFilteredFlatRows = [];\n  const newFilteredRowsById = {};\n  const maxDepth = (_table$options$maxLea2 = table.options.maxLeafRowFilterDepth) != null ? _table$options$maxLea2 : 100;\n\n  // Filters top level and nested rows\n  const recurseFilterRows = function (rowsToFilter, depth) {\n    if (depth === void 0) {\n      depth = 0;\n    }\n    // Filter from parents downward first\n\n    const rows = [];\n\n    // Apply the filter to any subRows\n    for (let i = 0; i < rowsToFilter.length; i++) {\n      let row = rowsToFilter[i];\n      const pass = filterRow(row);\n      if (pass) {\n        var _row$subRows2;\n        if ((_row$subRows2 = row.subRows) != null && _row$subRows2.length && depth < maxDepth) {\n          const newRow = createRow(table, row.id, row.original, row.index, row.depth, undefined, row.parentId);\n          newRow.subRows = recurseFilterRows(row.subRows, depth + 1);\n          row = newRow;\n        }\n        rows.push(row);\n        newFilteredFlatRows.push(row);\n        newFilteredRowsById[row.id] = row;\n      }\n    }\n    return rows;\n  };\n  return {\n    rows: recurseFilterRows(rowsToFilter),\n    flatRows: newFilteredFlatRows,\n    rowsById: newFilteredRowsById\n  };\n}\n\nfunction getFacetedRowModel() {\n  return (table, columnId) => memo(() => [table.getPreFilteredRowModel(), table.getState().columnFilters, table.getState().globalFilter, table.getFilteredRowModel()], (preRowModel, columnFilters, globalFilter) => {\n    if (!preRowModel.rows.length || !(columnFilters != null && columnFilters.length) && !globalFilter) {\n      return preRowModel;\n    }\n    const filterableIds = [...columnFilters.map(d => d.id).filter(d => d !== columnId), globalFilter ? '__global__' : undefined].filter(Boolean);\n    const filterRowsImpl = row => {\n      // Horizontally filter rows through each column\n      for (let i = 0; i < filterableIds.length; i++) {\n        if (row.columnFilters[filterableIds[i]] === false) {\n          return false;\n        }\n      }\n      return true;\n    };\n    return filterRows(preRowModel.rows, filterRowsImpl, table);\n  }, getMemoOptions(table.options, 'debugTable', 'getFacetedRowModel'));\n}\n\nfunction getFacetedUniqueValues() {\n  return (table, columnId) => memo(() => {\n    var _table$getColumn;\n    return [(_table$getColumn = table.getColumn(columnId)) == null ? void 0 : _table$getColumn.getFacetedRowModel()];\n  }, facetedRowModel => {\n    if (!facetedRowModel) return new Map();\n    let facetedUniqueValues = new Map();\n    for (let i = 0; i < facetedRowModel.flatRows.length; i++) {\n      const values = facetedRowModel.flatRows[i].getUniqueValues(columnId);\n      for (let j = 0; j < values.length; j++) {\n        const value = values[j];\n        if (facetedUniqueValues.has(value)) {\n          var _facetedUniqueValues$;\n          facetedUniqueValues.set(value, ((_facetedUniqueValues$ = facetedUniqueValues.get(value)) != null ? _facetedUniqueValues$ : 0) + 1);\n        } else {\n          facetedUniqueValues.set(value, 1);\n        }\n      }\n    }\n    return facetedUniqueValues;\n  }, getMemoOptions(table.options, 'debugTable', `getFacetedUniqueValues_${columnId}`));\n}\n\nfunction getFilteredRowModel() {\n  return table => memo(() => [table.getPreFilteredRowModel(), table.getState().columnFilters, table.getState().globalFilter], (rowModel, columnFilters, globalFilter) => {\n    if (!rowModel.rows.length || !(columnFilters != null && columnFilters.length) && !globalFilter) {\n      for (let i = 0; i < rowModel.flatRows.length; i++) {\n        rowModel.flatRows[i].columnFilters = {};\n        rowModel.flatRows[i].columnFiltersMeta = {};\n      }\n      return rowModel;\n    }\n    const resolvedColumnFilters = [];\n    const resolvedGlobalFilters = [];\n    (columnFilters != null ? columnFilters : []).forEach(d => {\n      var _filterFn$resolveFilt;\n      const column = table.getColumn(d.id);\n      if (!column) {\n        return;\n      }\n      const filterFn = column.getFilterFn();\n      if (!filterFn) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.warn(`Could not find a valid 'column.filterFn' for column with the ID: ${column.id}.`);\n        }\n        return;\n      }\n      resolvedColumnFilters.push({\n        id: d.id,\n        filterFn,\n        resolvedValue: (_filterFn$resolveFilt = filterFn.resolveFilterValue == null ? void 0 : filterFn.resolveFilterValue(d.value)) != null ? _filterFn$resolveFilt : d.value\n      });\n    });\n    const filterableIds = (columnFilters != null ? columnFilters : []).map(d => d.id);\n    const globalFilterFn = table.getGlobalFilterFn();\n    const globallyFilterableColumns = table.getAllLeafColumns().filter(column => column.getCanGlobalFilter());\n    if (globalFilter && globalFilterFn && globallyFilterableColumns.length) {\n      filterableIds.push('__global__');\n      globallyFilterableColumns.forEach(column => {\n        var _globalFilterFn$resol;\n        resolvedGlobalFilters.push({\n          id: column.id,\n          filterFn: globalFilterFn,\n          resolvedValue: (_globalFilterFn$resol = globalFilterFn.resolveFilterValue == null ? void 0 : globalFilterFn.resolveFilterValue(globalFilter)) != null ? _globalFilterFn$resol : globalFilter\n        });\n      });\n    }\n    let currentColumnFilter;\n    let currentGlobalFilter;\n\n    // Flag the prefiltered row model with each filter state\n    for (let j = 0; j < rowModel.flatRows.length; j++) {\n      const row = rowModel.flatRows[j];\n      row.columnFilters = {};\n      if (resolvedColumnFilters.length) {\n        for (let i = 0; i < resolvedColumnFilters.length; i++) {\n          currentColumnFilter = resolvedColumnFilters[i];\n          const id = currentColumnFilter.id;\n\n          // Tag the row with the column filter state\n          row.columnFilters[id] = currentColumnFilter.filterFn(row, id, currentColumnFilter.resolvedValue, filterMeta => {\n            row.columnFiltersMeta[id] = filterMeta;\n          });\n        }\n      }\n      if (resolvedGlobalFilters.length) {\n        for (let i = 0; i < resolvedGlobalFilters.length; i++) {\n          currentGlobalFilter = resolvedGlobalFilters[i];\n          const id = currentGlobalFilter.id;\n          // Tag the row with the first truthy global filter state\n          if (currentGlobalFilter.filterFn(row, id, currentGlobalFilter.resolvedValue, filterMeta => {\n            row.columnFiltersMeta[id] = filterMeta;\n          })) {\n            row.columnFilters.__global__ = true;\n            break;\n          }\n        }\n        if (row.columnFilters.__global__ !== true) {\n          row.columnFilters.__global__ = false;\n        }\n      }\n    }\n    const filterRowsImpl = row => {\n      // Horizontally filter rows through each column\n      for (let i = 0; i < filterableIds.length; i++) {\n        if (row.columnFilters[filterableIds[i]] === false) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    // Filter final rows using all of the active filters\n    return filterRows(rowModel.rows, filterRowsImpl, table);\n  }, getMemoOptions(table.options, 'debugTable', 'getFilteredRowModel', () => table._autoResetPageIndex()));\n}\n\nfunction getGroupedRowModel() {\n  return table => memo(() => [table.getState().grouping, table.getPreGroupedRowModel()], (grouping, rowModel) => {\n    if (!rowModel.rows.length || !grouping.length) {\n      rowModel.rows.forEach(row => {\n        row.depth = 0;\n        row.parentId = undefined;\n      });\n      return rowModel;\n    }\n\n    // Filter the grouping list down to columns that exist\n    const existingGrouping = grouping.filter(columnId => table.getColumn(columnId));\n    const groupedFlatRows = [];\n    const groupedRowsById = {};\n    // const onlyGroupedFlatRows: Row[] = [];\n    // const onlyGroupedRowsById: Record<RowId, Row> = {};\n    // const nonGroupedFlatRows: Row[] = [];\n    // const nonGroupedRowsById: Record<RowId, Row> = {};\n\n    // Recursively group the data\n    const groupUpRecursively = function (rows, depth, parentId) {\n      if (depth === void 0) {\n        depth = 0;\n      }\n      // Grouping depth has been been met\n      // Stop grouping and simply rewrite thd depth and row relationships\n      if (depth >= existingGrouping.length) {\n        return rows.map(row => {\n          row.depth = depth;\n          groupedFlatRows.push(row);\n          groupedRowsById[row.id] = row;\n          if (row.subRows) {\n            row.subRows = groupUpRecursively(row.subRows, depth + 1, row.id);\n          }\n          return row;\n        });\n      }\n      const columnId = existingGrouping[depth];\n\n      // Group the rows together for this level\n      const rowGroupsMap = groupBy(rows, columnId);\n\n      // Perform aggregations for each group\n      const aggregatedGroupedRows = Array.from(rowGroupsMap.entries()).map((_ref, index) => {\n        let [groupingValue, groupedRows] = _ref;\n        let id = `${columnId}:${groupingValue}`;\n        id = parentId ? `${parentId}>${id}` : id;\n\n        // First, Recurse to group sub rows before aggregation\n        const subRows = groupUpRecursively(groupedRows, depth + 1, id);\n        subRows.forEach(subRow => {\n          subRow.parentId = id;\n        });\n\n        // Flatten the leaf rows of the rows in this group\n        const leafRows = depth ? flattenBy(groupedRows, row => row.subRows) : groupedRows;\n        const row = createRow(table, id, leafRows[0].original, index, depth, undefined, parentId);\n        Object.assign(row, {\n          groupingColumnId: columnId,\n          groupingValue,\n          subRows,\n          leafRows,\n          getValue: columnId => {\n            // Don't aggregate columns that are in the grouping\n            if (existingGrouping.includes(columnId)) {\n              if (row._valuesCache.hasOwnProperty(columnId)) {\n                return row._valuesCache[columnId];\n              }\n              if (groupedRows[0]) {\n                var _groupedRows$0$getVal;\n                row._valuesCache[columnId] = (_groupedRows$0$getVal = groupedRows[0].getValue(columnId)) != null ? _groupedRows$0$getVal : undefined;\n              }\n              return row._valuesCache[columnId];\n            }\n            if (row._groupingValuesCache.hasOwnProperty(columnId)) {\n              return row._groupingValuesCache[columnId];\n            }\n\n            // Aggregate the values\n            const column = table.getColumn(columnId);\n            const aggregateFn = column == null ? void 0 : column.getAggregationFn();\n            if (aggregateFn) {\n              row._groupingValuesCache[columnId] = aggregateFn(columnId, leafRows, groupedRows);\n              return row._groupingValuesCache[columnId];\n            }\n          }\n        });\n        subRows.forEach(subRow => {\n          groupedFlatRows.push(subRow);\n          groupedRowsById[subRow.id] = subRow;\n          // if (subRow.getIsGrouped?.()) {\n          //   onlyGroupedFlatRows.push(subRow);\n          //   onlyGroupedRowsById[subRow.id] = subRow;\n          // } else {\n          //   nonGroupedFlatRows.push(subRow);\n          //   nonGroupedRowsById[subRow.id] = subRow;\n          // }\n        });\n        return row;\n      });\n      return aggregatedGroupedRows;\n    };\n    const groupedRows = groupUpRecursively(rowModel.rows, 0);\n    groupedRows.forEach(subRow => {\n      groupedFlatRows.push(subRow);\n      groupedRowsById[subRow.id] = subRow;\n      // if (subRow.getIsGrouped?.()) {\n      //   onlyGroupedFlatRows.push(subRow);\n      //   onlyGroupedRowsById[subRow.id] = subRow;\n      // } else {\n      //   nonGroupedFlatRows.push(subRow);\n      //   nonGroupedRowsById[subRow.id] = subRow;\n      // }\n    });\n    return {\n      rows: groupedRows,\n      flatRows: groupedFlatRows,\n      rowsById: groupedRowsById\n    };\n  }, getMemoOptions(table.options, 'debugTable', 'getGroupedRowModel', () => {\n    table._queue(() => {\n      table._autoResetExpanded();\n      table._autoResetPageIndex();\n    });\n  }));\n}\nfunction groupBy(rows, columnId) {\n  const groupMap = new Map();\n  return rows.reduce((map, row) => {\n    const resKey = `${row.getGroupingValue(columnId)}`;\n    const previous = map.get(resKey);\n    if (!previous) {\n      map.set(resKey, [row]);\n    } else {\n      previous.push(row);\n    }\n    return map;\n  }, groupMap);\n}\n\nfunction getPaginationRowModel(opts) {\n  return table => memo(() => [table.getState().pagination, table.getPrePaginationRowModel(), table.options.paginateExpandedRows ? undefined : table.getState().expanded], (pagination, rowModel) => {\n    if (!rowModel.rows.length) {\n      return rowModel;\n    }\n    const {\n      pageSize,\n      pageIndex\n    } = pagination;\n    let {\n      rows,\n      flatRows,\n      rowsById\n    } = rowModel;\n    const pageStart = pageSize * pageIndex;\n    const pageEnd = pageStart + pageSize;\n    rows = rows.slice(pageStart, pageEnd);\n    let paginatedRowModel;\n    if (!table.options.paginateExpandedRows) {\n      paginatedRowModel = expandRows({\n        rows,\n        flatRows,\n        rowsById\n      });\n    } else {\n      paginatedRowModel = {\n        rows,\n        flatRows,\n        rowsById\n      };\n    }\n    paginatedRowModel.flatRows = [];\n    const handleRow = row => {\n      paginatedRowModel.flatRows.push(row);\n      if (row.subRows.length) {\n        row.subRows.forEach(handleRow);\n      }\n    };\n    paginatedRowModel.rows.forEach(handleRow);\n    return paginatedRowModel;\n  }, getMemoOptions(table.options, 'debugTable', 'getPaginationRowModel'));\n}\n\nfunction getSortedRowModel() {\n  return table => memo(() => [table.getState().sorting, table.getPreSortedRowModel()], (sorting, rowModel) => {\n    if (!rowModel.rows.length || !(sorting != null && sorting.length)) {\n      return rowModel;\n    }\n    const sortingState = table.getState().sorting;\n    const sortedFlatRows = [];\n\n    // Filter out sortings that correspond to non existing columns\n    const availableSorting = sortingState.filter(sort => {\n      var _table$getColumn;\n      return (_table$getColumn = table.getColumn(sort.id)) == null ? void 0 : _table$getColumn.getCanSort();\n    });\n    const columnInfoById = {};\n    availableSorting.forEach(sortEntry => {\n      const column = table.getColumn(sortEntry.id);\n      if (!column) return;\n      columnInfoById[sortEntry.id] = {\n        sortUndefined: column.columnDef.sortUndefined,\n        invertSorting: column.columnDef.invertSorting,\n        sortingFn: column.getSortingFn()\n      };\n    });\n    const sortData = rows => {\n      // This will also perform a stable sorting using the row index\n      // if needed.\n      const sortedData = rows.map(row => ({\n        ...row\n      }));\n      sortedData.sort((rowA, rowB) => {\n        for (let i = 0; i < availableSorting.length; i += 1) {\n          var _sortEntry$desc;\n          const sortEntry = availableSorting[i];\n          const columnInfo = columnInfoById[sortEntry.id];\n          const sortUndefined = columnInfo.sortUndefined;\n          const isDesc = (_sortEntry$desc = sortEntry == null ? void 0 : sortEntry.desc) != null ? _sortEntry$desc : false;\n          let sortInt = 0;\n\n          // All sorting ints should always return in ascending order\n          if (sortUndefined) {\n            const aValue = rowA.getValue(sortEntry.id);\n            const bValue = rowB.getValue(sortEntry.id);\n            const aUndefined = aValue === undefined;\n            const bUndefined = bValue === undefined;\n            if (aUndefined || bUndefined) {\n              if (sortUndefined === 'first') return aUndefined ? -1 : 1;\n              if (sortUndefined === 'last') return aUndefined ? 1 : -1;\n              sortInt = aUndefined && bUndefined ? 0 : aUndefined ? sortUndefined : -sortUndefined;\n            }\n          }\n          if (sortInt === 0) {\n            sortInt = columnInfo.sortingFn(rowA, rowB, sortEntry.id);\n          }\n\n          // If sorting is non-zero, take care of desc and inversion\n          if (sortInt !== 0) {\n            if (isDesc) {\n              sortInt *= -1;\n            }\n            if (columnInfo.invertSorting) {\n              sortInt *= -1;\n            }\n            return sortInt;\n          }\n        }\n        return rowA.index - rowB.index;\n      });\n\n      // If there are sub-rows, sort them\n      sortedData.forEach(row => {\n        var _row$subRows;\n        sortedFlatRows.push(row);\n        if ((_row$subRows = row.subRows) != null && _row$subRows.length) {\n          row.subRows = sortData(row.subRows);\n        }\n      });\n      return sortedData;\n    };\n    return {\n      rows: sortData(rowModel.rows),\n      flatRows: sortedFlatRows,\n      rowsById: rowModel.rowsById\n    };\n  }, getMemoOptions(table.options, 'debugTable', 'getSortedRowModel', () => table._autoResetPageIndex()));\n}\n\nexport { ColumnFaceting, ColumnFiltering, ColumnGrouping, ColumnOrdering, ColumnPinning, ColumnSizing, ColumnVisibility, GlobalFaceting, GlobalFiltering, Headers, RowExpanding, RowPagination, RowPinning, RowSelection, RowSorting, _getVisibleLeafColumns, aggregationFns, buildHeaderGroups, createCell, createColumn, createColumnHelper, createRow, createTable, defaultColumnSizing, expandRows, filterFns, flattenBy, functionalUpdate, getCoreRowModel, getExpandedRowModel, getFacetedMinMaxValues, getFacetedRowModel, getFacetedUniqueValues, getFilteredRowModel, getGroupedRowModel, getMemoOptions, getPaginationRowModel, getSortedRowModel, isFunction, isNumberArray, isRowSelected, isSubRowSelected, makeStateUpdater, memo, noop, orderColumns, passiveEventSupported, reSplitAlphaNumeric, selectRowsFn, shouldAutoRemoveFilter, sortingFns };\n//# sourceMappingURL=index.mjs.map\n","/**\n   * react-table\n   *\n   * Copyright (c) TanStack\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE.md file in the root directory of this source tree.\n   *\n   * @license MIT\n   */\nimport * as React from 'react';\nimport { createTable } from '@tanstack/table-core';\nexport * from '@tanstack/table-core';\n\n//\n\n/**\n * If rendering headers, cells, or footers with custom markup, use flexRender instead of `cell.getValue()` or `cell.renderValue()`.\n */\nfunction flexRender(Comp, props) {\n  return !Comp ? null : isReactComponent(Comp) ? /*#__PURE__*/React.createElement(Comp, props) : Comp;\n}\nfunction isReactComponent(component) {\n  return isClassComponent(component) || typeof component === 'function' || isExoticComponent(component);\n}\nfunction isClassComponent(component) {\n  return typeof component === 'function' && (() => {\n    const proto = Object.getPrototypeOf(component);\n    return proto.prototype && proto.prototype.isReactComponent;\n  })();\n}\nfunction isExoticComponent(component) {\n  return typeof component === 'object' && typeof component.$$typeof === 'symbol' && ['react.memo', 'react.forward_ref'].includes(component.$$typeof.description);\n}\nfunction useReactTable(options) {\n  // Compose in the generic options to the user options\n  const resolvedOptions = {\n    state: {},\n    // Dummy state\n    onStateChange: () => {},\n    // noop\n    renderFallbackValue: null,\n    ...options\n  };\n\n  // Create a new table and store it in state\n  const [tableRef] = React.useState(() => ({\n    current: createTable(resolvedOptions)\n  }));\n\n  // By default, manage table state here using the table's initial state\n  const [state, setState] = React.useState(() => tableRef.current.initialState);\n\n  // Compose the default state above with any user state. This will allow the user\n  // to only control a subset of the state if desired.\n  tableRef.current.setOptions(prev => ({\n    ...prev,\n    ...options,\n    state: {\n      ...state,\n      ...options.state\n    },\n    // Similarly, we'll maintain both our internal state and any user-provided\n    // state.\n    onStateChange: updater => {\n      setState(updater);\n      options.onStateChange == null || options.onStateChange(updater);\n    }\n  }));\n  return tableRef.current;\n}\n\nexport { flexRender, useReactTable };\n//# sourceMappingURL=index.mjs.map\n","import { useState } from 'react'\r\nimport {\r\n  useReactTable,\r\n  getCoreRowModel,\r\n  getFilteredRowModel,\r\n  getSortedRowModel,\r\n  getPaginationRowModel,\r\n  ColumnDef,\r\n  SortingState,\r\n  ColumnFiltersState,\r\n  flexRender,\r\n} from '@tanstack/react-table'\r\n\r\ninterface DataTableProps<T> {\r\n  data: T[]\r\n  columns: ColumnDef<T>[]\r\n  title: string\r\n  subtitle?: string\r\n  isLoading?: boolean\r\n  error?: string | null\r\n  searchPlaceholder?: string\r\n  emptyStateIcon?: string\r\n  emptyStateMessage?: string\r\n  emptyStateSubMessage?: string\r\n  colorTheme?: 'purple' | 'blue' | 'green'\r\n}\r\n\r\nexport function DataTable<T>({\r\n  data,\r\n  columns,\r\n  title,\r\n  subtitle,\r\n  isLoading = false,\r\n  error = null,\r\n  searchPlaceholder = \"Search...\",\r\n  emptyStateIcon = \"\",\r\n  emptyStateMessage = \"No data available\",\r\n  emptyStateSubMessage = \"Data will appear here when available\",\r\n  colorTheme = 'blue'\r\n}: DataTableProps<T>) {\r\n  const [sorting, setSorting] = useState<SortingState>([])\r\n  const [columnFilters, setColumnFilters] = useState<ColumnFiltersState>([])\r\n  const [globalFilter, setGlobalFilter] = useState('')\r\n\r\n  const table = useReactTable({\r\n    data,\r\n    columns,\r\n    onSortingChange: setSorting,\r\n    onColumnFiltersChange: setColumnFilters,\r\n    onGlobalFilterChange: setGlobalFilter,\r\n    getCoreRowModel: getCoreRowModel(),\r\n    getPaginationRowModel: getPaginationRowModel(),\r\n    getSortedRowModel: getSortedRowModel(),\r\n    getFilteredRowModel: getFilteredRowModel(),\r\n    state: {\r\n      sorting,\r\n      columnFilters,\r\n      globalFilter,\r\n    },\r\n    initialState: {\r\n      pagination: {\r\n        pageSize: 10,\r\n      },\r\n    },\r\n  })\r\n\r\n  const colorClasses = {\r\n    purple: {\r\n      header: 'text-purple-600',\r\n      headerBg: 'bg-purple-50',\r\n      border: 'border-purple-200',\r\n      button: 'bg-purple-600 hover:bg-purple-700 text-white',\r\n      buttonOutline: 'border-purple-600 text-purple-600 hover:bg-purple-50',\r\n      accent: 'text-purple-500'\r\n    },\r\n    blue: {\r\n      header: 'text-blue-600',\r\n      headerBg: 'bg-blue-50',\r\n      border: 'border-blue-200',\r\n      button: 'bg-blue-600 hover:bg-blue-700 text-white',\r\n      buttonOutline: 'border-blue-600 text-blue-600 hover:bg-blue-50',\r\n      accent: 'text-blue-500'\r\n    },\r\n    green: {\r\n      header: 'text-green-600',\r\n      headerBg: 'bg-green-50',\r\n      border: 'border-green-200',\r\n      button: 'bg-green-600 hover:bg-green-700 text-white',\r\n      buttonOutline: 'border-green-600 text-green-600 hover:bg-green-50',\r\n      accent: 'text-green-500'\r\n    }\r\n  }\r\n\r\n  const colors = colorClasses[colorTheme]\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"animate-pulse\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div className={`h-6 ${colors.headerBg} rounded w-48`}></div>\r\n            <div className={`h-4 ${colors.headerBg} rounded w-24`}></div>\r\n          </div>\r\n          <div className={`h-10 ${colors.headerBg} rounded mb-4`}></div>\r\n          <div className=\"space-y-3\">\r\n            {[...Array(5)].map((_, i) => (\r\n              <div key={i} className=\"flex space-x-4\">\r\n                <div className=\"h-4 bg-gray-200 rounded flex-1\"></div>\r\n                <div className=\"h-4 bg-gray-200 rounded w-20\"></div>\r\n                <div className=\"h-4 bg-gray-200 rounded w-24\"></div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n          <div className=\"text-center\">\r\n            <p className=\"text-red-800 font-medium text-sm\"> {error}</p>\r\n            <button \r\n              onClick={() => window.location.reload()} \r\n              className=\"mt-2 text-xs text-red-700 hover:text-red-900 underline\"\r\n            >\r\n              Try Again\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <div>\r\n          <h3 className={`text-lg font-semibold ${colors.header} flex items-center`}>\r\n            {title}\r\n          </h3>\r\n          {subtitle && (\r\n            <p className=\"text-sm text-gray-600 mt-1\">{subtitle}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"text-sm text-gray-500\">\r\n          {data.length} {data.length === 1 ? 'record' : 'records'}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Search */}\r\n      {data.length > 0 && (\r\n        <div className=\"mb-4\">\r\n          <input\r\n            placeholder={searchPlaceholder}\r\n            value={globalFilter ?? ''}\r\n            onChange={(e) => setGlobalFilter(e.target.value)}\r\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* Table */}\r\n      {data.length === 0 ? (\r\n        <div className=\"p-6 text-center\">\r\n          <div className=\"text-3xl mb-2\">{emptyStateIcon}</div>\r\n          <p className=\"text-sm font-medium text-gray-800 mb-1\">{emptyStateMessage}</p>\r\n          <p className=\"text-xs text-gray-500\">{emptyStateSubMessage}</p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className={colors.headerBg}>\r\n                {table.getHeaderGroups().map((headerGroup) => (\r\n                  <tr key={headerGroup.id}>\r\n                    {headerGroup.headers.map((header) => (\r\n                      <th\r\n                        key={header.id}\r\n                        className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\r\n                        onClick={header.column.getToggleSortingHandler()}\r\n                      >\r\n                        <div className=\"flex items-center space-x-1\">\r\n                          <span>\r\n                            {header.isPlaceholder\r\n                              ? null\r\n                              : flexRender(header.column.columnDef.header, header.getContext())}\r\n                          </span>\r\n                          {header.column.getCanSort() && (\r\n                            <span className=\"text-gray-400\">\r\n                              {{\r\n                                asc: '',\r\n                                desc: '',\r\n                              }[header.column.getIsSorted() as string] ?? ''}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </th>\r\n                    ))}\r\n                  </tr>\r\n                ))}\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {table.getRowModel().rows.map((row) => (\r\n                  <tr key={row.id} className=\"hover:bg-gray-50\">\r\n                    {row.getVisibleCells().map((cell) => (\r\n                      <td key={cell.id} className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                        {flexRender(cell.column.columnDef.cell, cell.getContext())}\r\n                      </td>\r\n                    ))}\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          {/* Pagination */}\r\n          {table.getPageCount() > 1 && (\r\n            <div className=\"flex items-center justify-between mt-4 pt-4 border-t border-gray-200\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <button\r\n                  onClick={() => table.setPageIndex(0)}\r\n                  disabled={!table.getCanPreviousPage()}\r\n                  className={`px-3 py-1 text-sm border rounded ${!table.getCanPreviousPage() \r\n                    ? 'border-gray-300 text-gray-400 cursor-not-allowed' \r\n                    : colors.buttonOutline}`}\r\n                >\r\n                  {'<<'}\r\n                </button>\r\n                <button\r\n                  onClick={() => table.previousPage()}\r\n                  disabled={!table.getCanPreviousPage()}\r\n                  className={`px-3 py-1 text-sm border rounded ${!table.getCanPreviousPage() \r\n                    ? 'border-gray-300 text-gray-400 cursor-not-allowed' \r\n                    : colors.buttonOutline}`}\r\n                >\r\n                  {'<'}\r\n                </button>\r\n                <button\r\n                  onClick={() => table.nextPage()}\r\n                  disabled={!table.getCanNextPage()}\r\n                  className={`px-3 py-1 text-sm border rounded ${!table.getCanNextPage() \r\n                    ? 'border-gray-300 text-gray-400 cursor-not-allowed' \r\n                    : colors.buttonOutline}`}\r\n                >\r\n                  {'>'}\r\n                </button>\r\n                <button\r\n                  onClick={() => table.setPageIndex(table.getPageCount() - 1)}\r\n                  disabled={!table.getCanNextPage()}\r\n                  className={`px-3 py-1 text-sm border rounded ${!table.getCanNextPage() \r\n                    ? 'border-gray-300 text-gray-400 cursor-not-allowed' \r\n                    : colors.buttonOutline}`}\r\n                >\r\n                  {'>>'}\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"flex items-center space-x-2 text-sm text-gray-600\">\r\n                <span>\r\n                  Page {table.getState().pagination.pageIndex + 1} of {table.getPageCount()}\r\n                </span>\r\n                <span>|</span>\r\n                <span>\r\n                  {table.getFilteredRowModel().rows.length} total records\r\n                </span>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  )\r\n} ","import { ColumnDef } from '@tanstack/react-table'\r\n\r\n// Quiz Participant Interface\r\nexport interface QuizParticipant {\r\n  name: string\r\n  ipHash: string\r\n  score: number\r\n  lastActive: string\r\n}\r\n\r\n// Game Participant Interface  \r\nexport interface GameParticipant {\r\n  name: string\r\n  ipHash: string\r\n  score: number\r\n  lastActive: string\r\n}\r\n\r\n// Tips Contributor Interface\r\nexport interface TipsContributor {\r\n  name: string\r\n  activity: string\r\n  score: number\r\n  lastActive: string\r\n}\r\n\r\n// Quiz Analytics Columns\r\nexport const quizColumns: ColumnDef<QuizParticipant>[] = [\r\n  {\r\n    id: 'rank',\r\n    header: 'Rank',\r\n    cell: ({ row }) => (\r\n      <div className=\"flex items-center\">\r\n        <span className=\"font-bold text-purple-600\">#{row.index + 1}</span>\r\n      </div>\r\n    ),\r\n    enableSorting: false,\r\n  },\r\n  {\r\n    accessorKey: 'name',\r\n    header: 'Participant Name',\r\n    cell: ({ row }) => (\r\n      <div>\r\n        <div className=\"font-medium text-gray-900\">{row.getValue('name')}</div>\r\n        <div className=\"text-xs text-gray-500\">\r\n          ID: {(row.original.ipHash || '').substring(0, 8)}...\r\n        </div>\r\n      </div>\r\n    ),\r\n  },\r\n  {\r\n    accessorKey: 'score',\r\n    header: 'Score',\r\n    cell: ({ row }) => {\r\n      const score = row.getValue('score') as number;\r\n      const percentage = (score / 10) * 100; // Assuming 10 total questions\r\n      return (\r\n        <div className=\"text-right\">\r\n          <div className=\"text-lg font-bold text-purple-600\">\r\n            {percentage.toFixed(0)}%\r\n          </div>\r\n          <div className=\"text-xs text-gray-500\">quiz score</div>\r\n        </div>\r\n      );\r\n    },\r\n    sortingFn: 'basic',\r\n  },\r\n  {\r\n    accessorKey: 'lastActive',\r\n    header: 'Last Active',\r\n    cell: ({ row }) => (\r\n      <div className=\"text-sm text-gray-600\">\r\n        {new Date(row.getValue('lastActive')).toLocaleDateString('en-US', {\r\n          month: 'short',\r\n          day: 'numeric',\r\n          hour: '2-digit',\r\n          minute: '2-digit'\r\n        })}\r\n      </div>\r\n    ),\r\n    sortingFn: (rowA, rowB) => {\r\n      const dateA = new Date(rowA.getValue('lastActive')).getTime()\r\n      const dateB = new Date(rowB.getValue('lastActive')).getTime()\r\n      return dateA - dateB\r\n    },\r\n  },\r\n]\r\n\r\n// Game Analytics Columns\r\nexport const gameColumns: ColumnDef<GameParticipant>[] = [\r\n  {\r\n    id: 'rank',\r\n    header: 'Rank',\r\n    cell: ({ row }) => (\r\n      <div className=\"flex items-center\">\r\n        {row.index === 0 && <span className=\"text-yellow-500 mr-1\"></span>}\r\n        {row.index === 1 && <span className=\"text-gray-400 mr-1\"></span>}\r\n        {row.index === 2 && <span className=\"text-amber-600 mr-1\"></span>}\r\n        <span className=\"font-bold text-blue-600\">#{row.index + 1}</span>\r\n      </div>\r\n    ),\r\n    enableSorting: false,\r\n  },\r\n  {\r\n    accessorKey: 'name',\r\n    header: 'Player Name',\r\n    cell: ({ row }) => (\r\n      <div>\r\n        <div className=\"font-medium text-gray-900\">{row.getValue('name')}</div>\r\n        <div className=\"text-xs text-gray-500\">\r\n          ID: {(row.original.ipHash || '').substring(0, 8)}...\r\n        </div>\r\n      </div>\r\n    ),\r\n  },\r\n  {\r\n    accessorKey: 'score',\r\n    header: 'High Score',\r\n    cell: ({ row }) => (\r\n      <div className=\"text-right\">\r\n        <div className=\"text-lg font-bold text-blue-600\">\r\n          {(row.getValue('score') as number)?.toLocaleString() || '0'}\r\n        </div>\r\n        <div className=\"text-xs text-gray-500\">points</div>\r\n      </div>\r\n    ),\r\n    sortingFn: 'basic',\r\n  },\r\n  {\r\n    accessorKey: 'lastActive',\r\n    header: 'Last Played',\r\n    cell: ({ row }) => (\r\n      <div className=\"text-sm text-gray-600\">\r\n        {new Date(row.getValue('lastActive')).toLocaleDateString('en-US', {\r\n          month: 'short',\r\n          day: 'numeric',\r\n          hour: '2-digit',\r\n          minute: '2-digit'\r\n        })}\r\n      </div>\r\n    ),\r\n    sortingFn: (rowA, rowB) => {\r\n      const dateA = new Date(rowA.getValue('lastActive')).getTime()\r\n      const dateB = new Date(rowB.getValue('lastActive')).getTime()\r\n      return dateA - dateB\r\n    },\r\n  },\r\n]\r\n\r\n// Tips Analytics Columns\r\nexport const tipsColumns: ColumnDef<TipsContributor>[] = [\r\n  {\r\n    id: 'rank',\r\n    header: 'Rank',\r\n    cell: ({ row }) => (\r\n      <div className=\"flex items-center\">\r\n        <span className=\"font-bold text-green-600\">#{row.index + 1}</span>\r\n      </div>\r\n    ),\r\n    enableSorting: false,\r\n  },\r\n  {\r\n    accessorKey: 'name',\r\n    header: 'Contributor',\r\n    cell: ({ row }) => (\r\n      <div>\r\n        <div className=\"font-medium text-gray-900\">{row.getValue('name')}</div>\r\n        <div className=\"text-xs text-gray-500 truncate max-w-40\">\r\n          {row.original.activity}\r\n        </div>\r\n      </div>\r\n    ),\r\n  },\r\n  {\r\n    accessorKey: 'score',\r\n    header: 'Likes',\r\n    cell: ({ row }) => (\r\n      <div className=\"text-right\">\r\n        <div className=\"text-lg font-bold text-green-600\">\r\n           {row.getValue('score')}\r\n        </div>\r\n        <div className=\"text-xs text-gray-500\">likes</div>\r\n      </div>\r\n    ),\r\n    sortingFn: 'basic',\r\n  },\r\n  {\r\n    accessorKey: 'lastActive',\r\n    header: 'Last Active',\r\n    cell: ({ row }) => (\r\n      <div className=\"text-sm text-gray-600\">\r\n        {new Date(row.getValue('lastActive')).toLocaleDateString('en-US', {\r\n          month: 'short',\r\n          day: 'numeric',\r\n          hour: '2-digit',\r\n          minute: '2-digit'\r\n        })}\r\n      </div>\r\n    ),\r\n    sortingFn: (rowA, rowB) => {\r\n      const dateA = new Date(rowA.getValue('lastActive')).getTime()\r\n      const dateB = new Date(rowB.getValue('lastActive')).getTime()\r\n      return dateA - dateB\r\n    },\r\n  },\r\n] ","import React, { useMemo } from 'react'\r\nimport { useQuery } from '@tanstack/react-query'\r\nimport { useSignalR } from '../../../shared/contexts/SignalRContext'\r\nimport { analyticsApi } from '../../../shared/services/api'\r\nimport { DataTable } from '../../../shared/components/DataTable'\r\nimport { \r\n  quizColumns, \r\n  gameColumns, \r\n  tipsColumns,\r\n  QuizParticipant,\r\n  GameParticipant,\r\n  TipsContributor \r\n} from './analyticsColumns'\r\n\r\nconst Analytics: React.FC = React.memo(() => {\r\n  const { latestAnalyticsUpdate } = useSignalR()\r\n\r\n  // Memoize query functions with faster refresh for demo\r\n  const queryOptions = useMemo(() => ({\r\n    quiz: {\r\n      queryKey: ['analytics-quiz-participants'],\r\n      queryFn: analyticsApi.getQuizParticipants,\r\n      refetchInterval: 5000, // Refetch every 5 seconds for demo\r\n      retry: 2,\r\n      staleTime: 0, // Always consider data stale for real-time updates\r\n    },\r\n    game: {\r\n      queryKey: ['analytics-game-participants'],\r\n      queryFn: analyticsApi.getGameParticipants,\r\n      refetchInterval: 3000, // Refetch every 3 seconds for demo\r\n      retry: 2,\r\n      staleTime: 0, // Always consider data stale for real-time updates\r\n    },\r\n    tips: {\r\n      queryKey: ['analytics-tips-contributors'],\r\n      queryFn: analyticsApi.getTipsContributors,\r\n      refetchInterval: 10000, // Refetch every 10 seconds for demo\r\n      retry: 2,\r\n      staleTime: 0, // Always consider data stale for real-time updates\r\n    }\r\n  }), [])\r\n\r\n  // Only fetch the three working leaderboard endpoints\r\n  const { data: quizParticipants, isLoading: quizInitialLoading, isFetching: quizFetching, error: quizError } = useQuery(queryOptions.quiz)\r\n  const { data: gameParticipants, isLoading: gameInitialLoading, isFetching: gameFetching, error: gameError } = useQuery(queryOptions.game)\r\n  const { data: tipsContributors, isLoading: tipsInitialLoading, isFetching: tipsFetching, error: tipsError } = useQuery(queryOptions.tips)\r\n\r\n  // Memoize computed values\r\n  const participantCounts = useMemo(() => ({\r\n    quiz: (quizParticipants || []).length,\r\n    game: (gameParticipants || []).length,\r\n    tips: (tipsContributors || []).length\r\n  }), [quizParticipants, gameParticipants, tipsContributors])\r\n\r\n  const isAnyFetching = useMemo(() => \r\n    (quizFetching && !quizInitialLoading) || \r\n    (gameFetching && !gameInitialLoading) || \r\n    (tipsFetching && !tipsInitialLoading)\r\n  , [quizFetching, quizInitialLoading, gameFetching, gameInitialLoading, tipsFetching, tipsInitialLoading])\r\n\r\n  const lastUpdateTime = useMemo(() => \r\n    latestAnalyticsUpdate ? new Date(latestAnalyticsUpdate.timestamp).toLocaleTimeString() : null\r\n  , [latestAnalyticsUpdate])\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto p-6\">\r\n      {/* Header */}\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n           Live Analytics Dashboard\r\n        </h1>\r\n        <p className=\"text-gray-600\">\r\n          Real-time insights into demo usage and performance. Data updates every few seconds for live demo experience.\r\n        </p>\r\n        {lastUpdateTime && (\r\n          <div className=\"mt-2 text-sm text-green-600\">\r\n             Live  Last update: {lastUpdateTime}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Analytics Tables Section */}\r\n      <div className=\"space-y-8\">\r\n        {/* Quiz Analytics Table */}\r\n        <DataTable<QuizParticipant>\r\n          data={quizParticipants || []}\r\n          columns={quizColumns}\r\n          title=\" Quiz Analytics\"\r\n          subtitle={`${participantCounts.quiz} participants tracked  Updates every 5s`}\r\n          isLoading={quizInitialLoading}\r\n          error={quizError?.message || null}\r\n          searchPlaceholder=\"Search participants...\"\r\n          emptyStateIcon=\"\"\r\n          emptyStateMessage=\"No quiz data yet\"\r\n          emptyStateSubMessage=\"Complete a quiz to see analytics\"\r\n          colorTheme=\"purple\"\r\n        />\r\n\r\n        {/* Game Analytics Table */}\r\n        <DataTable<GameParticipant>\r\n          data={gameParticipants || []}\r\n          columns={gameColumns}\r\n          title=\" Game Leaderboard\"\r\n          subtitle={`${participantCounts.game} high scores tracked  Updates every 3s`}\r\n          isLoading={gameInitialLoading}\r\n          error={gameError?.message || null}\r\n          searchPlaceholder=\"Search players...\"\r\n          emptyStateIcon=\"\"\r\n          emptyStateMessage=\"No game scores yet\"\r\n          emptyStateSubMessage=\"Play the spaceship game to see scores\"\r\n          colorTheme=\"blue\"\r\n        />\r\n\r\n        {/* Tips Analytics Table */}\r\n        <DataTable<TipsContributor>\r\n          data={tipsContributors || []}\r\n          columns={tipsColumns}\r\n          title=\" Tips Contributors\"\r\n          subtitle={`${participantCounts.tips} contributors tracked  Updates every 10s`}\r\n          isLoading={tipsInitialLoading}\r\n          error={tipsError?.message || null}\r\n          searchPlaceholder=\"Search contributors...\"\r\n          emptyStateIcon=\"\"\r\n          emptyStateMessage=\"No tips data yet\"\r\n          emptyStateSubMessage=\"Create tips to see analytics\"\r\n          colorTheme=\"green\"\r\n        />\r\n      </div>\r\n\r\n      {/* Footer with Real-time Info */}\r\n      <div className=\"mt-8 pt-6 border-t border-gray-200\">\r\n        <div className=\"flex items-center justify-between text-sm text-gray-500\">\r\n          <div className=\"flex items-center space-x-4\">\r\n            <span> Real-time via SignalR</span>\r\n            <span> Fast auto-refresh for demo</span>\r\n            <span> Sortable & Searchable</span>\r\n          </div>\r\n          {isAnyFetching ? (\r\n            <div className=\"text-blue-600 flex items-center\">\r\n              <span className=\"animate-spin mr-2\"></span>\r\n              Updating data...\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-green-600\">\r\n               Data current\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nAnalytics.displayName = 'Analytics'\r\n\r\nexport default Analytics","import { Routes, Route, useNavigate, useLocation } from 'react-router-dom'\r\nimport { useState, useEffect } from 'react'\r\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\r\n\r\n// Import our actual components\r\nimport SpaceshipGame from './features/game/components/SpaceshipGame'\r\nimport TipsAndTricks from './features/tips/components/TipsAndTricks'\r\nimport Analytics from './features/analytics/components/Analytics'\r\n\r\n// Environment-based API configuration\r\nconst getApiBaseUrl = () => {\r\n  // In production (Azure), use relative URLs\r\n  if (import.meta.env.PROD) {\r\n    return '/api'\r\n  }\r\n  \r\n  // In development, use configured proxy or environment variable\r\n  return import.meta.env.VITE_API_URL || '/api'\r\n}\r\n\r\nconst API_BASE = getApiBaseUrl()\r\n\r\n// Types based on backend models\r\ninterface QuizQuestion {\r\n  id: string\r\n  text: string\r\n  options: string[]\r\n  correctAnswer: string\r\n  category: string\r\n  difficulty: string\r\n}\r\n\r\ninterface UserSession {\r\n  sessionId: string\r\n  name: string\r\n  createdAt: string\r\n  hasCompletedQuiz: boolean\r\n}\r\n\r\ninterface QuizSubmission {\r\n  sessionId: string\r\n  answers: Array<{\r\n    questionId: string\r\n    selectedAnswer: string\r\n  }>\r\n}\r\n\r\ninterface QuizResult {\r\n  score: number\r\n  totalQuestions: number\r\n  percentage: number\r\n  results: Array<{\r\n    questionText: string\r\n    selectedAnswer: string\r\n    correctAnswer: string\r\n    isCorrect: boolean\r\n    explanation: string\r\n  }>\r\n  aiAnalysis: string\r\n  recommendations: string[]\r\n}\r\n\r\n// API Service\r\nconst apiService = {\r\n  createSession: async (name: string, title: string): Promise<{ session: UserSession, quizAttempts: number, canTakeQuiz: boolean, maxAttempts: number }> => {\r\n    const response = await fetch(`${API_BASE}/sessions`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ name: `${name} (${title})` })\r\n    })\r\n    if (!response.ok) {\r\n      const errorText = await response.text()\r\n      throw new Error(`Failed to create session: ${errorText}`)\r\n    }\r\n    \r\n    const session = await response.json()\r\n    \r\n    // Extract quiz attempt info from headers\r\n    const quizAttempts = parseInt(response.headers.get('X-Quiz-Attempts') || '0')\r\n    const canTakeQuiz = response.headers.get('X-Can-Take-Quiz') === 'true'\r\n    const maxAttempts = parseInt(response.headers.get('X-Max-Quiz-Attempts') || '3')\r\n    \r\n    return { session, quizAttempts, canTakeQuiz, maxAttempts }\r\n  },\r\n\r\n  getQuestions: async (): Promise<QuizQuestion[]> => {\r\n    const response = await fetch(`${API_BASE}/quiz/questions`)\r\n    if (!response.ok) {\r\n      const errorText = await response.text()\r\n      throw new Error(`Failed to fetch questions: ${errorText}`)\r\n    }\r\n    return response.json()\r\n  },\r\n\r\n  submitQuiz: async (submission: QuizSubmission): Promise<QuizResult> => {\r\n    const response = await fetch(`${API_BASE}/quiz/submit`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(submission)\r\n    })\r\n    if (!response.ok) {\r\n      const errorText = await response.text()\r\n      throw new Error(`Failed to submit quiz: ${errorText}`)\r\n    }\r\n    return response.json()\r\n  },\r\n\r\n  getSession: async (sessionId: string): Promise<UserSession> => {\r\n    const response = await fetch(`${API_BASE}/sessions/${sessionId}`)\r\n    if (!response.ok) {\r\n      const errorText = await response.text()\r\n      throw new Error(`Failed to get session: ${errorText}`)\r\n    }\r\n    return response.json()\r\n  }\r\n}\r\n\r\n// Job titles for dropdown\r\nconst JOB_TITLES = [\r\n  'Software Engineer',\r\n  'Senior Software Engineer', \r\n  'Software Specialist',\r\n  'Senior Software Specialist',\r\n  'Software Tech Lead',\r\n  'Senior Tech Lead',\r\n  'Dev Manager',\r\n  'Senior Dev Manager',\r\n  'Principal Dev Manager',\r\n  'Cursor Expert',\r\n  'AI First Crew'\r\n]\r\n\r\n// Navigation Component\r\nconst Navigation = () => {\r\n  const location = useLocation()\r\n  const navigate = useNavigate()\r\n  \r\n  const tabs = [\r\n    { path: '/', label: ' AI Quiz', color: 'from-purple-500 to-blue-500' },\r\n    { path: '/game', label: ' Spaceship Game', color: 'from-orange-500 to-red-500' },\r\n    { path: '/tips', label: ' Tips & Tricks', color: 'from-green-500 to-teal-500' },\r\n    { path: '/analytics', label: ' Analytics', color: 'from-indigo-500 to-purple-500' }\r\n  ]\r\n\r\n  return (\r\n    <nav className=\"bg-white/90 backdrop-blur-sm shadow-lg rounded-2xl p-4 mb-6\">\r\n      <div className=\"flex flex-wrap justify-center gap-2\">\r\n        {tabs.map((tab) => (\r\n          <button\r\n            key={tab.path}\r\n            onClick={() => navigate(tab.path)}\r\n            className={`px-6 py-3 rounded-xl font-medium transition-all duration-200 transform hover:scale-105 ${\r\n              location.pathname === tab.path\r\n                ? `bg-gradient-to-r ${tab.color} text-white shadow-lg`\r\n                : 'text-gray-600 hover:bg-gray-100 hover:text-gray-800'\r\n            }`}\r\n          >\r\n            {tab.label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\n// Creative Background Component\r\nconst CreativeBackground = () => (\r\n  <div className=\"fixed inset-0 -z-10 overflow-hidden\">\r\n    {/* Animated gradient background */}\r\n    <div className=\"absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-100 to-purple-100 animate-gradient-xy\"></div>\r\n    \r\n    {/* Floating geometric shapes */}\r\n    <div className=\"absolute top-10 left-10 w-32 h-32 bg-gradient-to-br from-blue-200/30 to-purple-200/30 rounded-full blur-xl animate-float-slow\"></div>\r\n    <div className=\"absolute top-40 right-20 w-24 h-24 bg-gradient-to-br from-green-200/30 to-teal-200/30 rounded-full blur-lg animate-float-medium\"></div>\r\n    <div className=\"absolute bottom-20 left-20 w-40 h-40 bg-gradient-to-br from-purple-200/20 to-pink-200/20 rounded-full blur-2xl animate-float-fast\"></div>\r\n    <div className=\"absolute bottom-40 right-40 w-20 h-20 bg-gradient-to-br from-orange-200/30 to-red-200/30 rounded-full blur-md animate-float-slow\"></div>\r\n    \r\n    {/* Grid pattern overlay */}\r\n    <div className=\"absolute inset-0 bg-grid-white/10 bg-[size:50px_50px] opacity-20\"></div>\r\n    \r\n    {/* Subtle noise texture */}\r\n    <div className=\"absolute inset-0 bg-noise opacity-5\"></div>\r\n  </div>\r\n)\r\n\r\n// Main Layout Component\r\nconst Layout = ({ children }: { children: React.ReactNode }) => (\r\n  <div className=\"min-h-screen relative\">\r\n    <CreativeBackground />\r\n    <div className=\"relative z-10 container mx-auto px-4 py-6 max-w-6xl\">\r\n      <div className=\"text-center mb-8\">\r\n        <h1 className=\"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent mb-2\">\r\n           AI First Demo\r\n        </h1>\r\n        <p className=\"text-gray-600 text-lg\">\r\n          Showcase of AI-First Development with Cursor\r\n        </p>\r\n      </div>\r\n      <Navigation />\r\n      <main>{children}</main>\r\n    </div>\r\n  </div>\r\n)\r\n\r\n// Quiz Component\r\nconst QuizPage = () => {\r\n  const [currentSession, setCurrentSession] = useState<UserSession | null>(null)\r\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0)\r\n  const [answers, setAnswers] = useState<Record<string, string>>({})\r\n  const [showResults, setShowResults] = useState(false)\r\n  const [showQuizForm, setShowQuizForm] = useState(true)\r\n  const [userName, setUserName] = useState('')\r\n  const [selectedTitle, setSelectedTitle] = useState('')\r\n  const [quizAttempts, setQuizAttempts] = useState(0)\r\n  const [canTakeQuiz, setCanTakeQuiz] = useState(true)\r\n  const [maxAttempts, setMaxAttempts] = useState(3)\r\n  const [hints, setHints] = useState<Record<string, string>>({})\r\n  const [loadingHints, setLoadingHints] = useState<Record<string, boolean>>({})\r\n  const queryClient = useQueryClient()\r\n\r\n  // Auto-detect user info on component mount\r\n  useEffect(() => {\r\n    const detectUserInfo = () => {\r\n      // Try to get saved info from localStorage\r\n      const savedName = localStorage.getItem('userName')\r\n      if (savedName) {\r\n        setUserName(savedName)\r\n      }\r\n\r\n      // Try to detect from browser/system info\r\n      const userAgent = navigator.userAgent\r\n      const platform = navigator.platform\r\n      \r\n      // Simple heuristics for role detection\r\n      if (userAgent.includes('Windows') && platform.includes('Win')) {\r\n        setSelectedTitle('Software Engineer')\r\n      } else if (userAgent.includes('Mac')) {\r\n        setSelectedTitle('Senior Software Engineer')\r\n      }\r\n    }\r\n\r\n    detectUserInfo()\r\n\r\n    // Check for existing session\r\n    const savedSessionId = localStorage.getItem('quizSessionId')\r\n    if (savedSessionId) {\r\n      apiService.getSession(savedSessionId)\r\n        .then(session => {\r\n          setCurrentSession(session)\r\n          setShowQuizForm(false)\r\n          if (session.hasCompletedQuiz) {\r\n            setShowResults(true)\r\n          }\r\n        })\r\n        .catch(() => {\r\n          // Session invalid, remove from storage\r\n          localStorage.removeItem('quizSessionId')\r\n        })\r\n    }\r\n  }, [])\r\n\r\n  // Mutations and queries\r\n  const createSessionMutation = useMutation({\r\n    mutationFn: ({ name, title }: { name: string, title: string }) => \r\n      apiService.createSession(name, title),\r\n    onSuccess: (response) => {\r\n      setCurrentSession(response.session)\r\n      setQuizAttempts(response.quizAttempts)\r\n      setCanTakeQuiz(response.canTakeQuiz)\r\n      setMaxAttempts(response.maxAttempts)\r\n      setShowQuizForm(false)\r\n      localStorage.setItem('quizSessionId', response.session.sessionId)\r\n      localStorage.setItem('userName', userName)\r\n    },\r\n    onError: (error: Error) => {\r\n      console.error('Session creation failed:', error)\r\n      // Handle session creation errors\r\n    }\r\n  })\r\n\r\n  const { data: questions = [], isLoading: questionsLoading } = useQuery({\r\n    queryKey: ['questions'],\r\n    queryFn: apiService.getQuestions,\r\n    enabled: !!currentSession && !currentSession.hasCompletedQuiz\r\n  })\r\n\r\n  const submitQuizMutation = useMutation({\r\n    mutationFn: apiService.submitQuiz,\r\n    onSuccess: (_result) => {\r\n      setShowResults(true)\r\n      queryClient.invalidateQueries({ queryKey: ['session', currentSession?.sessionId] })\r\n    },\r\n    onError: (error: Error) => {\r\n      console.error('Quiz submission failed:', error)\r\n      // If it's a limit error, reset to show the form with error message\r\n      if (error.message.includes('limit reached') || error.message.includes('attempts')) {\r\n        setShowQuizForm(true)\r\n        setCurrentSession(null)\r\n        localStorage.removeItem('quizSessionId')\r\n      }\r\n    }\r\n  })\r\n\r\n  const handleStartQuiz = () => {\r\n    if (userName.trim() && selectedTitle) {\r\n      createSessionMutation.mutate({ name: userName.trim(), title: selectedTitle })\r\n    }\r\n  }\r\n\r\n  const handleAnswerSelect = (questionId: string, answer: string) => {\r\n    setAnswers(prev => ({ ...prev, [questionId]: answer }))\r\n  }\r\n\r\n  const handleNext = () => {\r\n    if (currentQuestionIndex < questions.length - 1) {\r\n      setCurrentQuestionIndex(prev => prev + 1)\r\n    } else {\r\n      // Submit quiz\r\n      if (currentSession) {\r\n        const submission: QuizSubmission = {\r\n          sessionId: currentSession.sessionId,\r\n          answers: questions.map(q => ({\r\n            questionId: q.id,\r\n            selectedAnswer: answers[q.id] || ''\r\n          }))\r\n        }\r\n        submitQuizMutation.mutate(submission)\r\n      }\r\n    }\r\n  }\r\n\r\n  const handlePrevious = () => {\r\n    if (currentQuestionIndex > 0) {\r\n      setCurrentQuestionIndex(prev => prev - 1)\r\n    }\r\n  }\r\n\r\n  const resetQuiz = () => {\r\n    localStorage.removeItem('quizSessionId')\r\n    setCurrentSession(null)\r\n    setCurrentQuestionIndex(0)\r\n    setAnswers({})\r\n    setShowResults(false)\r\n    setShowQuizForm(true)\r\n    setHints({})\r\n    setLoadingHints({})\r\n  }\r\n\r\n  const handleGetHint = async (questionId: string) => {\r\n    if (hints[questionId] || loadingHints[questionId]) return\r\n\r\n    setLoadingHints(prev => ({ ...prev, [questionId]: true }))\r\n    \r\n    try {\r\n      const response = await fetch(`${API_BASE}/quiz/hint/${questionId}`)\r\n      if (response.ok) {\r\n        const data = await response.json()\r\n        setHints(prev => ({ ...prev, [questionId]: data.hint }))\r\n      } else {\r\n        // Handle case where hint is not available (e.g., hard questions)\r\n        setHints(prev => ({ ...prev, [questionId]: \"Hints are not available for this question to maintain scoring integrity.\" }))\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching hint:', error)\r\n      setHints(prev => ({ ...prev, [questionId]: \"Sorry, couldn't load hint at this time.\" }))\r\n    } finally {\r\n      setLoadingHints(prev => ({ ...prev, [questionId]: false }))\r\n    }\r\n  }\r\n\r\n  // Show quiz form if no session\r\n  if (showQuizForm) {\r\n    return (\r\n      <div className=\"max-w-2xl mx-auto\">\r\n        <div className=\"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 border border-white/20\">\r\n          <div className=\"text-center mb-8\">\r\n            <div className=\"text-6xl mb-4\"></div>\r\n            <h2 className=\"text-4xl font-bold text-gray-800 mb-4\">AI Quiz Challenge</h2>\r\n            <p className=\"text-gray-600 text-lg\">\r\n              Test your knowledge of AI-First development with Cursor and Windsurf!\r\n            </p>\r\n            \r\n            {/* Quiz Attempt Information */}\r\n            {quizAttempts > 0 && (\r\n              <div className={`mt-4 p-4 rounded-xl ${canTakeQuiz ? 'bg-blue-50 border border-blue-200' : 'bg-red-50 border border-red-200'}`}>\r\n                <p className={`text-sm font-medium ${canTakeQuiz ? 'text-blue-800' : 'text-red-800'}`}>\r\n                   Quiz Attempts Today: {quizAttempts}/{maxAttempts}\r\n                </p>\r\n                {!canTakeQuiz && (\r\n                  <p className=\"text-red-600 text-sm mt-2\">\r\n                     You've reached your daily limit. Please try again tomorrow!\r\n                  </p>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Show error if quiz submission failed */}\r\n          {createSessionMutation.isError && (\r\n            <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl\">\r\n              <p className=\"text-red-800 text-sm font-medium\">\r\n                 Error: {createSessionMutation.error?.message || 'Failed to start quiz'}\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"space-y-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                 Your Name\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={userName}\r\n                onChange={(e) => setUserName(e.target.value)}\r\n                placeholder=\"Enter your name...\"\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n                maxLength={50}\r\n                disabled={!canTakeQuiz}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                 Your Role\r\n              </label>\r\n              <select\r\n                value={selectedTitle}\r\n                onChange={(e) => setSelectedTitle(e.target.value)}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent\"\r\n                disabled={!canTakeQuiz}\r\n              >\r\n                <option value=\"\">Select your role...</option>\r\n                {JOB_TITLES.map(title => (\r\n                  <option key={title} value={title}>{title}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <button\r\n              onClick={handleStartQuiz}\r\n              disabled={!userName.trim() || !selectedTitle || createSessionMutation.isPending || !canTakeQuiz}\r\n              className={`w-full font-bold py-4 px-6 rounded-xl transform hover:scale-105 transition-all duration-200 shadow-lg ${\r\n                canTakeQuiz \r\n                  ? 'bg-gradient-to-r from-purple-500 to-blue-500 text-white hover:from-purple-600 hover:to-blue-600 disabled:opacity-50 disabled:cursor-not-allowed'\r\n                  : 'bg-gray-400 text-gray-600 cursor-not-allowed'\r\n              }`}\r\n            >\r\n              {!canTakeQuiz \r\n                ? ' Daily Limit Reached'\r\n                : createSessionMutation.isPending \r\n                  ? ' Starting...' \r\n                  : ' Start Quiz!'\r\n              }\r\n            </button>\r\n            \r\n            {userName && selectedTitle && canTakeQuiz && (\r\n              <p className=\"text-xs text-gray-500 text-center\">\r\n                 Auto-detected info? Feel free to change it!\r\n              </p>\r\n            )}\r\n            \r\n            {!canTakeQuiz && (\r\n              <div className=\"text-center\">\r\n                <p className=\"text-sm text-gray-600 mb-4\">\r\n                   While you wait, try our other features:\r\n                </p>\r\n                <div className=\"flex flex-wrap justify-center gap-2\">\r\n                  <button \r\n                    onClick={() => window.location.href = '/game'}\r\n                    className=\"px-4 py-2 bg-orange-100 text-orange-800 rounded-lg text-sm hover:bg-orange-200 transition-colors\"\r\n                  >\r\n                     Spaceship Game\r\n                  </button>\r\n                  <button \r\n                    onClick={() => window.location.href = '/tips'}\r\n                    className=\"px-4 py-2 bg-green-100 text-green-800 rounded-lg text-sm hover:bg-green-200 transition-colors\"\r\n                  >\r\n                     Tips & Tricks\r\n                  </button>\r\n                  <button \r\n                    onClick={() => window.location.href = '/analytics'}\r\n                    className=\"px-4 py-2 bg-blue-100 text-blue-800 rounded-lg text-sm hover:bg-blue-200 transition-colors\"\r\n                  >\r\n                     Analytics\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Loading questions\r\n  if (questionsLoading) {\r\n    return (\r\n      <div className=\"text-center\">\r\n        <div className=\"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-12 border border-white/20\">\r\n          <div className=\"animate-spin rounded-full h-16 w-16 border-b-2 border-purple-500 mx-auto mb-4\"></div>\r\n          <h2 className=\"text-2xl font-bold text-gray-800\"> Loading Quiz Questions...</h2>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Quiz completed - show results\r\n  if (showResults || currentSession?.hasCompletedQuiz) {\r\n    const quizResultData = submitQuizMutation.data;\r\n\r\n    return (\r\n      <div className=\"max-w-3xl mx-auto\">\r\n        <div className=\"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 border border-white/20\">\r\n          <div className=\"text-center\">\r\n            <div className=\"text-6xl mb-4\"></div>\r\n            <h2 className=\"text-4xl font-bold text-gray-800 mb-2\">Quiz Completed!</h2>\r\n            <p className=\"text-gray-600 mb-6\">\r\n              Well done, <span className=\"font-bold text-purple-600\">{currentSession?.name}</span>!\r\n            </p>\r\n\r\n            {quizResultData && (\r\n              <div className=\"mb-8 text-left\">\r\n                <div className=\"bg-purple-50 p-6 rounded-xl mb-6 border border-purple-200\">\r\n                  <h3 className=\"text-2xl font-semibold text-purple-700 mb-4\">Your Score:</h3>\r\n                  <div className=\"grid grid-cols-3 gap-4 text-center\">\r\n                    <div>\r\n                      <p className=\"text-3xl font-bold text-purple-600\">{quizResultData.score}</p>\r\n                      <p className=\"text-sm text-purple-500\">Correct</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-3xl font-bold text-gray-700\">{quizResultData.totalQuestions}</p>\r\n                      <p className=\"text-sm text-gray-500\">Total</p>\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-3xl font-bold text-purple-600\">{quizResultData.percentage.toFixed(0)}%</p>\r\n                      <p className=\"text-sm text-purple-500\">Percentage</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <h3 className=\"text-2xl font-semibold text-gray-800 mb-6\">Detailed Results:</h3>\r\n                <div className=\"space-y-6\">\r\n                  {quizResultData.results.map((result, index) => (\r\n                    <div key={index} className={`p-6 rounded-xl border ${result.isCorrect ? 'border-green-300 bg-green-50' : 'border-red-300 bg-red-50'}`}>\r\n                      <p className=\"font-semibold text-gray-700 mb-2\">\r\n                        <span className=\"mr-2\">{index + 1}.</span>{result.questionText}\r\n                      </p>\r\n                      <p className={`text-sm mb-1 ${result.isCorrect ? 'text-green-700' : 'text-red-700'}`}>\r\n                        Your answer: <span className=\"font-medium\">{result.selectedAnswer || \"Not answered\"}</span>\r\n                        {result.isCorrect ? <span className=\"ml-2\"> Correct</span> : <span className=\"ml-2\"> Incorrect</span>}\r\n                      </p>\r\n                      {!result.isCorrect && (\r\n                        <p className=\"text-sm text-gray-600 mb-3\">\r\n                          Correct answer: <span className=\"font-medium text-green-700\">{result.correctAnswer}</span>\r\n                        </p>\r\n                      )}\r\n                      <div className=\"mt-3 pt-3 border-t border-gray-300/50\">\r\n                        <p className=\"text-xs text-gray-500 mb-1 font-medium\">AI Explanation:</p>\r\n                        <p className=\"text-xs text-gray-600 leading-relaxed\">{result.explanation}</p>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                {quizResultData.aiAnalysis && (\r\n                  <div className=\"mt-8 p-6 bg-blue-50 border border-blue-200 rounded-xl\">\r\n                    <h4 className=\"text-xl font-semibold text-blue-700 mb-3\"> AI Performance Analysis:</h4>\r\n                    <p className=\"text-sm text-blue-600 leading-relaxedwhitespace-pre-line\">{quizResultData.aiAnalysis}</p>\r\n                  </div>\r\n                )}\r\n\r\n                {quizResultData.recommendations && quizResultData.recommendations.length > 0 && (\r\n                  <div className=\"mt-8 p-6 bg-indigo-50 border border-indigo-200 rounded-xl\">\r\n                    <h4 className=\"text-xl font-semibold text-indigo-700 mb-3\"> AI Recommendations:</h4>\r\n                    <ul className=\"list-disc list-inside space-y-1 text-sm text-indigo-600\">\r\n                      {quizResultData.recommendations.map((rec, i) => (\r\n                        <li key={i}>{rec}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n            \r\n            <button\r\n              onClick={resetQuiz}\r\n              className=\"bg-gradient-to-r from-purple-500 to-blue-500 text-white font-bold py-3 px-8 rounded-xl hover:from-purple-600 hover:to-blue-600 transform hover:scale-105 transition-all duration-200 shadow-lg\"\r\n            >\r\n               Take Quiz Again (New Session)\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  // Quiz in progress\r\n  const currentQuestion = questions[currentQuestionIndex]\r\n  const progress = ((currentQuestionIndex + 1) / questions.length) * 100\r\n\r\n  return (\r\n    <div className=\"max-w-3xl mx-auto\">\r\n      {/* Progress Bar */}\r\n      <div className=\"mb-6\">\r\n        <div className=\"w-full bg-gray-200 rounded-full h-3 mb-2\">\r\n          <div \r\n            className=\"bg-gradient-to-r from-purple-500 to-blue-500 h-3 rounded-full transition-all duration-300\"\r\n            style={{ width: `${progress}%` }}\r\n          ></div>\r\n        </div>\r\n        <p className=\"text-sm text-gray-600 text-center\">\r\n          Question {currentQuestionIndex + 1} of {questions.length}\r\n        </p>\r\n      </div>\r\n\r\n      {/* Show error if quiz submission failed */}\r\n      {submitQuizMutation.isError && (\r\n        <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl\">\r\n          <p className=\"text-red-800 text-sm font-medium\">\r\n             Quiz Submission Error: {submitQuizMutation.error?.message || 'Failed to submit quiz'}\r\n          </p>\r\n          <p className=\"text-red-600 text-xs mt-1\">\r\n            Please try again or start a new session if you've reached your daily limit.\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Question Card */}\r\n      <div className=\"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-8 mb-6 border border-white/20\">\r\n        <div className=\"mb-6\">\r\n          <div className=\"flex justify-between items-start mb-4\">\r\n            <span className=\"inline-block bg-purple-100 text-purple-800 text-xs font-semibold px-3 py-1 rounded-full\">\r\n              {currentQuestion?.category}  {currentQuestion?.difficulty}\r\n            </span>\r\n            <button\r\n              onClick={() => handleGetHint(currentQuestion?.id || '')}\r\n              disabled={loadingHints[currentQuestion?.id || ''] || !!hints[currentQuestion?.id || '']}\r\n              className=\"bg-yellow-100 hover:bg-yellow-200 text-yellow-800 text-xs font-semibold px-3 py-1 rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {loadingHints[currentQuestion?.id || ''] ? ' Loading...' : hints[currentQuestion?.id || ''] ? ' Hint Shown' : ' Get Hint'}\r\n            </button>\r\n          </div>\r\n          <h3 className=\"text-xl font-bold text-gray-800 leading-relaxed\">\r\n            {currentQuestion?.text}\r\n          </h3>\r\n        </div>\r\n\r\n        {/* Hint Display */}\r\n        {hints[currentQuestion?.id || ''] && (\r\n          <div className=\"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-xl\">\r\n            <div className=\"flex items-start gap-2\">\r\n              <span className=\"text-yellow-600 text-lg\"></span>\r\n              <div>\r\n                <p className=\"text-yellow-800 font-medium text-sm mb-1\">AI Hint:</p>\r\n                <p className=\"text-yellow-700 text-sm\">{hints[currentQuestion?.id || '']}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"space-y-3\">\r\n          {currentQuestion?.options.map((option, index) => (\r\n            <button\r\n              key={index}\r\n              onClick={() => handleAnswerSelect(currentQuestion.id, option)}\r\n              className={`w-full p-4 text-left rounded-xl border-2 transition-all duration-200 ${\r\n                answers[currentQuestion.id] === option\r\n                  ? 'border-purple-500 bg-purple-50 text-purple-800'\r\n                  : 'border-gray-200 hover:border-purple-300 hover:bg-purple-25'\r\n              }`}\r\n            >\r\n              <span className=\"font-medium\">{String.fromCharCode(65 + index)}.</span> {option}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <button\r\n          onClick={handlePrevious}\r\n          disabled={currentQuestionIndex === 0}\r\n          className=\"bg-gray-500 text-white font-bold py-3 px-6 rounded-xl hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200\"\r\n        >\r\n           Previous\r\n        </button>\r\n\r\n        <span className=\"text-gray-600 font-medium\">\r\n          {currentQuestionIndex + 1} / {questions.length}\r\n        </span>\r\n\r\n        <button\r\n          onClick={handleNext}\r\n          disabled={!answers[currentQuestion?.id] || submitQuizMutation.isPending}\r\n          className=\"bg-gradient-to-r from-purple-500 to-blue-500 text-white font-bold py-3 px-6 rounded-xl hover:from-purple-600 hover:to-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200\"\r\n        >\r\n          {currentQuestionIndex === questions.length - 1 \r\n            ? (submitQuizMutation.isPending ? ' Submitting...' : ' Submit Quiz')\r\n            : 'Next '\r\n          }\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Main App Component\r\nfunction App() {\r\n  return (\r\n    <Layout>\r\n      <Routes>\r\n        <Route path=\"/\" element={<QuizPage />} />\r\n        <Route path=\"/quiz\" element={<QuizPage />} />\r\n        <Route path=\"/game\" element={<SpaceshipGame />} />\r\n        <Route path=\"/tips\" element={<TipsAndTricks />} />\r\n        <Route path=\"/analytics\" element={<Analytics />} />\r\n      </Routes>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default App ","import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query'\r\nimport { SignalRProvider } from './shared/contexts/SignalRContext'\r\nimport { SessionProvider } from './shared/contexts/SessionContext'\r\nimport App from './App.tsx'\r\nimport './index.css'\r\n\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      retry: 1,\r\n      refetchOnWindowFocus: false,\r\n    },\r\n  },\r\n})\r\n\r\nReactDOM.createRoot(document.getElementById('root')!).render(\r\n  <React.StrictMode>\r\n    <QueryClientProvider client={queryClient}>\r\n      <SessionProvider>\r\n        <SignalRProvider>\r\n          <BrowserRouter>\r\n            <App />\r\n          </BrowserRouter>\r\n        </SignalRProvider>\r\n      </SessionProvider>\r\n    </QueryClientProvider>\r\n  </React.StrictMode>,\r\n) "],"names":["m","require$$0","HttpError","errorMessage","statusCode","trueProto","TimeoutError","AbortError","UnsupportedTransportError","message","transport","DisabledTransportError","FailedToStartTransportError","FailedToNegotiateWithServerError","AggregateErrors","innerErrors","HttpResponse","statusText","content","HttpClient","url","options","LogLevel","NullLogger","_logLevel","_message","VERSION","Arg","val","name","values","Platform","getDataDetail","data","includeContent","detail","isArrayBuffer","formatArrayBuffer","view","str","num","pad","sendMessage","logger","transportName","httpClient","headers","value","getUserAgentHeader","responseType","response","createLogger","ConsoleLogger","SubjectSubscription","subject","observer","index","_","minimumLogLevel","logLevel","msg","userAgentHeaderName","constructUserAgent","getOsName","getRuntime","getRuntimeVersion","version","os","runtime","runtimeVersion","userAgent","majorAndMinor","getErrorString","getGlobalThis","FetchHttpClient","requireFunc","request","abortController","error","timeoutId","msTimeout","e","deserializeContent","payload","cookies","c","XhrHttpClient","resolve","reject","xhr","header","DefaultHttpClient","TextMessageFormat","output","input","messages","HandshakeProtocol","handshakeRequest","messageData","remainingData","binaryData","separatorIndex","responseLength","textData","MessageType","Subject","item","err","MessageBuffer","protocol","connection","bufferSize","serializedMessage","backpressurePromise","backpressurePromiseResolver","backpressurePromiseRejector","BufferedItem","ackMessage","newestAckedMessage","element","currentId","sequenceId","id","resolver","rejector","DEFAULT_TIMEOUT_IN_MS","DEFAULT_PING_INTERVAL_IN_MS","DEFAULT_STATEFUL_RECONNECT_BUFFER_SIZE","HubConnectionState","HubConnection","reconnectPolicy","serverTimeoutInMilliseconds","keepAliveIntervalInMilliseconds","statefulReconnectBufferSize","handshakePromise","startPromise","state","methodName","args","streams","streamIds","invocationDescriptor","promiseQueue","cancelInvocation","invocationEvent","sendPromise","newMethod","method","handlers","removeIdx","callback","responseMessage","nextPing","invocationMessage","methods","methodsCopy","expectsResponse","res","exception","completionMessage","prevRes","reconnectStartTime","previousReconnectAttempts","retryError","nextRetryDelay","previousRetryCount","elapsedMilliseconds","retryReason","callbacks","key","nonblocking","invocationId","streamId","i","argument","arg","result","DEFAULT_RETRY_DELAYS_IN_MILLISECONDS","DefaultReconnectPolicy","retryDelays","retryContext","HeaderNames","AccessTokenHttpClient","innerClient","accessTokenFactory","allowRetry","HttpTransportType","TransferFormat","AbortController$1","LongPollingTransport","AbortController","transferFormat","pollOptions","pollUrl","deleteOptions","logMessage","ServerSentEventsTransport","accessToken","opened","eventSource","WebSocketTransport","logMessageContent","webSocketConstructor","token","webSocket","_event","event","MAX_REDIRECTS","HttpConnection","webSocketModule","eventSourceModule","TransportSendQueue","negotiateResponse","redirects","negotiateUrl","connectionToken","requestedTransport","requestedTransferFormat","connectUrl","transportExceptions","transports","negotiate","endpoint","transportOrError","ex","callStop","useStatefulReconnect","transportMatches","s","aTag","searchParams","actualTransport","_transport","PromiseSource","transportResult","arrayBuffers","totalLength","b","a","offset","reason","JSON_HUB_PROTOCOL_NAME","JsonHubProtocol","hubMessages","parsedMessage","LogLevelNameMapping","parseLogLevel","mapping","HubConnectionBuilder","logging","isLogger","transportTypeOrOptions","retryDelaysOrReconnectPolicy","milliseconds","httpConnectionOptions","SignalRContext","createContext","useSignalR","context","useContext","SignalRProvider","children","gameConnection","setGameConnection","useState","analyticsConnection","setAnalyticsConnection","isGameConnected","setIsGameConnected","isAnalyticsConnected","setIsAnalyticsConnected","latestScoreUpdate","setLatestScoreUpdate","latestGameEvent","setLatestGameEvent","latestAnalyticsUpdate","setLatestAnalyticsUpdate","useEffect","gameHub","signalR.HubConnectionBuilder","analyticsHub","update","jsx","SessionContext","useSession","SessionProvider","session","setSession","isLoading","setIsLoading","savedSession","parsedSession","handleSetSession","newSession","bind","fn","thisArg","toString","getPrototypeOf","iterator","toStringTag","kindOf","cache","thing","kindOfTest","type","typeOfTest","isArray","isUndefined","isBuffer","isFunction","isArrayBufferView","isString","isNumber","isObject","isBoolean","isPlainObject","prototype","isDate","isFile","isBlob","isFileList","isStream","isFormData","kind","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","trim","forEach","obj","allOwnKeys","l","keys","len","findKey","_key","_global","isContextDefined","merge","caseless","assignValue","targetKey","extend","stripBOM","inherits","constructor","superConstructor","props","descriptors","toFlatObject","sourceObj","destObj","filter","propFilter","prop","merged","endsWith","searchString","position","lastIndex","toArray","arr","isTypedArray","TypedArray","forEachEntry","_iterator","pair","matchAll","regExp","matches","isHTMLForm","toCamelCase","p1","p2","hasOwnProperty","isRegExp","reduceDescriptors","reducer","reducedDescriptors","descriptor","ret","freezeMethods","toObjectSet","arrayOrString","delimiter","define","noop","toFiniteNumber","defaultValue","isSpecCompliantForm","toJSONObject","stack","visit","source","target","reducedValue","isAsyncFn","isThenable","_setImmediate","setImmediateSupported","postMessageSupported","cb","asap","isIterable","utils$1","AxiosError","code","config","utils","customProps","axiosError","httpAdapter","isVisitable","removeBrackets","renderKey","path","dots","isFlatArray","predicates","toFormData","formData","option","metaTokens","visitor","defaultVisitor","indexes","useBlob","convertValue","el","exposedHelpers","build","encode","charMap","match","AxiosURLSearchParams","params","encoder","_encode","buildURL","serializeFn","serializedParams","hashmarkIndex","InterceptorManager","fulfilled","rejected","h","transitionalDefaults","URLSearchParams$1","FormData$1","Blob$1","platform$1","URLSearchParams","FormData","Blob","hasBrowserEnv","_navigator","hasStandardBrowserEnv","hasStandardBrowserWebWorkerEnv","origin","platform","toURLEncodedForm","helpers","parsePropPath","arrayToObject","formDataToJSON","buildPath","isNumericKey","isLast","stringifySafely","rawValue","parser","defaults","contentType","hasJSONContentType","isObjectPayload","_FormData","transitional","forcedJSONParsing","JSONRequested","strictJSONParsing","status","ignoreDuplicateOf","parseHeaders","rawHeaders","parsed","line","$internals","normalizeHeader","normalizeValue","parseTokens","tokens","tokensRE","isValidHeaderName","matchHeaderValue","isHeaderNameFilter","formatHeader","w","char","buildAccessors","accessorName","arg1","arg2","arg3","AxiosHeaders$1","valueOrRewrite","rewrite","self","setHeader","_value","_header","_rewrite","lHeader","setHeaders","dest","entry","matcher","deleted","deleteHeader","format","normalized","targets","asStrings","first","computed","accessors","defineAccessor","AxiosHeaders","mapped","headerValue","transformData","fns","isCancel","CanceledError","settle","validateStatus","parseProtocol","speedometer","samplesCount","min","bytes","timestamps","head","tail","firstSampleTS","chunkLength","now","startedAt","bytesCount","passed","throttle","freq","timestamp","threshold","lastArgs","timer","invoke","progressEventReducer","listener","isDownloadStream","bytesNotified","_speedometer","loaded","total","progressBytes","rate","inRange","progressEventDecorator","throttled","lengthComputable","asyncDecorator","isURLSameOrigin","isMSIE","expires","domain","secure","cookie","isAbsoluteURL","combineURLs","baseURL","relativeURL","buildFullPath","requestedURL","allowAbsoluteUrls","isRelativeUrl","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","resolveConfig","newConfig","withXSRFToken","xsrfHeaderName","xsrfCookieName","auth","xsrfValue","isXHRAdapterSupported","xhrAdapter","_config","requestData","requestHeaders","onUploadProgress","onDownloadProgress","onCanceled","uploadThrottled","downloadThrottled","flushUpload","flushDownload","done","onloadend","responseHeaders","timeoutErrorMessage","cancel","composeSignals","signals","timeout","length","controller","aborted","onabort","unsubscribe","signal","streamChunk","chunk","chunkSize","pos","end","readBytes","iterable","readStream","stream","reader","trackStream","onProgress","onFinish","_onFinish","loadedBytes","isFetchSupported","isReadableStreamSupported","encodeText","test","supportsRequestStream","duplexAccessed","hasContentType","DEFAULT_CHUNK_SIZE","supportsResponseStream","resolvers","getBodyLength","body","resolveBodyLength","fetchAdapter","cancelToken","withCredentials","fetchOptions","composedSignal","requestContentLength","_request","contentTypeHeader","flush","isCredentialsSupported","isStreamResponse","responseContentLength","responseData","knownAdapters","renderReason","isResolvedHandle","adapter","adapters","nameOrAdapter","rejectedReasons","reasons","throwIfCancellationRequested","dispatchRequest","validators","deprecatedWarnings","validator","formatMessage","opt","desc","opts","correctSpelling","assertOptions","schema","allowUnknown","Axios$1","instanceConfig","configOrUrl","dummy","paramsSerializer","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","promise","chain","onFulfilled","onRejected","fullPath","Axios","generateHTTPMethod","isForm","CancelToken$1","CancelToken","executor","resolvePromise","onfulfilled","_resolve","abort","spread","isAxiosError","HttpStatusCode","createInstance","defaultConfig","instance","axios","promises","all","Cancel","formToJSON","getAdapter","api","_a","sessionApi","sessionId","gameApi","tipsApi","category","tipId","analyticsApi","SpaceshipGame","canvasRef","useRef","gameLoopRef","keysRef","gameState","setGameState","showLeaderboard","setShowLeaderboard","playerName","setPlayerName","showNameInput","setShowNameInput","queryClient","useQueryClient","CANVAS_WIDTH","CANVAS_HEIGHT","PLAYER_SIZE","BULLET_SPEED","ASTEROID_MIN_SIZE","ASTEROID_MAX_SIZE","PLAYER_ACCELERATION","PLAYER_MAX_SPEED","FRICTION","leaderboard","useQuery","submitScoreMutation","useMutation","initializeGame","useCallback","newGameState","createAsteroid","radius","x","y","handleKeyDown","shoot","togglePause","handleKeyUp","bullet","prev","gameLoop","newState","speed","asteroid","j","k","asteroidCount","canvas","ctx","points","angle","handleSubmitScore","gameDurationMs","gameDurationSeconds","hours","minutes","seconds","gameDurationTimeSpan","jsxs","CATEGORIES","DIFFICULTY_COLORS","TipsAndTricks","selectedCategory","setSelectedCategory","searchQuery","setSearchQuery","showCreateForm","setShowCreateForm","showNameForm","setShowNameForm","userName","setUserName","newTip","setNewTip","tipsResponse","allTips","filteredTips","tip","tag","createSessionMutation","createTipMutation","likeTipMutation","handleAddTipClick","handleCreateSession","handleCreateTip","handleLikeTip","t","sum","functionalUpdate","updater","makeStateUpdater","old","d","isNumberArray","flattenBy","getChildren","flat","recurse","subArr","memo","getDeps","deps","depArgs","depTime","newDeps","dep","resultTime","depEndTime","resultEndTime","resultFpsPercentage","getMemoOptions","tableOptions","debugLevel","onChange","_tableOptions$debugAl","createCell","table","row","column","columnId","getRenderValue","_cell$getValue","cell","feature","createColumn","columnDef","depth","parent","_ref","_resolvedColumnDef$id","resolvedColumnDef","accessorKey","accessorFn","originalRow","_result","_column$columns","orderColumns","_column$columns2","leafColumns","debug","createHeader","_options$id","leafHeaders","recurseHeader","Headers","allColumns","left","right","_left$map$filter","_right$map$filter","leftColumns","rightColumns","centerColumns","buildHeaderGroups","_left$map$filter2","orderedLeafColumns","_right$map$filter2","headerGroups","headerGroup","flatHeaders","_header$subHeaders","_header$subHeaders2","_header$subHeaders3","center","_left$0$headers","_left$","_center$0$headers","_center$","_right$0$headers","_right$","columnsToGroup","headerFamily","_headerGroups$0$heade","_headerGroups$","maxDepth","findMaxDepth","columns","createHeaderGroup","headersToGroup","pendingParentHeaders","headerToGroup","latestPendingParentHeader","isLeafHeader","isPlaceholder","bottomHeaders","recurseHeadersForSpans","colSpan","rowSpan","childRowSpans","childColSpan","childRowSpan","minChildRowSpan","createRow","original","rowIndex","subRows","parentId","_row$getValue","parentRows","currentRow","parentRow","allCells","acc","ColumnFaceting","includesString","filterValue","_filterValue$toString","search","testFalsey","includesStringSensitive","_row$getValue2","equalsString","_row$getValue3","arrIncludes","_row$getValue4","arrIncludesAll","_row$getValue5","arrIncludesSome","_row$getValue6","equals","weakEquals","inNumberRange","max","rowValue","unsafeMin","unsafeMax","parsedMin","parsedMax","temp","filterFns","ColumnFiltering","firstRow","_table$options$filter","_table$options$filter2","_column$columnDef$ena","_table$options$enable","_table$options$enable2","_table$getState$colum","_table$getState$colum2","_table$getState$colum3","filterFn","previousFilter","newFilter","shouldAutoRemoveFilter","_old$filter","newFilterObj","_old$map","_table","updateFn","_functionalUpdate","defaultState","_table$initialState$c","_table$initialState","_leafRows","childRows","next","nextValue","extent","mean","leafRows","count","median","mid","nums","unique","uniqueCount","_columnId","aggregationFns","ColumnGrouping","_toString","_props$getValue","_table$getState$group","_table$getState$group2","canGroup","_table$options$aggreg","_table$options$aggreg2","_table$initialState$g","_row$subRows","grouping","groupedColumnMode","nonGroupingColumns","col","g","ColumnOrdering","_getVisibleLeafColumns","_columns$","_columns","columnOrder","orderedColumns","columnOrderCopy","columnsCopy","targetColumnId","foundIndex","getDefaultColumnPinningState","ColumnPinning","columnIds","_old$left3","_old$right3","_old$left","_old$right","_old$left2","_old$right2","_d$columnDef$enablePi","leafColumnIds","isLeft","isRight","leftAndRight","_pinningState$positio","pinningState","_pinningState$left","_pinningState$right","safelyAccessDocument","_document","defaultColumnSizing","getDefaultColumnSizingInfoState","ColumnSizing","_column$columnDef$min","_column$columnDef$max","columnSize","_ref2","rest","_header$column$getSiz","prevSiblingHeader","_contextDocument","canResize","isTouchStartEvent","startSize","columnSizingStart","clientX","newColumnSizing","updateOffset","eventType","clientXPos","_old$startOffset","_old$startSize","deltaDirection","deltaOffset","deltaPercentage","_ref3","headerSize","onMove","onEnd","contextDocument","mouseEvents","touchEvents","_e$touches$","passiveIfSupported","passiveEventSupported","_table$initialState$c2","_table$getHeaderGroup","_table$getHeaderGroup2","_table$getLeftHeaderG","_table$getLeftHeaderG2","_table$getCenterHeade","_table$getCenterHeade2","_table$getRightHeader","_table$getRightHeader2","passiveSupported","supported","ColumnVisibility","childColumns","cells","makeVisibleColumnsMethod","getColumns","_target","GlobalFaceting","GlobalFiltering","_table$getCoreRowMode","_table$options$getCol","globalFilterFn","RowExpanding","registered","queued","_table$options$autoRe","expanded","_table$initialState$e","splitId","_expanded","exists","oldExpanded","rowId","_table$options$getIsR","_table$options$getRow","isFullyExpanded","canExpand","defaultPageIndex","defaultPageSize","getDefaultPaginationState","RowPagination","safeUpdater","_table$initialState$p","pageIndex","maxPageIndex","_table$initialState$p2","_table$initialState$p3","_table$initialState2","pageSize","topRowIndex","_table$options$pageCo","newPageCount","pageCount","pageOptions","_table$options$pageCo2","_table$options$rowCou","getDefaultRowPinningState","RowPinning","includeLeafRows","includeParentRows","leafRowIds","parentRowIds","rowIds","_old$top3","_old$bottom3","_old$top","_old$bottom","_old$top2","_old$bottom2","enableRowPinning","enablePinning","top","bottom","isTop","isBottom","_ref4","_visiblePinnedRowIds$","visiblePinnedRowIds","_ref5","_table$initialState$r","_pinningState$top","_pinningState$bottom","visibleRows","pinnedRowIds","_table$options$keepPi","allRows","topPinnedRowIds","bottomPinnedRowIds","topAndBottom","RowSelection","rowSelection","preGroupedFlatRows","resolvedValue","mutateRowIsSelected","rowModel","selectRowsFn","isAllRowsSelected","paginationFlatRows","isAllPageRowsSelected","_table$getState$rowSe","totalSelected","isSelected","_opts$selectChildren","selectedRowIds","isRowSelected","isSubRowSelected","_table$options$enable3","canSelect","includeChildren","newSelectedFlatRows","newSelectedRowsById","recurseRows","rows","_row$subRows2","selection","_selection$row$id","_row$subRows3","allChildrenSelected","someSelected","subRow","subRowChildrenSelected","reSplitAlphaNumeric","alphanumeric","rowA","rowB","compareAlphanumeric","alphanumericCaseSensitive","text","compareBasic","textCaseSensitive","datetime","basic","aStr","bStr","aa","bb","an","bn","combo","sortingFns","RowSorting","firstRows","_table$options$sortin","_table$options$sortin2","multi","nextSortingOrder","hasManualValue","existingSorting","existingIndex","newSorting","sortAction","nextDesc","_table$options$maxMul","_column$columnDef$sor","firstSortDirection","isSorted","_column$columnDef$ena2","_table$getState$sorti","columnSort","_table$getState$sorti2","_table$getState$sorti3","canSort","_table$initialState$s","builtInFeatures","createTable","_options$_features","_options$initialState","_features","defaultOptions","mergeOptions","initialState","_feature$getInitialSt","queuedTimeout","coreInstance","newOptions","searchAll","defaultColumn","_defaultColumn","_props$renderValue$to","_props$renderValue","columnDefs","recurseColumns","groupingColumnDef","flatColumns","getCoreRowModel","accessRows","originalRows","_row$originalSubRows","expandRows","expandedRows","handleRow","filterRows","filterRowImpl","filterRowModelFromLeafs","filterRowModelFromRoot","rowsToFilter","filterRow","_table$options$maxLea","newFilteredFlatRows","newFilteredRowsById","recurseFilterRows","newRow","_table$options$maxLea2","getFilteredRowModel","columnFilters","globalFilter","resolvedColumnFilters","resolvedGlobalFilters","_filterFn$resolveFilt","filterableIds","globallyFilterableColumns","_globalFilterFn$resol","currentColumnFilter","currentGlobalFilter","filterMeta","filterRowsImpl","getPaginationRowModel","pagination","flatRows","rowsById","pageStart","pageEnd","paginatedRowModel","getSortedRowModel","sorting","sortingState","sortedFlatRows","availableSorting","sort","_table$getColumn","columnInfoById","sortEntry","sortData","sortedData","_sortEntry$desc","columnInfo","sortUndefined","isDesc","sortInt","aValue","bValue","aUndefined","bUndefined","flexRender","Comp","isReactComponent","React.createElement","component","isClassComponent","isExoticComponent","proto","useReactTable","resolvedOptions","tableRef","React.useState","setState","DataTable","title","subtitle","searchPlaceholder","emptyStateIcon","emptyStateMessage","emptyStateSubMessage","colorTheme","setSorting","setColumnFilters","setGlobalFilter","colors","Fragment","quizColumns","percentage","dateA","dateB","gameColumns","tipsColumns","Analytics","React","queryOptions","useMemo","quizParticipants","quizInitialLoading","quizFetching","quizError","gameParticipants","gameInitialLoading","gameFetching","gameError","tipsContributors","tipsInitialLoading","tipsFetching","tipsError","participantCounts","isAnyFetching","lastUpdateTime","getApiBaseUrl","API_BASE","apiService","errorText","quizAttempts","canTakeQuiz","maxAttempts","submission","JOB_TITLES","Navigation","location","useLocation","navigate","useNavigate","tabs","tab","CreativeBackground","Layout","QuizPage","currentSession","setCurrentSession","currentQuestionIndex","setCurrentQuestionIndex","answers","setAnswers","showResults","setShowResults","showQuizForm","setShowQuizForm","selectedTitle","setSelectedTitle","setQuizAttempts","setCanTakeQuiz","setMaxAttempts","hints","setHints","loadingHints","setLoadingHints","savedName","savedSessionId","questions","questionsLoading","submitQuizMutation","handleStartQuiz","handleAnswerSelect","questionId","answer","handleNext","q","handlePrevious","resetQuiz","handleGetHint","quizResultData","rec","currentQuestion","progress","_b","App","Routes","Route","QueryClient","ReactDOM","QueryClientProvider","BrowserRouter"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,81,82]}