import{j as a,u as Tt,a as ye,b as _e,Q as ns,c as ss}from"./query-D3PkkVv2.js";import{a as rs,r as j,b as fn}from"./vendor-Gm9i_4Ku.js";import{R as os,a as Ee,u as is,b as as,B as ls}from"./router-CnaHxmud.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var yt={},zt=rs;yt.createRoot=zt.createRoot,yt.hydrateRoot=zt.hydrateRoot;class fe extends Error{constructor(t,n){const s=new.target.prototype;super(`${t}: Status code '${n}'`),this.statusCode=n,this.__proto__=s}}class kt extends Error{constructor(t="A timeout occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class oe extends Error{constructor(t="An abort occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class cs extends Error{constructor(t,n){const s=new.target.prototype;super(t),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=s}}class us extends Error{constructor(t,n){const s=new.target.prototype;super(t),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=s}}class ds extends Error{constructor(t,n){const s=new.target.prototype;super(t),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=s}}class Bt extends Error{constructor(t){const n=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class gs extends Error{constructor(t,n){const s=new.target.prototype;super(t),this.innerErrors=n,this.__proto__=s}}class pn{constructor(t,n,s){this.statusCode=t,this.statusText=n,this.content=s}}class Je{get(t,n){return this.send({...n,method:"GET",url:t})}post(t,n){return this.send({...n,method:"POST",url:t})}delete(t,n){return this.send({...n,method:"DELETE",url:t})}getCookieString(t){return""}}var y;(function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"})(y||(y={}));class Te{constructor(){}log(t,n){}}Te.instance=new Te;const hs="8.0.7";class B{static isRequired(t,n){if(t==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(t,n){if(!t||t.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(t,n,s){if(!(t in n))throw new Error(`Unknown ${s} value: ${t}.`)}}class H{static get isBrowser(){return!H.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!H.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!H.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function ke(e,t){let n="";return xe(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${fs(e)}'`)):typeof e=="string"&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function fs(e){const t=new Uint8Array(e);let n="";return t.forEach(s=>{const r=s<16?"0":"";n+=`0x${r}${s.toString(16)} `}),n.substr(0,n.length-1)}function xe(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}async function mn(e,t,n,s,r,o){const i={},[l,c]=Se();i[l]=c,e.log(y.Trace,`(${t} transport) sending data. ${ke(r,o.logMessageContent)}.`);const u=xe(r)?"arraybuffer":"text",d=await n.post(s,{content:r,headers:{...i,...o.headers},responseType:u,timeout:o.timeout,withCredentials:o.withCredentials});e.log(y.Trace,`(${t} transport) request complete. Response status: ${d.statusCode}.`)}function ps(e){return e===void 0?new Ge(y.Information):e===null?Te.instance:e.log!==void 0?e:new Ge(e)}class ms{constructor(t,n){this._subject=t,this._observer=n}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class Ge{constructor(t){this._minLevel=t,this.out=console}log(t,n){if(t>=this._minLevel){const s=`[${new Date().toISOString()}] ${y[t]}: ${n}`;switch(t){case y.Critical:case y.Error:this.out.error(s);break;case y.Warning:this.out.warn(s);break;case y.Information:this.out.info(s);break;default:this.out.log(s);break}}}}function Se(){let e="X-SignalR-User-Agent";return H.isNode&&(e="User-Agent"),[e,xs(hs,ws(),_s(),ys())]}function xs(e,t,n,s){let r="Microsoft SignalR/";const o=e.split(".");return r+=`${o[0]}.${o[1]}`,r+=` (${e}; `,t&&t!==""?r+=`${t}; `:r+="Unknown OS; ",r+=`${n}`,s?r+=`; ${s}`:r+="; Unknown Runtime Version",r+=")",r}function ws(){if(H.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function ys(){if(H.isNode)return process.versions.node}function _s(){return H.isNode?"NodeJS":"Browser"}function rt(e){return e.stack?e.stack:e.message?e.message:`${e}`}function Ss(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class bs extends Je{constructor(t){if(super(),this._logger=t,typeof fetch>"u"||H.isNode){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(n("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=n("node-fetch"):this._fetchType=fetch,this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(Ss());if(typeof AbortController>"u"){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}async send(t){if(t.abortSignal&&t.abortSignal.aborted)throw new oe;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const n=new this._abortControllerType;let s;t.abortSignal&&(t.abortSignal.onabort=()=>{n.abort(),s=new oe});let r=null;if(t.timeout){const c=t.timeout;r=setTimeout(()=>{n.abort(),this._logger.log(y.Warning,"Timeout from HTTP request."),s=new kt},c)}t.content===""&&(t.content=void 0),t.content&&(t.headers=t.headers||{},xe(t.content)?t.headers["Content-Type"]="application/octet-stream":t.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=await this._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:t.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(c){throw s||(this._logger.log(y.Warning,`Error from HTTP request. ${c}.`),c)}finally{r&&clearTimeout(r),t.abortSignal&&(t.abortSignal.onabort=null)}if(!o.ok){const c=await Ut(o,"text");throw new fe(c||o.statusText,o.status)}const l=await Ut(o,t.responseType);return new pn(o.status,o.statusText,l)}getCookieString(t){let n="";return H.isNode&&this._jar&&this._jar.getCookies(t,(s,r)=>n=r.join("; ")),n}}function Ut(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`);default:n=e.text();break}return n}class vs extends Je{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new oe):t.method?t.url?new Promise((n,s)=>{const r=new XMLHttpRequest;r.open(t.method,t.url,!0),r.withCredentials=t.withCredentials===void 0?!0:t.withCredentials,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.content===""&&(t.content=void 0),t.content&&(xe(t.content)?r.setRequestHeader("Content-Type","application/octet-stream"):r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const o=t.headers;o&&Object.keys(o).forEach(i=>{r.setRequestHeader(i,o[i])}),t.responseType&&(r.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{r.abort(),s(new oe)}),t.timeout&&(r.timeout=t.timeout),r.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),r.status>=200&&r.status<300?n(new pn(r.status,r.statusText,r.response||r.responseText)):s(new fe(r.response||r.responseText||r.statusText,r.status))},r.onerror=()=>{this._logger.log(y.Warning,`Error from HTTP request. ${r.status}: ${r.statusText}.`),s(new fe(r.statusText,r.status))},r.ontimeout=()=>{this._logger.log(y.Warning,"Timeout from HTTP request."),s(new kt)},r.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Cs extends Je{constructor(t){if(super(),typeof fetch<"u"||H.isNode)this._httpClient=new bs(t);else if(typeof XMLHttpRequest<"u")this._httpClient=new vs(t);else throw new Error("No usable HttpClient found.")}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new oe):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}class se{static write(t){return`${t}${se.RecordSeparator}`}static parse(t){if(t[t.length-1]!==se.RecordSeparator)throw new Error("Message is incomplete.");const n=t.split(se.RecordSeparator);return n.pop(),n}}se.RecordSeparatorCode=30;se.RecordSeparator=String.fromCharCode(se.RecordSeparatorCode);class Rs{writeHandshakeRequest(t){return se.write(JSON.stringify(t))}parseHandshakeResponse(t){let n,s;if(xe(t)){const l=new Uint8Array(t),c=l.indexOf(se.RecordSeparatorCode);if(c===-1)throw new Error("Message is incomplete.");const u=c+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(l.slice(0,u))),s=l.byteLength>u?l.slice(u).buffer:null}else{const l=t,c=l.indexOf(se.RecordSeparator);if(c===-1)throw new Error("Message is incomplete.");const u=c+1;n=l.substring(0,u),s=l.length>u?l.substring(u):null}const r=se.parse(n),o=JSON.parse(r[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[s,o]}}var A;(function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence"})(A||(A={}));class Es{constructor(){this.observers=[]}next(t){for(const n of this.observers)n.next(t)}error(t){for(const n of this.observers)n.error&&n.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new ms(this,t)}}class js{constructor(t,n,s){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=t,this._connection=n,this._bufferSize=s}async _send(t){const n=this._protocol.writeMessage(t);let s=Promise.resolve();if(this._isInvocationMessage(t)){this._totalMessageCount++;let r=()=>{},o=()=>{};xe(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(s=new Promise((i,l)=>{r=i,o=l})),this._messages.push(new Ns(n,this._totalMessageCount,r,o))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await s}_ack(t){let n=-1;for(let s=0;s<this._messages.length;s++){const r=this._messages[s];if(r._id<=t.sequenceId)n=s,xe(r._message)?this._bufferedByteCount-=r._message.byteLength:this._bufferedByteCount-=r._message.length,r._resolver();else if(this._bufferedByteCount<this._bufferSize)r._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(t){if(this._waitForSequenceMessage)return t.type!==A.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(t))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(t){if(t.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=t.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const t=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:A.Sequence,sequenceId:t}));const n=this._messages;for(const s of n)await this._connection.send(s._message);this._reconnectInProgress=!1}_dispose(t){t??(t=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(t)}_isInvocationMessage(t){switch(t.type){case A.Invocation:case A.StreamItem:case A.Completion:case A.StreamInvocation:case A.CancelInvocation:return!0;case A.Close:case A.Sequence:case A.Ping:case A.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:A.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class Ns{constructor(t,n,s,r){this._message=t,this._id=n,this._resolver=s,this._rejector=r}}const Ps=30*1e3,Is=15*1e3,Ts=1e5;var O;(function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"})(O||(O={}));class Ft{static create(t,n,s,r,o,i,l){return new Ft(t,n,s,r,o,i,l)}constructor(t,n,s,r,o,i,l){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(y.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},B.isRequired(t,"connection"),B.isRequired(n,"logger"),B.isRequired(s,"protocol"),this.serverTimeoutInMilliseconds=o??Ps,this.keepAliveIntervalInMilliseconds=i??Is,this._statefulReconnectBufferSize=l??Ts,this._logger=n,this._protocol=s,this.connection=t,this._reconnectPolicy=r,this._handshakeProtocol=new Rs,this.connection.onreceive=c=>this._processIncomingData(c),this.connection.onclose=c=>this._connectionClosed(c),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=O.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:A.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==O.Disconnected&&this._connectionState!==O.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==O.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=O.Connecting,this._logger.log(y.Debug,"Starting HubConnection.");try{await this._startInternal(),H.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=O.Connected,this._connectionStarted=!0,this._logger.log(y.Debug,"HubConnection connected successfully.")}catch(t){return this._connectionState=O.Disconnected,this._logger.log(y.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const t=new Promise((n,s)=>{this._handshakeResolver=n,this._handshakeRejecter=s});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const s={protocol:this._protocol.name,version:n};if(this._logger.log(y.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(s)),this._logger.log(y.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await t,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new js(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(y.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const t=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await t}catch{}}_stopInternal(t){if(this._connectionState===O.Disconnected)return this._logger.log(y.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===O.Disconnecting)return this._logger.log(y.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=O.Disconnecting,this._logger.log(y.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(y.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===O.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new oe("The connection was stopped before the hub handshake could complete."),this.connection.stop(t))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(t,...n){const[s,r]=this._replaceStreamingParams(n),o=this._createStreamInvocation(t,n,r);let i;const l=new Es;return l.cancelCallback=()=>{const c=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],i.then(()=>this._sendWithProtocol(c))},this._callbacks[o.invocationId]=(c,u)=>{if(u){l.error(u);return}else c&&(c.type===A.Completion?c.error?l.error(new Error(c.error)):l.complete():l.next(c.item))},i=this._sendWithProtocol(o).catch(c=>{l.error(c),delete this._callbacks[o.invocationId]}),this._launchStreams(s,i),l}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._messageBuffer?this._messageBuffer._send(t):this._sendMessage(this._protocol.writeMessage(t))}send(t,...n){const[s,r]=this._replaceStreamingParams(n),o=this._sendWithProtocol(this._createInvocation(t,n,!0,r));return this._launchStreams(s,o),o}invoke(t,...n){const[s,r]=this._replaceStreamingParams(n),o=this._createInvocation(t,n,!1,r);return new Promise((l,c)=>{this._callbacks[o.invocationId]=(d,p)=>{if(p){c(p);return}else d&&(d.type===A.Completion?d.error?c(new Error(d.error)):l(d.result):c(new Error(`Unexpected message type: ${d.type}`)))};const u=this._sendWithProtocol(o).catch(d=>{c(d),delete this._callbacks[o.invocationId]});this._launchStreams(s,u)})}on(t,n){!t||!n||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),this._methods[t].indexOf(n)===-1&&this._methods[t].push(n))}off(t,n){if(!t)return;t=t.toLowerCase();const s=this._methods[t];if(s)if(n){const r=s.indexOf(n);r!==-1&&(s.splice(r,1),s.length===0&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const n=this._protocol.parseMessages(t,this._logger);for(const s of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(s)))switch(s.type){case A.Invocation:this._invokeClientMethod(s).catch(r=>{this._logger.log(y.Error,`Invoke client method threw error: ${rt(r)}`)});break;case A.StreamItem:case A.Completion:{const r=this._callbacks[s.invocationId];if(r){s.type===A.Completion&&delete this._callbacks[s.invocationId];try{r(s)}catch(o){this._logger.log(y.Error,`Stream callback threw error: ${rt(o)}`)}}break}case A.Ping:break;case A.Close:{this._logger.log(y.Information,"Close message received from server.");const r=s.error?new Error("Server returned an error on close: "+s.error):void 0;s.allowReconnect===!0?this.connection.stop(r):this._stopPromise=this._stopInternal(r);break}case A.Ack:this._messageBuffer&&this._messageBuffer._ack(s);break;case A.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(s);break;default:this._logger.log(y.Warning,`Invalid message type: ${s.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let n,s;try{[s,n]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(r){const o="Error parsing handshake response: "+r;this._logger.log(y.Error,o);const i=new Error(o);throw this._handshakeRejecter(i),i}if(n.error){const r="Server returned handshake error: "+n.error;this._logger.log(y.Error,r);const o=new Error(r);throw this._handshakeRejecter(o),o}else this._logger.log(y.Debug,"Server handshake complete.");return this._handshakeResolver(),s}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let t=this._nextKeepAlive-new Date().getTime();t<0&&(t=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===O.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},t)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(t){const n=t.target.toLowerCase(),s=this._methods[n];if(!s){this._logger.log(y.Warning,`No client method with the name '${n}' found.`),t.invocationId&&(this._logger.log(y.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)));return}const r=s.slice(),o=!!t.invocationId;let i,l,c;for(const u of r)try{const d=i;i=await u.apply(this,t.arguments),o&&i&&d&&(this._logger.log(y.Error,`Multiple results provided for '${n}'. Sending error to server.`),c=this._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),l=void 0}catch(d){l=d,this._logger.log(y.Error,`A callback for the method '${n}' threw error '${d}'.`)}c?await this._sendWithProtocol(c):o?(l?c=this._createCompletionMessage(t.invocationId,`${l}`,null):i!==void 0?c=this._createCompletionMessage(t.invocationId,null,i):(this._logger.log(y.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),c=this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(c)):i&&this._logger.log(y.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(t){this._logger.log(y.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new oe("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===O.Disconnecting?this._completeClose(t):this._connectionState===O.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===O.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=O.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(t??new Error("Connection closed.")),this._messageBuffer=void 0),H.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[t]))}catch(n){this._logger.log(y.Error,`An onclose callback called with error '${t}' threw error '${n}'.`)}}}async _reconnect(t){const n=Date.now();let s=0,r=t!==void 0?t:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(s++,0,r);if(o===null){this._logger.log(y.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(t);return}if(this._connectionState=O.Reconnecting,t?this._logger.log(y.Information,`Connection reconnecting because of error '${t}'.`):this._logger.log(y.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(i=>i.apply(this,[t]))}catch(i){this._logger.log(y.Error,`An onreconnecting callback called with error '${t}' threw error '${i}'.`)}if(this._connectionState!==O.Reconnecting){this._logger.log(y.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(y.Information,`Reconnect attempt number ${s} will start in ${o} ms.`),await new Promise(i=>{this._reconnectDelayHandle=setTimeout(i,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==O.Reconnecting){this._logger.log(y.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=O.Connected,this._logger.log(y.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(i=>i.apply(this,[this.connection.connectionId]))}catch(i){this._logger.log(y.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${i}'.`)}return}catch(i){if(this._logger.log(y.Information,`Reconnect attempt failed because of error '${i}'.`),this._connectionState!==O.Reconnecting){this._logger.log(y.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===O.Disconnecting&&this._completeClose();return}r=i instanceof Error?i:new Error(i.toString()),o=this._getNextRetryDelay(s++,Date.now()-n,r)}}this._logger.log(y.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${s} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(t,n,s){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:t,retryReason:s})}catch(r){return this._logger.log(y.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${n}) threw error '${r}'.`),null}}_cancelCallbacksWithError(t){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(s=>{const r=n[s];try{r(null,t)}catch(o){this._logger.log(y.Error,`Stream 'error' callback called with '${t}' threw error: ${rt(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,n,s,r){if(s)return r.length!==0?{arguments:n,streamIds:r,target:t,type:A.Invocation}:{arguments:n,target:t,type:A.Invocation};{const o=this._invocationId;return this._invocationId++,r.length!==0?{arguments:n,invocationId:o.toString(),streamIds:r,target:t,type:A.Invocation}:{arguments:n,invocationId:o.toString(),target:t,type:A.Invocation}}}_launchStreams(t,n){if(t.length!==0){n||(n=Promise.resolve());for(const s in t)t[s].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(s)))},error:r=>{let o;r instanceof Error?o=r.message:r&&r.toString?o=r.toString():o="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(s,o)))},next:r=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(s,r)))}})}}_replaceStreamingParams(t){const n=[],s=[];for(let r=0;r<t.length;r++){const o=t[r];if(this._isObservable(o)){const i=this._invocationId;this._invocationId++,n[i]=o,s.push(i.toString()),t.splice(r,1)}}return[n,s]}_isObservable(t){return t&&t.subscribe&&typeof t.subscribe=="function"}_createStreamInvocation(t,n,s){const r=this._invocationId;return this._invocationId++,s.length!==0?{arguments:n,invocationId:r.toString(),streamIds:s,target:t,type:A.StreamInvocation}:{arguments:n,invocationId:r.toString(),target:t,type:A.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:A.CancelInvocation}}_createStreamItemMessage(t,n){return{invocationId:t,item:n,type:A.StreamItem}}_createCompletionMessage(t,n,s){return n?{error:n,invocationId:t,type:A.Completion}:{invocationId:t,result:s,type:A.Completion}}_createCloseMessage(){return{type:A.Close}}}const ks=[0,2e3,1e4,3e4,null];class qt{constructor(t){this._retryDelays=t!==void 0?[...t,null]:ks}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}class pe{}pe.Authorization="Authorization";pe.Cookie="Cookie";class Fs extends Je{constructor(t,n){super(),this._innerClient=t,this._accessTokenFactory=n}async send(t){let n=!0;this._accessTokenFactory&&(!this._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(t);const s=await this._innerClient.send(t);return n&&s.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(t),await this._innerClient.send(t)):s}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[pe.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[pe.Authorization]&&delete t.headers[pe.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}}var U;(function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"})(U||(U={}));var X;(function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"})(X||(X={}));let As=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class Gt{get pollAborted(){return this._pollAbort.aborted}constructor(t,n,s){this._httpClient=t,this._logger=n,this._pollAbort=new As,this._options=s,this._running=!1,this.onreceive=null,this.onclose=null}async connect(t,n){if(B.isRequired(t,"url"),B.isRequired(n,"transferFormat"),B.isIn(n,X,"transferFormat"),this._url=t,this._logger.log(y.Trace,"(LongPolling transport) Connecting."),n===X.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[s,r]=Se(),o={[s]:r,...this._options.headers},i={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};n===X.Binary&&(i.responseType="arraybuffer");const l=`${t}&_=${Date.now()}`;this._logger.log(y.Trace,`(LongPolling transport) polling: ${l}.`);const c=await this._httpClient.get(l,i);c.statusCode!==200?(this._logger.log(y.Error,`(LongPolling transport) Unexpected response code: ${c.statusCode}.`),this._closeError=new fe(c.statusText||"",c.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,i)}async _poll(t,n){try{for(;this._running;)try{const s=`${t}&_=${Date.now()}`;this._logger.log(y.Trace,`(LongPolling transport) polling: ${s}.`);const r=await this._httpClient.get(s,n);r.statusCode===204?(this._logger.log(y.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):r.statusCode!==200?(this._logger.log(y.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}.`),this._closeError=new fe(r.statusText||"",r.statusCode),this._running=!1):r.content?(this._logger.log(y.Trace,`(LongPolling transport) data received. ${ke(r.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(r.content)):this._logger.log(y.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(s){this._running?s instanceof kt?this._logger.log(y.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=s,this._running=!1):this._logger.log(y.Trace,`(LongPolling transport) Poll errored after shutdown: ${s.message}`)}}finally{this._logger.log(y.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(t){return this._running?mn(this._logger,"LongPolling",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(y.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(y.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const t={},[n,s]=Se();t[n]=s;const r={headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let o;try{await this._httpClient.delete(this._url,r)}catch(i){o=i}o?o instanceof fe&&(o.statusCode===404?this._logger.log(y.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(y.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(y.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(y.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(y.Trace,t),this.onclose(this._closeError)}}}class $s{constructor(t,n,s,r){this._httpClient=t,this._accessToken=n,this._logger=s,this._options=r,this.onreceive=null,this.onclose=null}async connect(t,n){return B.isRequired(t,"url"),B.isRequired(n,"transferFormat"),B.isIn(n,X,"transferFormat"),this._logger.log(y.Trace,"(SSE transport) Connecting."),this._url=t,this._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((s,r)=>{let o=!1;if(n!==X.Text){r(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let i;if(H.isBrowser||H.isWebWorker)i=new this._options.EventSource(t,{withCredentials:this._options.withCredentials});else{const l=this._httpClient.getCookieString(t),c={};c.Cookie=l;const[u,d]=Se();c[u]=d,i=new this._options.EventSource(t,{withCredentials:this._options.withCredentials,headers:{...c,...this._options.headers}})}try{i.onmessage=l=>{if(this.onreceive)try{this._logger.log(y.Trace,`(SSE transport) data received. ${ke(l.data,this._options.logMessageContent)}.`),this.onreceive(l.data)}catch(c){this._close(c);return}},i.onerror=l=>{o?this._close():r(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},i.onopen=()=>{this._logger.log(y.Information,`SSE connected to ${this._url}`),this._eventSource=i,o=!0,s()}}catch(l){r(l);return}})}async send(t){return this._eventSource?mn(this._logger,"SSE",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class Ds{constructor(t,n,s,r,o,i){this._logger=s,this._accessTokenFactory=n,this._logMessageContent=r,this._webSocketConstructor=o,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=i}async connect(t,n){B.isRequired(t,"url"),B.isRequired(n,"transferFormat"),B.isIn(n,X,"transferFormat"),this._logger.log(y.Trace,"(WebSockets transport) Connecting.");let s;return this._accessTokenFactory&&(s=await this._accessTokenFactory()),new Promise((r,o)=>{t=t.replace(/^http/,"ws");let i;const l=this._httpClient.getCookieString(t);let c=!1;if(H.isNode||H.isReactNative){const u={},[d,p]=Se();u[d]=p,s&&(u[pe.Authorization]=`Bearer ${s}`),l&&(u[pe.Cookie]=l),i=new this._webSocketConstructor(t,void 0,{headers:{...u,...this._headers}})}else s&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(s)}`);i||(i=new this._webSocketConstructor(t)),n===X.Binary&&(i.binaryType="arraybuffer"),i.onopen=u=>{this._logger.log(y.Information,`WebSocket connected to ${t}.`),this._webSocket=i,c=!0,r()},i.onerror=u=>{let d=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?d=u.error:d="There was an error with the transport",this._logger.log(y.Information,`(WebSockets transport) ${d}.`)},i.onmessage=u=>{if(this._logger.log(y.Trace,`(WebSockets transport) data received. ${ke(u.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(u.data)}catch(d){this._close(d);return}},i.onclose=u=>{if(c)this._close(u);else{let d=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?d=u.error:d="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(d))}}})}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(y.Trace,`(WebSockets transport) sending data. ${ke(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(y.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(t)&&(t.wasClean===!1||t.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)):t instanceof Error?this.onclose(t):this.onclose())}_isCloseEvent(t){return t&&typeof t.wasClean=="boolean"&&typeof t.code=="number"}}const Wt=100;class Ms{constructor(t,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,B.isRequired(t,"url"),this._logger=ps(n.logger),this.baseUrl=this._resolveUrl(t),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let s=null,r=null;if(H.isNode&&typeof require<"u"){const o=typeof __webpack_require__=="function"?__non_webpack_require__:require;s=o("ws"),r=o("eventsource")}!H.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:H.isNode&&!n.WebSocket&&s&&(n.WebSocket=s),!H.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:H.isNode&&!n.EventSource&&typeof r<"u"&&(n.EventSource=r),this._httpClient=new Fs(n.httpClient||new Cs(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(t){if(t=t||X.Binary,B.isIn(t,X,"transferFormat"),this._logger.log(y.Debug,`Starting connection with transfer format '${X[t]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(t),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(y.Error,n),await this._stopPromise,Promise.reject(new oe(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(y.Error,n),Promise.reject(new oe(n))}this._connectionStarted=!0}send(t){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new At(this.transport)),this._sendQueue.send(t))}async stop(t){if(this._connectionState==="Disconnected")return this._logger.log(y.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(y.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(t),await this._stopPromise}async _stopInternal(t){this._stopError=t;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(y.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(y.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(t){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===U.WebSockets)this.transport=this._constructTransport(U.WebSockets),await this._startTransport(n,t);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let s=null,r=0;do{if(s=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new oe("The connection was stopped during negotiation.");if(s.error)throw new Error(s.error);if(s.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(s.url&&(n=s.url),s.accessToken){const o=s.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}r++}while(s.url&&r<Wt);if(r===Wt&&s.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,s,t)}this.transport instanceof Gt&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(y.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(s){return this._logger.log(y.Error,"Failed to start the connection: "+s),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(s)}}async _getNegotiationResponse(t){const n={},[s,r]=Se();n[s]=r;const o=this._resolveNegotiateUrl(t);this._logger.log(y.Debug,`Sending negotiation request: ${o}.`);try{const i=await this._httpClient.post(o,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(i.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${i.statusCode}'`));const l=JSON.parse(i.content);return(!l.negotiateVersion||l.negotiateVersion<1)&&(l.connectionToken=l.connectionId),l.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new Bt("Client didn't negotiate Stateful Reconnect but the server did.")):l}catch(i){let l="Failed to complete negotiation with the server: "+i;return i instanceof fe&&i.statusCode===404&&(l=l+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(y.Error,l),Promise.reject(new Bt(l))}}_createConnectUrl(t,n){return n?t+(t.indexOf("?")===-1?"?":"&")+`id=${n}`:t}async _createTransport(t,n,s,r){let o=this._createConnectUrl(t,s.connectionToken);if(this._isITransport(n)){this._logger.log(y.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(o,r),this.connectionId=s.connectionId;return}const i=[],l=s.availableTransports||[];let c=s;for(const u of l){const d=this._resolveTransportOrError(u,n,r,(c==null?void 0:c.useStatefulReconnect)===!0);if(d instanceof Error)i.push(`${u.transport} failed:`),i.push(d);else if(this._isITransport(d)){if(this.transport=d,!c){try{c=await this._getNegotiationResponse(t)}catch(p){return Promise.reject(p)}o=this._createConnectUrl(t,c.connectionToken)}try{await this._startTransport(o,r),this.connectionId=c.connectionId;return}catch(p){if(this._logger.log(y.Error,`Failed to start the transport '${u.transport}': ${p}`),c=void 0,i.push(new ds(`${u.transport} failed: ${p}`,U[u.transport])),this._connectionState!=="Connecting"){const f="Failed to select transport before stop() was called.";return this._logger.log(y.Debug,f),Promise.reject(new oe(f))}}}}return i.length>0?Promise.reject(new gs(`Unable to connect to the server with any of the available transports. ${i.join(" ")}`,i)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(t){switch(t){case U.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new Ds(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case U.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new $s(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case U.LongPolling:return new Gt(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async s=>{let r=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(t,n),await this.features.resend()}catch{r=!0}else{this._stopConnection(s);return}r&&this._stopConnection(s)}:this.transport.onclose=s=>this._stopConnection(s),this.transport.connect(t,n)}_resolveTransportOrError(t,n,s,r){const o=U[t.transport];if(o==null)return this._logger.log(y.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(Ls(n,o))if(t.transferFormats.map(l=>X[l]).indexOf(s)>=0){if(o===U.WebSockets&&!this._options.WebSocket||o===U.ServerSentEvents&&!this._options.EventSource)return this._logger.log(y.Debug,`Skipping transport '${U[o]}' because it is not supported in your environment.'`),new cs(`'${U[o]}' is not supported in your environment.`,o);this._logger.log(y.Debug,`Selecting transport '${U[o]}'.`);try{return this.features.reconnect=o===U.WebSockets?r:void 0,this._constructTransport(o)}catch(l){return l}}else return this._logger.log(y.Debug,`Skipping transport '${U[o]}' because it does not support the requested transfer format '${X[s]}'.`),new Error(`'${U[o]}' does not support ${X[s]}.`);else return this._logger.log(y.Debug,`Skipping transport '${U[o]}' because it was disabled by the client.`),new us(`'${U[o]}' is disabled by the client.`,o)}_isITransport(t){return t&&typeof t=="object"&&"connect"in t}_stopConnection(t){if(this._logger.log(y.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(y.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(y.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),t?this._logger.log(y.Error,`Connection disconnected with error '${t}'.`):this._logger.log(y.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(y.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(n){this._logger.log(y.Error,`HttpConnection.onclose(${t}) threw error '${n}'.`)}}}_resolveUrl(t){if(t.lastIndexOf("https://",0)===0||t.lastIndexOf("http://",0)===0)return t;if(!H.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const n=window.document.createElement("a");return n.href=t,this._logger.log(y.Information,`Normalizing '${t}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(t){const n=new URL(t);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const s=new URLSearchParams(n.searchParams);return s.has("negotiateVersion")||s.append("negotiateVersion",this._negotiateVersion.toString()),s.has("useStatefulReconnect")?s.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&s.append("useStatefulReconnect","true"),n.search=s.toString(),n.toString()}}function Ls(e,t){return!e||(t&e)!==0}class At{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new Le,this._transportResult=new Le,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new Le),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Le;const t=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):At._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),t.resolve()}catch(s){t.reject(s)}}}static _concatBuffers(t){const n=t.map(o=>o.byteLength).reduce((o,i)=>o+i),s=new Uint8Array(n);let r=0;for(const o of t)s.set(new Uint8Array(o),r),r+=o.byteLength;return s.buffer}}class Le{constructor(){this.promise=new Promise((t,n)=>[this._resolver,this._rejecter]=[t,n])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}const Os="json";class Hs{constructor(){this.name=Os,this.version=2,this.transferFormat=X.Text}parseMessages(t,n){if(typeof t!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];n===null&&(n=Te.instance);const s=se.parse(t),r=[];for(const o of s){const i=JSON.parse(o);if(typeof i.type!="number")throw new Error("Invalid payload.");switch(i.type){case A.Invocation:this._isInvocationMessage(i);break;case A.StreamItem:this._isStreamItemMessage(i);break;case A.Completion:this._isCompletionMessage(i);break;case A.Ping:break;case A.Close:break;case A.Ack:this._isAckMessage(i);break;case A.Sequence:this._isSequenceMessage(i);break;default:n.log(y.Information,"Unknown message type '"+i.type+"' ignored.");continue}r.push(i)}return r}writeMessage(t){return se.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),t.invocationId!==void 0&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),t.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_isAckMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(t,n){if(typeof t!="string"||t==="")throw new Error(n)}}const Vs={trace:y.Trace,debug:y.Debug,info:y.Information,information:y.Information,warn:y.Warning,warning:y.Warning,error:y.Error,critical:y.Critical,none:y.None};function zs(e){const t=Vs[e.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${e}`)}class Kt{configureLogging(t){if(B.isRequired(t,"logging"),Bs(t))this.logger=t;else if(typeof t=="string"){const n=zs(t);this.logger=new Ge(n)}else this.logger=new Ge(t);return this}withUrl(t,n){return B.isRequired(t,"url"),B.isNotEmpty(t,"url"),this.url=t,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(t){return B.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new qt(t):this.reconnectPolicy=t:this.reconnectPolicy=new qt,this}withServerTimeout(t){return B.isRequired(t,"milliseconds"),this._serverTimeoutInMilliseconds=t,this}withKeepAliveInterval(t){return B.isRequired(t,"milliseconds"),this._keepAliveIntervalInMilliseconds=t,this}withStatefulReconnect(t){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=t==null?void 0:t.bufferSize,this}build(){const t=this.httpConnectionOptions||{};if(t.logger===void 0&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new Ms(this.url,t);return Ft.create(n,this.logger||Te.instance,this.protocol||new Hs,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function Bs(e){return e.log!==void 0}const xn=j.createContext(void 0),Us=()=>{const e=j.useContext(xn);if(e===void 0)throw new Error("useSignalR must be used within a SignalRProvider");return e},qs=({children:e})=>{const[t,n]=j.useState(null),[s,r]=j.useState(null),[o,i]=j.useState(!1),[l,c]=j.useState(!1),[u,d]=j.useState(null),[p,f]=j.useState(null),[g,h]=j.useState(null);return j.useEffect(()=>{const x=new Kt().withUrl("/hubs/game").withAutomaticReconnect().build(),w=new Kt().withUrl("/hubs/analytics").withAutomaticReconnect().build();return x.on("ScoreUpdate",R=>{d(R)}),x.on("GameEvent",R=>{f(R)}),w.on("AnalyticsUpdate",R=>{h(R)}),(async()=>{try{await x.start(),i(!0),n(x),console.log("Game hub connected")}catch(R){console.error("Error connecting to game hub:",R)}try{await w.start(),c(!0),r(w),console.log("Analytics hub connected")}catch(R){console.error("Error connecting to analytics hub:",R)}})(),()=>{x.stop(),w.stop()}},[]),a.jsx(xn.Provider,{value:{gameConnection:t,analyticsConnection:s,isGameConnected:o,isAnalyticsConnected:l,latestScoreUpdate:u,latestGameEvent:p,latestAnalyticsUpdate:g},children:e})},wn=j.createContext(void 0),yn=()=>{const e=j.useContext(wn);if(e===void 0)throw new Error("useSession must be used within a SessionProvider");return e},Gs=({children:e})=>{const[t,n]=j.useState(null),[s,r]=j.useState(!0);j.useEffect(()=>{const i=localStorage.getItem("ai-demo-session");if(i)try{const l=JSON.parse(i);n(l)}catch(l){console.error("Failed to parse saved session:",l),localStorage.removeItem("ai-demo-session")}r(!1)},[]);const o=i=>{n(i),i?localStorage.setItem("ai-demo-session",JSON.stringify(i)):localStorage.removeItem("ai-demo-session")};return a.jsx(wn.Provider,{value:{session:t,setSession:o,isLoading:s},children:e})};function _n(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ws}=Object.prototype,{getPrototypeOf:$t}=Object,{iterator:Xe,toStringTag:Sn}=Symbol,Qe=(e=>t=>{const n=Ws.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ae=e=>(e=e.toLowerCase(),t=>Qe(t)===e),Ye=e=>t=>typeof t===e,{isArray:be}=Array,Fe=Ye("undefined");function Ks(e){return e!==null&&!Fe(e)&&e.constructor!==null&&!Fe(e.constructor)&&te(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const bn=ae("ArrayBuffer");function Js(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&bn(e.buffer),t}const Xs=Ye("string"),te=Ye("function"),vn=Ye("number"),Ze=e=>e!==null&&typeof e=="object",Qs=e=>e===!0||e===!1,Be=e=>{if(Qe(e)!=="object")return!1;const t=$t(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Sn in e)&&!(Xe in e)},Ys=ae("Date"),Zs=ae("File"),er=ae("Blob"),tr=ae("FileList"),nr=e=>Ze(e)&&te(e.pipe),sr=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||te(e.append)&&((t=Qe(e))==="formdata"||t==="object"&&te(e.toString)&&e.toString()==="[object FormData]"))},rr=ae("URLSearchParams"),[or,ir,ar,lr]=["ReadableStream","Request","Response","Headers"].map(ae),cr=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ae(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,r;if(typeof e!="object"&&(e=[e]),be(e))for(s=0,r=e.length;s<r;s++)t.call(null,e[s],s,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let l;for(s=0;s<i;s++)l=o[s],t.call(null,e[l],l,e)}}function Cn(e,t){t=t.toLowerCase();const n=Object.keys(e);let s=n.length,r;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const he=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Rn=e=>!Fe(e)&&e!==he;function _t(){const{caseless:e}=Rn(this)&&this||{},t={},n=(s,r)=>{const o=e&&Cn(t,r)||r;Be(t[o])&&Be(s)?t[o]=_t(t[o],s):Be(s)?t[o]=_t({},s):be(s)?t[o]=s.slice():t[o]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Ae(arguments[s],n);return t}const ur=(e,t,n,{allOwnKeys:s}={})=>(Ae(t,(r,o)=>{n&&te(r)?e[o]=_n(r,n):e[o]=r},{allOwnKeys:s}),e),dr=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gr=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},hr=(e,t,n,s)=>{let r,o,i;const l={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)i=r[o],(!s||s(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=n!==!1&&$t(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},fr=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},pr=e=>{if(!e)return null;if(be(e))return e;let t=e.length;if(!vn(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},mr=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$t(Uint8Array)),xr=(e,t)=>{const s=(e&&e[Xe]).call(e);let r;for(;(r=s.next())&&!r.done;){const o=r.value;t.call(e,o[0],o[1])}},wr=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},yr=ae("HTMLFormElement"),_r=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),Jt=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Sr=ae("RegExp"),En=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Ae(n,(r,o)=>{let i;(i=t(r,o,e))!==!1&&(s[o]=i||r)}),Object.defineProperties(e,s)},br=e=>{En(e,(t,n)=>{if(te(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(te(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},vr=(e,t)=>{const n={},s=r=>{r.forEach(o=>{n[o]=!0})};return be(e)?s(e):s(String(e).split(t)),n},Cr=()=>{},Rr=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Er(e){return!!(e&&te(e.append)&&e[Sn]==="FormData"&&e[Xe])}const jr=e=>{const t=new Array(10),n=(s,r)=>{if(Ze(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[r]=s;const o=be(s)?[]:{};return Ae(s,(i,l)=>{const c=n(i,r+1);!Fe(c)&&(o[l]=c)}),t[r]=void 0,o}}return s};return n(e,0)},Nr=ae("AsyncFunction"),Pr=e=>e&&(Ze(e)||te(e))&&te(e.then)&&te(e.catch),jn=((e,t)=>e?setImmediate:t?((n,s)=>(he.addEventListener("message",({source:r,data:o})=>{r===he&&o===n&&s.length&&s.shift()()},!1),r=>{s.push(r),he.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",te(he.postMessage)),Ir=typeof queueMicrotask<"u"?queueMicrotask.bind(he):typeof process<"u"&&process.nextTick||jn,Tr=e=>e!=null&&te(e[Xe]),m={isArray:be,isArrayBuffer:bn,isBuffer:Ks,isFormData:sr,isArrayBufferView:Js,isString:Xs,isNumber:vn,isBoolean:Qs,isObject:Ze,isPlainObject:Be,isReadableStream:or,isRequest:ir,isResponse:ar,isHeaders:lr,isUndefined:Fe,isDate:Ys,isFile:Zs,isBlob:er,isRegExp:Sr,isFunction:te,isStream:nr,isURLSearchParams:rr,isTypedArray:mr,isFileList:tr,forEach:Ae,merge:_t,extend:ur,trim:cr,stripBOM:dr,inherits:gr,toFlatObject:hr,kindOf:Qe,kindOfTest:ae,endsWith:fr,toArray:pr,forEachEntry:xr,matchAll:wr,isHTMLForm:yr,hasOwnProperty:Jt,hasOwnProp:Jt,reduceDescriptors:En,freezeMethods:br,toObjectSet:vr,toCamelCase:_r,noop:Cr,toFiniteNumber:Rr,findKey:Cn,global:he,isContextDefined:Rn,isSpecCompliantForm:Er,toJSONObject:jr,isAsyncFn:Nr,isThenable:Pr,setImmediate:jn,asap:Ir,isIterable:Tr};function $(e,t,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}m.inherits($,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:m.toJSONObject(this.config),code:this.code,status:this.status}}});const Nn=$.prototype,Pn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Pn[e]={value:e}});Object.defineProperties($,Pn);Object.defineProperty(Nn,"isAxiosError",{value:!0});$.from=(e,t,n,s,r,o)=>{const i=Object.create(Nn);return m.toFlatObject(e,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),$.call(i,e.message,t,n,s,r),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const kr=null;function St(e){return m.isPlainObject(e)||m.isArray(e)}function In(e){return m.endsWith(e,"[]")?e.slice(0,-2):e}function Xt(e,t,n){return e?e.concat(t).map(function(r,o){return r=In(r),!n&&o?"["+r+"]":r}).join(n?".":""):t}function Fr(e){return m.isArray(e)&&!e.some(St)}const Ar=m.toFlatObject(m,{},null,function(t){return/^is[A-Z]/.test(t)});function et(e,t,n){if(!m.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=m.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,w){return!m.isUndefined(w[x])});const s=n.metaTokens,r=n.visitor||d,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&m.isSpecCompliantForm(t);if(!m.isFunction(r))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(m.isDate(h))return h.toISOString();if(!c&&m.isBlob(h))throw new $("Blob is not supported. Use a Buffer instead.");return m.isArrayBuffer(h)||m.isTypedArray(h)?c&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,x,w){let S=h;if(h&&!w&&typeof h=="object"){if(m.endsWith(x,"{}"))x=s?x:x.slice(0,-2),h=JSON.stringify(h);else if(m.isArray(h)&&Fr(h)||(m.isFileList(h)||m.endsWith(x,"[]"))&&(S=m.toArray(h)))return x=In(x),S.forEach(function(E,F){!(m.isUndefined(E)||E===null)&&t.append(i===!0?Xt([x],F,o):i===null?x:x+"[]",u(E))}),!1}return St(h)?!0:(t.append(Xt(w,x,o),u(h)),!1)}const p=[],f=Object.assign(Ar,{defaultVisitor:d,convertValue:u,isVisitable:St});function g(h,x){if(!m.isUndefined(h)){if(p.indexOf(h)!==-1)throw Error("Circular reference detected in "+x.join("."));p.push(h),m.forEach(h,function(S,R){(!(m.isUndefined(S)||S===null)&&r.call(t,S,m.isString(R)?R.trim():R,x,f))===!0&&g(S,x?x.concat(R):[R])}),p.pop()}}if(!m.isObject(e))throw new TypeError("data must be an object");return g(e),t}function Qt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Dt(e,t){this._pairs=[],e&&et(e,this,t)}const Tn=Dt.prototype;Tn.append=function(t,n){this._pairs.push([t,n])};Tn.toString=function(t){const n=t?function(s){return t.call(this,s,Qt)}:Qt;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function $r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kn(e,t,n){if(!t)return e;const s=n&&n.encode||$r;m.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(r?o=r(t,n):o=m.isURLSearchParams(t)?t.toString():new Dt(t,n).toString(s),o){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Yt{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){m.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Fn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Dr=typeof URLSearchParams<"u"?URLSearchParams:Dt,Mr=typeof FormData<"u"?FormData:null,Lr=typeof Blob<"u"?Blob:null,Or={isBrowser:!0,classes:{URLSearchParams:Dr,FormData:Mr,Blob:Lr},protocols:["http","https","file","blob","url","data"]},Mt=typeof window<"u"&&typeof document<"u",bt=typeof navigator=="object"&&navigator||void 0,Hr=Mt&&(!bt||["ReactNative","NativeScript","NS"].indexOf(bt.product)<0),Vr=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zr=Mt&&window.location.href||"http://localhost",Br=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Mt,hasStandardBrowserEnv:Hr,hasStandardBrowserWebWorkerEnv:Vr,navigator:bt,origin:zr},Symbol.toStringTag,{value:"Module"})),Q={...Br,...Or};function Ur(e,t){return et(e,new Q.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,o){return Q.isNode&&m.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function qr(e){return m.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Gr(e){const t={},n=Object.keys(e);let s;const r=n.length;let o;for(s=0;s<r;s++)o=n[s],t[o]=e[o];return t}function An(e){function t(n,s,r,o){let i=n[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=n.length;return i=!i&&m.isArray(r)?r.length:i,c?(m.hasOwnProp(r,i)?r[i]=[r[i],s]:r[i]=s,!l):((!r[i]||!m.isObject(r[i]))&&(r[i]=[]),t(n,s,r[i],o)&&m.isArray(r[i])&&(r[i]=Gr(r[i])),!l)}if(m.isFormData(e)&&m.isFunction(e.entries)){const n={};return m.forEachEntry(e,(s,r)=>{t(qr(s),r,n,0)}),n}return null}function Wr(e,t,n){if(m.isString(e))try{return(t||JSON.parse)(e),m.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const $e={transitional:Fn,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,o=m.isObject(t);if(o&&m.isHTMLForm(t)&&(t=new FormData(t)),m.isFormData(t))return r?JSON.stringify(An(t)):t;if(m.isArrayBuffer(t)||m.isBuffer(t)||m.isStream(t)||m.isFile(t)||m.isBlob(t)||m.isReadableStream(t))return t;if(m.isArrayBufferView(t))return t.buffer;if(m.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Ur(t,this.formSerializer).toString();if((l=m.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return et(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),Wr(t)):t}],transformResponse:[function(t){const n=this.transitional||$e.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(m.isResponse(t)||m.isReadableStream(t))return t;if(t&&m.isString(t)&&(s&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?$.from(l,$.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Q.classes.FormData,Blob:Q.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};m.forEach(["delete","get","head","post","put","patch"],e=>{$e.headers[e]={}});const Kr=m.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Jr=e=>{const t={};let n,s,r;return e&&e.split(`
`).forEach(function(i){r=i.indexOf(":"),n=i.substring(0,r).trim().toLowerCase(),s=i.substring(r+1).trim(),!(!n||t[n]&&Kr[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Zt=Symbol("internals");function je(e){return e&&String(e).trim().toLowerCase()}function Ue(e){return e===!1||e==null?e:m.isArray(e)?e.map(Ue):String(e)}function Xr(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Qr=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ot(e,t,n,s,r){if(m.isFunction(s))return s.call(this,t,n);if(r&&(t=n),!!m.isString(t)){if(m.isString(s))return t.indexOf(s)!==-1;if(m.isRegExp(s))return s.test(t)}}function Yr(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Zr(e,t){const n=m.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(r,o,i){return this[s].call(this,t,r,o,i)},configurable:!0})})}let ne=class{constructor(t){t&&this.set(t)}set(t,n,s){const r=this;function o(l,c,u){const d=je(c);if(!d)throw new Error("header name must be a non-empty string");const p=m.findKey(r,d);(!p||r[p]===void 0||u===!0||u===void 0&&r[p]!==!1)&&(r[p||c]=Ue(l))}const i=(l,c)=>m.forEach(l,(u,d)=>o(u,d,c));if(m.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(m.isString(t)&&(t=t.trim())&&!Qr(t))i(Jr(t),n);else if(m.isObject(t)&&m.isIterable(t)){let l={},c,u;for(const d of t){if(!m.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?m.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}i(l,n)}else t!=null&&o(n,t,s);return this}get(t,n){if(t=je(t),t){const s=m.findKey(this,t);if(s){const r=this[s];if(!n)return r;if(n===!0)return Xr(r);if(m.isFunction(n))return n.call(this,r,s);if(m.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=je(t),t){const s=m.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||ot(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let r=!1;function o(i){if(i=je(i),i){const l=m.findKey(s,i);l&&(!n||ot(s,s[l],l,n))&&(delete s[l],r=!0)}}return m.isArray(t)?t.forEach(o):o(t),r}clear(t){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const o=n[s];(!t||ot(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const n=this,s={};return m.forEach(this,(r,o)=>{const i=m.findKey(s,o);if(i){n[i]=Ue(r),delete n[o];return}const l=t?Yr(o):String(o).trim();l!==o&&delete n[o],n[l]=Ue(r),s[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return m.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=t&&m.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(r=>s.set(r)),s}static accessor(t){const s=(this[Zt]=this[Zt]={accessors:{}}).accessors,r=this.prototype;function o(i){const l=je(i);s[l]||(Zr(r,i),s[l]=!0)}return m.isArray(t)?t.forEach(o):o(t),this}};ne.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);m.reduceDescriptors(ne.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});m.freezeMethods(ne);function it(e,t){const n=this||$e,s=t||n,r=ne.from(s.headers);let o=s.data;return m.forEach(e,function(l){o=l.call(n,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function $n(e){return!!(e&&e.__CANCEL__)}function ve(e,t,n){$.call(this,e??"canceled",$.ERR_CANCELED,t,n),this.name="CanceledError"}m.inherits(ve,$,{__CANCEL__:!0});function Dn(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new $("Request failed with status code "+n.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function eo(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function to(e,t){e=e||10;const n=new Array(e),s=new Array(e);let r=0,o=0,i;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=s[o];i||(i=u),n[r]=c,s[r]=u;let p=o,f=0;for(;p!==r;)f+=n[p++],p=p%e;if(r=(r+1)%e,r===o&&(o=(o+1)%e),u-i<t)return;const g=d&&u-d;return g?Math.round(f*1e3/g):void 0}}function no(e,t){let n=0,s=1e3/t,r,o;const i=(u,d=Date.now())=>{n=d,r=null,o&&(clearTimeout(o),o=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),p=d-n;p>=s?i(u,d):(r=u,o||(o=setTimeout(()=>{o=null,i(r)},s-p)))},()=>r&&i(r)]}const We=(e,t,n=3)=>{let s=0;const r=to(50,250);return no(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-s,u=r(c),d=i<=l;s=i;const p={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-i)/u:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(p)},n)},en=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},tn=e=>(...t)=>m.asap(()=>e(...t)),so=Q.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Q.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Q.origin),Q.navigator&&/(msie|trident)/i.test(Q.navigator.userAgent)):()=>!0,ro=Q.hasStandardBrowserEnv?{write(e,t,n,s,r,o){const i=[e+"="+encodeURIComponent(t)];m.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),m.isString(s)&&i.push("path="+s),m.isString(r)&&i.push("domain="+r),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function oo(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function io(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Mn(e,t,n){let s=!oo(t);return e&&(s||n==!1)?io(e,t):t}const nn=e=>e instanceof ne?{...e}:e;function we(e,t){t=t||{};const n={};function s(u,d,p,f){return m.isPlainObject(u)&&m.isPlainObject(d)?m.merge.call({caseless:f},u,d):m.isPlainObject(d)?m.merge({},d):m.isArray(d)?d.slice():d}function r(u,d,p,f){if(m.isUndefined(d)){if(!m.isUndefined(u))return s(void 0,u,p,f)}else return s(u,d,p,f)}function o(u,d){if(!m.isUndefined(d))return s(void 0,d)}function i(u,d){if(m.isUndefined(d)){if(!m.isUndefined(u))return s(void 0,u)}else return s(void 0,d)}function l(u,d,p){if(p in t)return s(u,d);if(p in e)return s(void 0,u)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(u,d,p)=>r(nn(u),nn(d),p,!0)};return m.forEach(Object.keys(Object.assign({},e,t)),function(d){const p=c[d]||r,f=p(e[d],t[d],d);m.isUndefined(f)&&p!==l||(n[d]=f)}),n}const Ln=e=>{const t=we({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:i,auth:l}=t;t.headers=i=ne.from(i),t.url=kn(Mn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(m.isFormData(n)){if(Q.hasStandardBrowserEnv||Q.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[u,...d]=c?c.split(";").map(p=>p.trim()).filter(Boolean):[];i.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Q.hasStandardBrowserEnv&&(s&&m.isFunction(s)&&(s=s(t)),s||s!==!1&&so(t.url))){const u=r&&o&&ro.read(o);u&&i.set(r,u)}return t},ao=typeof XMLHttpRequest<"u",lo=ao&&function(e){return new Promise(function(n,s){const r=Ln(e);let o=r.data;const i=ne.from(r.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=r,d,p,f,g,h;function x(){g&&g(),h&&h(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(r.method.toUpperCase(),r.url,!0),w.timeout=r.timeout;function S(){if(!w)return;const E=ne.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),P={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:E,config:e,request:w};Dn(function(V){n(V),x()},function(V){s(V),x()},P),w=null}"onloadend"in w?w.onloadend=S:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(S)},w.onabort=function(){w&&(s(new $("Request aborted",$.ECONNABORTED,e,w)),w=null)},w.onerror=function(){s(new $("Network Error",$.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let F=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const P=r.transitional||Fn;r.timeoutErrorMessage&&(F=r.timeoutErrorMessage),s(new $(F,P.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,e,w)),w=null},o===void 0&&i.setContentType(null),"setRequestHeader"in w&&m.forEach(i.toJSON(),function(F,P){w.setRequestHeader(P,F)}),m.isUndefined(r.withCredentials)||(w.withCredentials=!!r.withCredentials),l&&l!=="json"&&(w.responseType=r.responseType),u&&([f,h]=We(u,!0),w.addEventListener("progress",f)),c&&w.upload&&([p,g]=We(c),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(d=E=>{w&&(s(!E||E.type?new ve(null,e,w):E),w.abort(),w=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const R=eo(r.url);if(R&&Q.protocols.indexOf(R)===-1){s(new $("Unsupported protocol "+R+":",$.ERR_BAD_REQUEST,e));return}w.send(o||null)})},co=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,r;const o=function(u){if(!r){r=!0,l();const d=u instanceof Error?u:this.reason;s.abort(d instanceof $?d:new ve(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,o(new $(`timeout ${t} of ms exceeded`,$.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=s;return c.unsubscribe=()=>m.asap(l),c}},uo=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,r;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},go=async function*(e,t){for await(const n of ho(e))yield*uo(n,t)},ho=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},sn=(e,t,n,s)=>{const r=go(e,t);let o=0,i,l=c=>{i||(i=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await r.next();if(u){l(),c.close();return}let p=d.byteLength;if(n){let f=o+=p;n(f)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),r.return()}},{highWaterMark:2})},tt=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",On=tt&&typeof ReadableStream=="function",fo=tt&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Hn=(e,...t)=>{try{return!!e(...t)}catch{return!1}},po=On&&Hn(()=>{let e=!1;const t=new Request(Q.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),rn=64*1024,vt=On&&Hn(()=>m.isReadableStream(new Response("").body)),Ke={stream:vt&&(e=>e.body)};tt&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ke[t]&&(Ke[t]=m.isFunction(e[t])?n=>n[t]():(n,s)=>{throw new $(`Response type '${t}' is not supported`,$.ERR_NOT_SUPPORT,s)})})})(new Response);const mo=async e=>{if(e==null)return 0;if(m.isBlob(e))return e.size;if(m.isSpecCompliantForm(e))return(await new Request(Q.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(m.isArrayBufferView(e)||m.isArrayBuffer(e))return e.byteLength;if(m.isURLSearchParams(e)&&(e=e+""),m.isString(e))return(await fo(e)).byteLength},xo=async(e,t)=>{const n=m.toFiniteNumber(e.getContentLength());return n??mo(t)},wo=tt&&(async e=>{let{url:t,method:n,data:s,signal:r,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:p="same-origin",fetchOptions:f}=Ln(e);u=u?(u+"").toLowerCase():"text";let g=co([r,o&&o.toAbortSignal()],i),h;const x=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let w;try{if(c&&po&&n!=="get"&&n!=="head"&&(w=await xo(d,s))!==0){let P=new Request(t,{method:"POST",body:s,duplex:"half"}),M;if(m.isFormData(s)&&(M=P.headers.get("content-type"))&&d.setContentType(M),P.body){const[V,Z]=en(w,We(tn(c)));s=sn(P.body,rn,V,Z)}}m.isString(p)||(p=p?"include":"omit");const S="credentials"in Request.prototype;h=new Request(t,{...f,signal:g,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:S?p:void 0});let R=await fetch(h);const E=vt&&(u==="stream"||u==="response");if(vt&&(l||E&&x)){const P={};["status","statusText","headers"].forEach(W=>{P[W]=R[W]});const M=m.toFiniteNumber(R.headers.get("content-length")),[V,Z]=l&&en(M,We(tn(l),!0))||[];R=new Response(sn(R.body,rn,V,()=>{Z&&Z(),x&&x()}),P)}u=u||"text";let F=await Ke[m.findKey(Ke,u)||"text"](R,e);return!E&&x&&x(),await new Promise((P,M)=>{Dn(P,M,{data:F,headers:ne.from(R.headers),status:R.status,statusText:R.statusText,config:e,request:h})})}catch(S){throw x&&x(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new $("Network Error",$.ERR_NETWORK,e,h),{cause:S.cause||S}):$.from(S,S&&S.code,e,h)}}),Ct={http:kr,xhr:lo,fetch:wo};m.forEach(Ct,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const on=e=>`- ${e}`,yo=e=>m.isFunction(e)||e===null||e===!1,Vn={getAdapter:e=>{e=m.isArray(e)?e:[e];const{length:t}=e;let n,s;const r={};for(let o=0;o<t;o++){n=e[o];let i;if(s=n,!yo(n)&&(s=Ct[(i=String(n)).toLowerCase()],s===void 0))throw new $(`Unknown adapter '${i}'`);if(s)break;r[i||"#"+o]=s}if(!s){const o=Object.entries(r).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=t?o.length>1?`since :
`+o.map(on).join(`
`):" "+on(o[0]):"as no adapter specified";throw new $("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:Ct};function at(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ve(null,e)}function an(e){return at(e),e.headers=ne.from(e.headers),e.data=it.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Vn.getAdapter(e.adapter||$e.adapter)(e).then(function(s){return at(e),s.data=it.call(e,e.transformResponse,s),s.headers=ne.from(s.headers),s},function(s){return $n(s)||(at(e),s&&s.response&&(s.response.data=it.call(e,e.transformResponse,s.response),s.response.headers=ne.from(s.response.headers))),Promise.reject(s)})}const zn="1.9.0",nt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nt[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const ln={};nt.transitional=function(t,n,s){function r(o,i){return"[Axios v"+zn+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,l)=>{if(t===!1)throw new $(r(i," has been removed"+(n?" in "+n:"")),$.ERR_DEPRECATED);return n&&!ln[i]&&(ln[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,i,l):!0}};nt.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function _o(e,t,n){if(typeof e!="object")throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let r=s.length;for(;r-- >0;){const o=s[r],i=t[o];if(i){const l=e[o],c=l===void 0||i(l,o,e);if(c!==!0)throw new $("option "+o+" must be "+c,$.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new $("Unknown option "+o,$.ERR_BAD_OPTION)}}const qe={assertOptions:_o,validators:nt},le=qe.validators;let me=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Yt,response:new Yt}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=we(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:o}=n;s!==void 0&&qe.assertOptions(s,{silentJSONParsing:le.transitional(le.boolean),forcedJSONParsing:le.transitional(le.boolean),clarifyTimeoutError:le.transitional(le.boolean)},!1),r!=null&&(m.isFunction(r)?n.paramsSerializer={serialize:r}:qe.assertOptions(r,{encode:le.function,serialize:le.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),qe.assertOptions(n,{baseUrl:le.spelling("baseURL"),withXsrfToken:le.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&m.merge(o.common,o[n.method]);o&&m.forEach(["delete","get","head","post","put","patch","common"],h=>{delete o[h]}),n.headers=ne.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,p=0,f;if(!c){const h=[an.bind(this),void 0];for(h.unshift.apply(h,l),h.push.apply(h,u),f=h.length,d=Promise.resolve(n);p<f;)d=d.then(h[p++],h[p++]);return d}f=l.length;let g=n;for(p=0;p<f;){const h=l[p++],x=l[p++];try{g=h(g)}catch(w){x.call(this,w);break}}try{d=an.call(this,g)}catch(h){return Promise.reject(h)}for(p=0,f=u.length;p<f;)d=d.then(u[p++],u[p++]);return d}getUri(t){t=we(this.defaults,t);const n=Mn(t.baseURL,t.url,t.allowAbsoluteUrls);return kn(n,t.params,t.paramsSerializer)}};m.forEach(["delete","get","head","options"],function(t){me.prototype[t]=function(n,s){return this.request(we(s||{},{method:t,url:n,data:(s||{}).data}))}});m.forEach(["post","put","patch"],function(t){function n(s){return function(o,i,l){return this.request(we(l||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}me.prototype[t]=n(),me.prototype[t+"Form"]=n(!0)});let So=class Bn{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const i=new Promise(l=>{s.subscribe(l),o=l}).then(r);return i.cancel=function(){s.unsubscribe(o)},i},t(function(o,i,l){s.reason||(s.reason=new ve(o,i,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Bn(function(r){t=r}),cancel:t}}};function bo(e){return function(n){return e.apply(null,n)}}function vo(e){return m.isObject(e)&&e.isAxiosError===!0}const Rt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Rt).forEach(([e,t])=>{Rt[t]=e});function Un(e){const t=new me(e),n=_n(me.prototype.request,t);return m.extend(n,me.prototype,t,{allOwnKeys:!0}),m.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return Un(we(e,r))},n}const z=Un($e);z.Axios=me;z.CanceledError=ve;z.CancelToken=So;z.isCancel=$n;z.VERSION=zn;z.toFormData=et;z.AxiosError=$;z.Cancel=z.CanceledError;z.all=function(t){return Promise.all(t)};z.spread=bo;z.isAxiosError=vo;z.mergeConfig=we;z.AxiosHeaders=ne;z.formToJSON=e=>An(m.isHTMLForm(e)?new FormData(e):e);z.getAdapter=Vn.getAdapter;z.HttpStatusCode=Rt;z.default=z;const{Axios:Vi,AxiosError:zi,CanceledError:Bi,isCancel:Ui,CancelToken:qi,VERSION:Gi,all:Wi,Cancel:Ki,isAxiosError:Ji,spread:Xi,toFormData:Qi,AxiosHeaders:Yi,HttpStatusCode:Zi,formToJSON:ea,getAdapter:ta,mergeConfig:na}=z,q=z.create({baseURL:"/api",timeout:1e4});q.interceptors.request.use(e=>{var t;return console.log(`API Request: ${(t=e.method)==null?void 0:t.toUpperCase()} ${e.url}`),e},e=>(console.error("API Request Error:",e),Promise.reject(e)));q.interceptors.response.use(e=>e,e=>{var t;return console.error("API Response Error:",((t=e.response)==null?void 0:t.data)||e.message),Promise.reject(e)});const Co={create:e=>q.post("/sessions",{name:e.name}).then(t=>t.data),get:e=>q.get(`/sessions/${e}`).then(t=>t.data),updateActivity:e=>q.post(`/sessions/${e}/activity`).then(t=>t.data)},cn={submitScore:e=>q.post("/game/score",e).then(t=>t.data),getLeaderboard:e=>q.get(`/game/leaderboard${e?`?sessionId=${e}`:""}`).then(t=>t.data),getPlayerScores:e=>q.get(`/game/scores/${e}`).then(t=>t.data),getStats:()=>q.get("/game/stats").then(e=>e.data)},lt={getTips:(e,t)=>{const n=new URLSearchParams;return e&&n.append("category",e),t&&n.append("sessionId",t),q.get(`/tips?${n.toString()}`).then(s=>s.data)},getTip:e=>q.get(`/tips/${e}`).then(t=>t.data),createTip:(e,t)=>q.post(`/tips?sessionId=${t}`,e).then(n=>n.data),generateTips:e=>q.post("/tips/generate",e).then(t=>t.data),likeTip:(e,t)=>q.post(`/tips/${e}/like?sessionId=${t}`).then(n=>n.data),unlikeTip:(e,t)=>q.delete(`/tips/${e}/like?sessionId=${t}`).then(n=>n.data),getCategories:()=>q.get("/tips/categories").then(e=>e.data)},ct={getQuizParticipants:()=>q.get("/analytics/leaderboard/quiz").then(e=>e.data),getGameParticipants:()=>q.get("/analytics/leaderboard/game").then(e=>e.data),getTipsContributors:()=>q.get("/analytics/leaderboard/tips").then(e=>e.data)},Ro=()=>{const e=j.useRef(null),t=j.useRef(),n=j.useRef(new Set),[s,r]=j.useState(null),[o,i]=j.useState(!1),[l,c]=j.useState(""),[u,d]=j.useState(!1),{session:p}=yn(),f=Tt(),g=800,h=600,x=15,w=8,S=20,R=50,E=.3,F=8,P=.98,{data:M}=ye({queryKey:["leaderboard",p==null?void 0:p.sessionId],queryFn:()=>cn.getLeaderboard(p==null?void 0:p.sessionId),enabled:o}),V=_e({mutationFn:_=>cn.submitScore(_),onSuccess:()=>{f.invalidateQueries({queryKey:["leaderboard"]}),d(!1),i(!0)}});j.useEffect(()=>{p!=null&&p.name&&!l&&c(p.name)},[p,l]);const Z=j.useCallback(()=>{const _={player:{x:g/2,y:h/2,angle:0,velocity:{x:0,y:0},radius:x},bullets:[],asteroids:[],score:0,level:1,lives:3,gameStartTime:Date.now(),asteroidsDestroyed:0,isGameOver:!1,isPaused:!1};for(let b=0;b<5;b++)_.asteroids.push(W());r(_)},[]),W=j.useCallback(()=>{const _=S+Math.random()*(R-S);let b,C;do b=Math.random()*g,C=Math.random()*h;while(Math.sqrt((b-g/2)**2+(C-h/2)**2)<100);return{x:b,y:C,velocity:{x:(Math.random()-.5)*4,y:(Math.random()-.5)*4},radius:_,angle:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.1}},[]);j.useEffect(()=>{const _=C=>{n.current.add(C.code),C.code==="Space"&&(C.preventDefault(),s&&!s.isGameOver&&!s.isPaused&&v()),C.code==="KeyP"&&L()},b=C=>{n.current.delete(C.code)};return window.addEventListener("keydown",_),window.addEventListener("keyup",b),()=>{window.removeEventListener("keydown",_),window.removeEventListener("keyup",b)}},[s]);const v=j.useCallback(()=>{if(!s)return;const _={x:s.player.x,y:s.player.y,velocity:{x:Math.cos(s.player.angle)*w,y:Math.sin(s.player.angle)*w},life:60};r(b=>b?{...b,bullets:[...b.bullets,_]}:null)},[s]),L=j.useCallback(()=>{r(_=>_?{..._,isPaused:!_.isPaused}:null)},[]),ee=j.useCallback(()=>{if(!s||s.isGameOver||s.isPaused)return;const _={...s};(n.current.has("ArrowLeft")||n.current.has("KeyA"))&&(_.player.angle-=.1),(n.current.has("ArrowRight")||n.current.has("KeyD"))&&(_.player.angle+=.1),(n.current.has("ArrowUp")||n.current.has("KeyW"))&&(_.player.velocity.x+=Math.cos(_.player.angle)*E,_.player.velocity.y+=Math.sin(_.player.angle)*E),_.player.velocity.x*=P,_.player.velocity.y*=P;const b=Math.sqrt(_.player.velocity.x**2+_.player.velocity.y**2);b>F&&(_.player.velocity.x=_.player.velocity.x/b*F,_.player.velocity.y=_.player.velocity.y/b*F),_.player.x+=_.player.velocity.x,_.player.y+=_.player.velocity.y,_.player.x<0&&(_.player.x=g),_.player.x>g&&(_.player.x=0),_.player.y<0&&(_.player.y=h),_.player.y>h&&(_.player.y=0),_.bullets=_.bullets.map(C=>({...C,x:C.x+C.velocity.x,y:C.y+C.velocity.y,life:C.life-1})).filter(C=>C.life>0&&C.x>=0&&C.x<=g&&C.y>=0&&C.y<=h),_.asteroids=_.asteroids.map(C=>({...C,x:C.x+C.velocity.x,y:C.y+C.velocity.y,angle:C.angle+C.rotationSpeed})),_.asteroids.forEach(C=>{C.x<-C.radius&&(C.x=g+C.radius),C.x>g+C.radius&&(C.x=-C.radius),C.y<-C.radius&&(C.y=h+C.radius),C.y>h+C.radius&&(C.y=-C.radius)});for(let C=_.bullets.length-1;C>=0;C--){const Y=_.bullets[C];for(let K=_.asteroids.length-1;K>=0;K--){const I=_.asteroids[K];if(Math.sqrt((Y.x-I.x)**2+(Y.y-I.y)**2)<I.radius){if(_.bullets.splice(C,1),_.asteroids.splice(K,1),_.score+=Math.floor(I.radius),_.asteroidsDestroyed++,I.radius>30)for(let ue=0;ue<2;ue++)_.asteroids.push({x:I.x,y:I.y,velocity:{x:(Math.random()-.5)*6,y:(Math.random()-.5)*6},radius:I.radius/2,angle:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.2});break}}}for(const C of _.asteroids)if(Math.sqrt((_.player.x-C.x)**2+(_.player.y-C.y)**2)<_.player.radius+C.radius){_.lives--,_.lives<=0?(_.isGameOver=!0,d(!0)):(_.player.x=g/2,_.player.y=h/2,_.player.velocity={x:0,y:0});break}if(_.asteroids.length===0&&!_.isGameOver){_.level++;const C=Math.min(5+_.level,12);for(let Y=0;Y<C;Y++)_.asteroids.push(W())}r(_)},[s,W]);j.useEffect(()=>(s&&!s.isGameOver&&!s.isPaused&&(t.current=requestAnimationFrame(()=>{ee(),t.current=requestAnimationFrame(ee)})),()=>{t.current&&cancelAnimationFrame(t.current)}),[ee,s]),j.useEffect(()=>{const _=e.current;if(!_||!s)return;const b=_.getContext("2d");if(b){b.fillStyle="#000011",b.fillRect(0,0,g,h),b.fillStyle="#ffffff";for(let C=0;C<100;C++){const Y=C*37%g,K=C*73%h;b.fillRect(Y,K,1,1)}b.save(),b.translate(s.player.x,s.player.y),b.rotate(s.player.angle),b.strokeStyle="#00ff00",b.lineWidth=2,b.beginPath(),b.moveTo(15,0),b.lineTo(-10,-8),b.lineTo(-5,0),b.lineTo(-10,8),b.closePath(),b.stroke(),b.restore(),b.fillStyle="#ffff00",s.bullets.forEach(C=>{b.beginPath(),b.arc(C.x,C.y,2,0,Math.PI*2),b.fill()}),b.strokeStyle="#888888",b.lineWidth=2,s.asteroids.forEach(C=>{b.save(),b.translate(C.x,C.y),b.rotate(C.angle),b.beginPath();const Y=8;for(let K=0;K<Y;K++){const I=K/Y*Math.PI*2,Ce=C.radius*(.8+Math.sin(K*3)*.2),ue=Math.cos(I)*Ce,Re=Math.sin(I)*Ce;K===0?b.moveTo(ue,Re):b.lineTo(ue,Re)}b.closePath(),b.stroke(),b.restore()}),b.fillStyle="#ffffff",b.font="20px Arial",b.fillText(`Score: ${s.score}`,10,30),b.fillText(`Level: ${s.level}`,10,60),b.fillText(`Lives: ${s.lives}`,10,90),s.isPaused&&(b.fillStyle="rgba(0, 0, 0, 0.7)",b.fillRect(0,0,g,h),b.fillStyle="#ffffff",b.font="48px Arial",b.textAlign="center",b.fillText("PAUSED",g/2,h/2),b.font="24px Arial",b.fillText("Press P to resume",g/2,h/2+50),b.textAlign="left"),s.isGameOver&&(b.fillStyle="rgba(0, 0, 0, 0.8)",b.fillRect(0,0,g,h),b.fillStyle="#ff0000",b.font="48px Arial",b.textAlign="center",b.fillText("GAME OVER",g/2,h/2-50),b.fillStyle="#ffffff",b.font="24px Arial",b.fillText(`Final Score: ${s.score}`,g/2,h/2),b.fillText(`Level Reached: ${s.level}`,g/2,h/2+30),b.textAlign="left")}},[s]);const De=()=>{if(!s||!l.trim())return;const _=Date.now()-s.gameStartTime,b=Math.floor(_/1e3),C=Math.floor(b/3600),Y=Math.floor(b%3600/60),K=b%60,I=`${C.toString().padStart(2,"0")}:${Y.toString().padStart(2,"0")}:${K.toString().padStart(2,"0")}`;V.mutate({sessionId:(p==null?void 0:p.sessionId)||"game-only-session",playerName:l.trim(),score:s.score,gameDuration:I,level:s.level,asteroidsDestroyed:s.asteroidsDestroyed})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"🚀 Spaceship Game"}),a.jsx("p",{className:"text-gray-700",children:"Use WASD or Arrow Keys to move, Space to shoot, P to pause"})]}),a.jsxs("div",{className:"flex justify-center space-x-4 mb-4",children:[a.jsx("button",{onClick:Z,className:"btn btn-primary",children:s?"New Game":"Start Game"}),a.jsx("button",{onClick:()=>i(!o),className:"btn btn-secondary",children:o?"Hide Leaderboard":"Show Leaderboard"})]}),a.jsx("div",{className:"flex justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx("canvas",{ref:e,width:g,height:h,className:"border-2 border-purple-500 rounded-lg bg-black",tabIndex:0}),!s&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-75 rounded-lg",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Ready to Play?"}),a.jsx("p",{className:"mb-4",children:"Destroy asteroids to score points!"}),a.jsx("button",{onClick:Z,className:"btn btn-primary",children:"Start Game"})]})})]})}),u&&(s==null?void 0:s.isGameOver)&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Submit Your Score!"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["Score: ",s.score," | Level: ",s.level]}),a.jsx("input",{type:"text",value:l,onChange:_=>c(_.target.value),placeholder:"Enter your name...",className:"w-full p-3 border border-gray-300 rounded-lg mb-4",maxLength:20,onKeyPress:_=>_.key==="Enter"&&De()}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:De,disabled:!l.trim()||V.isPending,className:"flex-1 btn btn-primary disabled:opacity-50",children:V.isPending?"Submitting...":"Submit Score"}),a.jsx("button",{onClick:()=>d(!1),className:"flex-1 btn btn-secondary",children:"Skip"})]})]})}),o&&M&&a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"🏆 Leaderboard"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-purple-600 mb-3",children:"Today"}),a.jsx("div",{className:"space-y-2",children:M.dailyLeaderboard.slice(0,5).map((_,b)=>a.jsxs("div",{className:"flex justify-between items-center bg-gray-50 rounded-lg p-2",children:[a.jsxs("span",{className:"text-gray-900",children:["#",_.rank," ",_.playerName]}),a.jsx("span",{className:"text-purple-600 font-bold",children:_.score})]},b))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-blue-600 mb-3",children:"This Week"}),a.jsx("div",{className:"space-y-2",children:M.weeklyLeaderboard.slice(0,5).map((_,b)=>a.jsxs("div",{className:"flex justify-between items-center bg-gray-50 rounded-lg p-2",children:[a.jsxs("span",{className:"text-gray-900",children:["#",_.rank," ",_.playerName]}),a.jsx("span",{className:"text-blue-600 font-bold",children:_.score})]},b))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-yellow-600 mb-3",children:"All Time"}),a.jsx("div",{className:"space-y-2",children:M.allTimeLeaderboard.slice(0,5).map((_,b)=>a.jsxs("div",{className:"flex justify-between items-center bg-gray-50 rounded-lg p-2",children:[a.jsxs("span",{className:"text-gray-900",children:["#",_.rank," ",_.playerName]}),a.jsx("span",{className:"text-yellow-600 font-bold",children:_.score})]},b))})]})]}),M.playerBest&&a.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-500 to-blue-500 rounded-lg",children:[a.jsx("h4",{className:"text-white font-semibold mb-2",children:"Your Best Score"}),a.jsxs("div",{className:"text-white",children:[a.jsx("span",{className:"font-bold",children:M.playerBest.score})," points",a.jsxs("span",{className:"ml-4 text-purple-200",children:["Level ",M.playerBest.level]})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"How to Play"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-gray-700",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-purple-600 mb-2",children:"Controls"}),a.jsxs("ul",{className:"space-y-1 text-sm",children:[a.jsx("li",{children:"• WASD or Arrow Keys: Move ship"}),a.jsx("li",{children:"• Space: Shoot"}),a.jsx("li",{children:"• P: Pause/Resume"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-blue-600 mb-2",children:"Gameplay"}),a.jsxs("ul",{className:"space-y-1 text-sm",children:[a.jsx("li",{children:"• Destroy asteroids to score points"}),a.jsx("li",{children:"• Large asteroids split into smaller ones"}),a.jsx("li",{children:"• Avoid collisions - you have 3 lives"}),a.jsx("li",{children:"• Each level adds more asteroids"})]})]})]})]})]})},ut=[{id:"all",name:"All Tips",icon:"📚"},{id:"cursor-basics",name:"Cursor Basics",icon:"🎯"},{id:"cursor-advanced",name:"Cursor Advanced",icon:"🚀"},{id:"ai-first-dev",name:"AI-First Development",icon:"💡"},{id:"dotnet-react",name:".NET & React",icon:"💻"},{id:"best-practices",name:"Best Practices",icon:"✨"},{id:"productivity",name:"Productivity",icon:"⚡"},{id:"troubleshooting",name:"Troubleshooting",icon:"🔧"}],Eo={beginner:"bg-green-100 text-green-800",intermediate:"bg-yellow-100 text-yellow-800",advanced:"bg-red-100 text-red-800"},jo=()=>{const[e,t]=j.useState("all"),[n,s]=j.useState(""),[r,o]=j.useState(!1),[i,l]=j.useState(!1),[c,u]=j.useState(""),[d,p]=j.useState({title:"",content:"",category:"best-practices",difficulty:"beginner",tags:""}),{session:f,setSession:g}=yn(),h=Tt(),{data:x,isLoading:w}=ye({queryKey:["tips",e,f==null?void 0:f.sessionId],queryFn:()=>lt.getTips(e==="all"?void 0:e,f==null?void 0:f.sessionId),staleTime:3e4}),S=(x==null?void 0:x.tips)||[],R=S.filter(v=>n===""||v.title.toLowerCase().includes(n.toLowerCase())||v.content.toLowerCase().includes(n.toLowerCase())||v.tags.some(ee=>ee.toLowerCase().includes(n.toLowerCase()))),E=_e({mutationFn:v=>Co.create({name:v}),onSuccess:v=>{g(v),l(!1),o(!0),u("")},onError:v=>{console.error("Failed to create session:",v),alert("Failed to create session. Please try again.")}}),F=_e({mutationFn:v=>lt.createTip(v,(f==null?void 0:f.sessionId)||""),onSuccess:()=>{h.invalidateQueries({queryKey:["tips"]}),o(!1),p({title:"",content:"",category:"best-practices",difficulty:"beginner",tags:""})}}),P=_e({mutationFn:v=>lt.likeTip(v,(f==null?void 0:f.sessionId)||""),onSuccess:()=>{h.invalidateQueries({queryKey:["tips"]})},onError:v=>{console.error("Failed to like tip:",v),v.message.includes("400")||alert("Failed to like tip. Please try again.")}}),M=()=>{f?o(!0):l(!0)},V=()=>{c.trim()&&E.mutate(c.trim())},Z=()=>{if(!d.title.trim()||!d.content.trim())return;const v={...d,tags:d.tags.split(",").map(L=>L.trim()).filter(Boolean)};F.mutate(v)},W=v=>{if(!f){alert("Please create a session first to like tips!");return}const L=S.find(ee=>ee.id===v);L&&!L.isLikedByUser&&P.mutate(v)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"💡 Tips & Tricks"}),a.jsx("p",{className:"text-gray-700",children:"Master Cursor and Windsurf with these expert tips and community wisdom"}),f&&a.jsxs("p",{className:"text-sm text-purple-600 mt-2",children:["Welcome back, ",f.name,"! You can now add tips and like content."]})]}),a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"text",placeholder:"Search tips...",value:n,onChange:v=>s(v.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500"})}),a.jsx("button",{onClick:M,className:"btn btn-primary whitespace-nowrap",children:"➕ Add Tip"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:ut.map(v=>a.jsxs("button",{onClick:()=>t(v.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${e===v.id?"bg-purple-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[v.icon," ",v.name]},v.id))})]}),w?a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((v,L)=>a.jsxs("div",{className:"card animate-pulse",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded mb-3"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded mb-4"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-12"})]})]},L))}):a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(v=>a.jsxs("div",{className:"card hover:shadow-xl transition-all",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:v.title}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Eo[v.difficulty]}`,children:v.difficulty})]}),a.jsx("p",{className:"text-gray-700 text-sm mb-4 leading-relaxed",children:v.content}),a.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:v.tags.map(L=>a.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:["#",L]},L))}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:["by ",v.createdBy]}),a.jsxs("button",{onClick:()=>W(v.id),disabled:v.isLikedByUser||P.isPending,className:`flex items-center space-x-1 text-sm ${v.isLikedByUser?"text-red-500 cursor-not-allowed":"text-gray-500 hover:text-red-500 cursor-pointer"} ${P.isPending?"opacity-50":""}`,children:[a.jsx("span",{children:v.isLikedByUser?"❤️":"🤍"}),a.jsx("span",{children:v.likes})]})]})]},v.id))}),!w&&R.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No tips found"}),a.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or category filter, or create a new tip!"})]}),r&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Share Your Tip"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),a.jsx("input",{type:"text",value:d.title,onChange:v=>p(L=>({...L,title:v.target.value})),placeholder:"Enter tip title...",className:"w-full p-3 border border-gray-300 rounded-lg",maxLength:100})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),a.jsx("textarea",{value:d.content,onChange:v=>p(L=>({...L,content:v.target.value})),placeholder:"Share your tip or trick...",className:"w-full p-3 border border-gray-300 rounded-lg h-32 resize-none",maxLength:500})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsx("select",{value:d.category,onChange:v=>p(L=>({...L,category:v.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg",children:ut.slice(1).map(v=>a.jsx("option",{value:v.id,children:v.name},v.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty"}),a.jsxs("select",{value:d.difficulty,onChange:v=>p(L=>({...L,difficulty:v.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg",children:[a.jsx("option",{value:"beginner",children:"🟢 Beginner"}),a.jsx("option",{value:"intermediate",children:"🟡 Intermediate"}),a.jsx("option",{value:"advanced",children:"🔴 Advanced"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (comma-separated)"}),a.jsx("input",{type:"text",value:d.tags,onChange:v=>p(L=>({...L,tags:v.target.value})),placeholder:"shortcuts, productivity, debugging",className:"w-full p-3 border border-gray-300 rounded-lg"})]})]}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx("button",{onClick:Z,disabled:!d.title.trim()||!d.content.trim()||F.isPending,className:"flex-1 btn btn-primary disabled:opacity-50",children:F.isPending?"Creating...":"Create Tip"}),a.jsx("button",{onClick:()=>o(!1),className:"flex-1 btn btn-secondary",children:"Cancel"})]})]})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"👋 Welcome to Tips & Tricks!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"To add tips and like content, please tell us your name. This helps us track contributions and build a community."}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name"}),a.jsx("input",{type:"text",value:c,onChange:v=>u(v.target.value),placeholder:"Enter your name...",className:"w-full p-3 border border-gray-300 rounded-lg text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500",maxLength:50,onKeyPress:v=>v.key==="Enter"&&V()})]})}),a.jsxs("div",{className:"flex space-x-3 mt-6",children:[a.jsx("button",{onClick:V,disabled:!c.trim()||E.isPending,className:"flex-1 btn btn-primary disabled:opacity-50",children:E.isPending?"Creating Session...":"Continue"}),a.jsx("button",{onClick:()=>{l(!1),u("")},className:"flex-1 btn btn-secondary",children:"Cancel"})]})]})}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 rounded-xl p-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"🚀 Quick Start Guide"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 text-white",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"New to Cursor?"}),a.jsxs("ul",{className:"space-y-1 text-sm opacity-90",children:[a.jsx("li",{children:"• Start with @ to reference files"}),a.jsx("li",{children:"• Use Cmd+K for inline editing"}),a.jsx("li",{children:"• Try Cmd+L for chat mode"}),a.jsx("li",{children:"• Create a .cursorrules file"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold mb-2",children:"New to Windsurf?"}),a.jsxs("ul",{className:"space-y-1 text-sm opacity-90",children:[a.jsx("li",{children:"• Try Cascade for autonomous development"}),a.jsx("li",{children:"• Use Flow for collaborative editing"}),a.jsx("li",{children:"• Ask for project analysis"}),a.jsx("li",{children:"• Request task planning"})]})]})]})]}),a.jsxs("div",{className:"card",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"📊 Tip Statistics"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:S.length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Tips"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:ut.length-1}),a.jsx("div",{className:"text-sm text-gray-600",children:"Categories"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:S.filter(v=>v.createdBy!=="system").length}),a.jsx("div",{className:"text-sm text-gray-600",children:"Community Tips"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:S.reduce((v,L)=>v+L.likes,0)}),a.jsx("div",{className:"text-sm text-gray-600",children:"Total Likes"})]})]})]})]})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function de(e,t){return typeof e=="function"?e(t):e}function re(e,t){return n=>{t.setState(s=>({...s,[e]:de(n,s[e])}))}}function st(e){return e instanceof Function}function No(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Po(e,t){const n=[],s=r=>{r.forEach(o=>{n.push(o);const i=t(o);i!=null&&i.length&&s(i)})};return s(e),n}function T(e,t,n){let s=[],r;return o=>{let i;n.key&&n.debug&&(i=Date.now());const l=e(o);if(!(l.length!==s.length||l.some((d,p)=>s[p]!==d)))return r;s=l;let u;if(n.key&&n.debug&&(u=Date.now()),r=t(...l),n==null||n.onChange==null||n.onChange(r),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-i)*100)/100,p=Math.round((Date.now()-u)*100)/100,f=p/16,g=(h,x)=>{for(h=String(h);h.length<x;)h=" "+h;return h};console.info(`%c⏱ ${g(p,5)} /${g(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return r}}function k(e,t,n,s){return{debug:()=>{var r;return(r=e==null?void 0:e.debugAll)!=null?r:e[t]},key:!1,onChange:s}}function Io(e,t,n,s){const r=()=>{var i;return(i=o.getValue())!=null?i:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(s),renderValue:r,getContext:T(()=>[e,n,t,o],(i,l,c,u)=>({table:i,column:l,row:c,cell:u,getValue:u.getValue,renderValue:u.renderValue}),k(e.options,"debugCells"))};return e._features.forEach(i=>{i.createCell==null||i.createCell(o,n,t,e)},{}),o}function To(e,t,n,s){var r,o;const l={...e._getDefaultColumnDef(),...t},c=l.accessorKey;let u=(r=(o=l.id)!=null?o:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?r:typeof l.header=="string"?l.header:void 0,d;if(l.accessorFn?d=l.accessorFn:c&&(c.includes(".")?d=f=>{let g=f;for(const x of c.split(".")){var h;g=(h=g)==null?void 0:h[x]}return g}:d=f=>f[l.accessorKey]),!u)throw new Error;let p={id:`${String(u)}`,accessorFn:d,parent:s,depth:n,columnDef:l,columns:[],getFlatColumns:T(()=>[!0],()=>{var f;return[p,...(f=p.columns)==null?void 0:f.flatMap(g=>g.getFlatColumns())]},k(e.options,"debugColumns")),getLeafColumns:T(()=>[e._getOrderColumnsFn()],f=>{var g;if((g=p.columns)!=null&&g.length){let h=p.columns.flatMap(x=>x.getLeafColumns());return f(h)}return[p]},k(e.options,"debugColumns"))};for(const f of e._features)f.createColumn==null||f.createColumn(p,e);return p}const J="debugHeaders";function un(e,t,n){var s;let o={id:(s=n.id)!=null?s:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const i=[],l=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(l),i.push(c)};return l(o),i},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(i=>{i.createHeader==null||i.createHeader(o,e)}),o}const ko={createTable:e=>{e.getHeaderGroups=T(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,s,r)=>{var o,i;const l=(o=s==null?void 0:s.map(p=>n.find(f=>f.id===p)).filter(Boolean))!=null?o:[],c=(i=r==null?void 0:r.map(p=>n.find(f=>f.id===p)).filter(Boolean))!=null?i:[],u=n.filter(p=>!(s!=null&&s.includes(p.id))&&!(r!=null&&r.includes(p.id)));return Oe(t,[...l,...u,...c],e)},k(e.options,J)),e.getCenterHeaderGroups=T(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,s,r)=>(n=n.filter(o=>!(s!=null&&s.includes(o.id))&&!(r!=null&&r.includes(o.id))),Oe(t,n,e,"center")),k(e.options,J)),e.getLeftHeaderGroups=T(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,s)=>{var r;const o=(r=s==null?void 0:s.map(i=>n.find(l=>l.id===i)).filter(Boolean))!=null?r:[];return Oe(t,o,e,"left")},k(e.options,J)),e.getRightHeaderGroups=T(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,s)=>{var r;const o=(r=s==null?void 0:s.map(i=>n.find(l=>l.id===i)).filter(Boolean))!=null?r:[];return Oe(t,o,e,"right")},k(e.options,J)),e.getFooterGroups=T(()=>[e.getHeaderGroups()],t=>[...t].reverse(),k(e.options,J)),e.getLeftFooterGroups=T(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),k(e.options,J)),e.getCenterFooterGroups=T(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),k(e.options,J)),e.getRightFooterGroups=T(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),k(e.options,J)),e.getFlatHeaders=T(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),k(e.options,J)),e.getLeftFlatHeaders=T(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),k(e.options,J)),e.getCenterFlatHeaders=T(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),k(e.options,J)),e.getRightFlatHeaders=T(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),k(e.options,J)),e.getCenterLeafHeaders=T(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var s;return!((s=n.subHeaders)!=null&&s.length)}),k(e.options,J)),e.getLeftLeafHeaders=T(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var s;return!((s=n.subHeaders)!=null&&s.length)}),k(e.options,J)),e.getRightLeafHeaders=T(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var s;return!((s=n.subHeaders)!=null&&s.length)}),k(e.options,J)),e.getLeafHeaders=T(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,s)=>{var r,o,i,l,c,u;return[...(r=(o=t[0])==null?void 0:o.headers)!=null?r:[],...(i=(l=n[0])==null?void 0:l.headers)!=null?i:[],...(c=(u=s[0])==null?void 0:u.headers)!=null?c:[]].map(d=>d.getLeafHeaders()).flat()},k(e.options,J))}};function Oe(e,t,n,s){var r,o;let i=0;const l=function(f,g){g===void 0&&(g=1),i=Math.max(i,g),f.filter(h=>h.getIsVisible()).forEach(h=>{var x;(x=h.columns)!=null&&x.length&&l(h.columns,g+1)},0)};l(e);let c=[];const u=(f,g)=>{const h={depth:g,id:[s,`${g}`].filter(Boolean).join("_"),headers:[]},x=[];f.forEach(w=>{const S=[...x].reverse()[0],R=w.column.depth===h.depth;let E,F=!1;if(R&&w.column.parent?E=w.column.parent:(E=w.column,F=!0),S&&(S==null?void 0:S.column)===E)S.subHeaders.push(w);else{const P=un(n,E,{id:[s,g,E.id,w==null?void 0:w.id].filter(Boolean).join("_"),isPlaceholder:F,placeholderId:F?`${x.filter(M=>M.column===E).length}`:void 0,depth:g,index:x.length});P.subHeaders.push(w),x.push(P)}h.headers.push(w),w.headerGroup=h}),c.push(h),g>0&&u(x,g-1)},d=t.map((f,g)=>un(n,f,{depth:i,index:g}));u(d,i-1),c.reverse();const p=f=>f.filter(h=>h.column.getIsVisible()).map(h=>{let x=0,w=0,S=[0];h.subHeaders&&h.subHeaders.length?(S=[],p(h.subHeaders).forEach(E=>{let{colSpan:F,rowSpan:P}=E;x+=F,S.push(P)})):x=1;const R=Math.min(...S);return w=w+R,h.colSpan=x,h.rowSpan=w,{colSpan:x,rowSpan:w}});return p((r=(o=c[0])==null?void 0:o.headers)!=null?r:[]),c}const Lt=(e,t,n,s,r,o,i)=>{let l={id:t,index:s,original:n,depth:r,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(l._valuesCache.hasOwnProperty(c))return l._valuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return l._valuesCache[c]=u.accessorFn(l.original,s),l._valuesCache[c]},getUniqueValues:c=>{if(l._uniqueValuesCache.hasOwnProperty(c))return l._uniqueValuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(l._uniqueValuesCache[c]=u.columnDef.getUniqueValues(l.original,s),l._uniqueValuesCache[c]):(l._uniqueValuesCache[c]=[l.getValue(c)],l._uniqueValuesCache[c])},renderValue:c=>{var u;return(u=l.getValue(c))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Po(l.subRows,c=>c.subRows),getParentRow:()=>l.parentId?e.getRow(l.parentId,!0):void 0,getParentRows:()=>{let c=[],u=l;for(;;){const d=u.getParentRow();if(!d)break;c.push(d),u=d}return c.reverse()},getAllCells:T(()=>[e.getAllLeafColumns()],c=>c.map(u=>Io(e,l,u,u.id)),k(e.options,"debugRows")),_getAllCellsByColumnId:T(()=>[l.getAllCells()],c=>c.reduce((u,d)=>(u[d.column.id]=d,u),{}),k(e.options,"debugRows"))};for(let c=0;c<e._features.length;c++){const u=e._features[c];u==null||u.createRow==null||u.createRow(l,e)}return l},Fo={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},qn=(e,t,n)=>{var s,r;const o=n==null||(s=n.toString())==null?void 0:s.toLowerCase();return!!(!((r=e.getValue(t))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(o))};qn.autoRemove=e=>ie(e);const Gn=(e,t,n)=>{var s;return!!(!((s=e.getValue(t))==null||(s=s.toString())==null)&&s.includes(n))};Gn.autoRemove=e=>ie(e);const Wn=(e,t,n)=>{var s;return((s=e.getValue(t))==null||(s=s.toString())==null?void 0:s.toLowerCase())===(n==null?void 0:n.toLowerCase())};Wn.autoRemove=e=>ie(e);const Kn=(e,t,n)=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(n)};Kn.autoRemove=e=>ie(e);const Jn=(e,t,n)=>!n.some(s=>{var r;return!((r=e.getValue(t))!=null&&r.includes(s))});Jn.autoRemove=e=>ie(e)||!(e!=null&&e.length);const Xn=(e,t,n)=>n.some(s=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(s)});Xn.autoRemove=e=>ie(e)||!(e!=null&&e.length);const Qn=(e,t,n)=>e.getValue(t)===n;Qn.autoRemove=e=>ie(e);const Yn=(e,t,n)=>e.getValue(t)==n;Yn.autoRemove=e=>ie(e);const Ot=(e,t,n)=>{let[s,r]=n;const o=e.getValue(t);return o>=s&&o<=r};Ot.resolveFilterValue=e=>{let[t,n]=e,s=typeof t!="number"?parseFloat(t):t,r=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(s)?-1/0:s,i=n===null||Number.isNaN(r)?1/0:r;if(o>i){const l=o;o=i,i=l}return[o,i]};Ot.autoRemove=e=>ie(e)||ie(e[0])&&ie(e[1]);const ce={includesString:qn,includesStringSensitive:Gn,equalsString:Wn,arrIncludes:Kn,arrIncludesAll:Jn,arrIncludesSome:Xn,equals:Qn,weakEquals:Yn,inNumberRange:Ot};function ie(e){return e==null||e===""}const Ao={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:re("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],s=n==null?void 0:n.getValue(e.id);return typeof s=="string"?ce.includesString:typeof s=="number"?ce.inNumberRange:typeof s=="boolean"||s!==null&&typeof s=="object"?ce.equals:Array.isArray(s)?ce.arrIncludes:ce.weakEquals},e.getFilterFn=()=>{var n,s;return st(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(s=t.options.filterFns)==null?void 0:s[e.columnDef.filterFn])!=null?n:ce[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,s,r;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((s=t.options.enableColumnFilters)!=null?s:!0)&&((r=t.options.enableFilters)!=null?r:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(s=>s.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,s;return(n=(s=t.getState().columnFilters)==null?void 0:s.findIndex(r=>r.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(s=>{const r=e.getFilterFn(),o=s==null?void 0:s.find(d=>d.id===e.id),i=de(n,o?o.value:void 0);if(dn(r,i,e)){var l;return(l=s==null?void 0:s.filter(d=>d.id!==e.id))!=null?l:[]}const c={id:e.id,value:i};if(o){var u;return(u=s==null?void 0:s.map(d=>d.id===e.id?c:d))!=null?u:[]}return s!=null&&s.length?[...s,c]:[c]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),s=r=>{var o;return(o=de(t,r))==null?void 0:o.filter(i=>{const l=n.find(c=>c.id===i.id);if(l){const c=l.getFilterFn();if(dn(c,i.value,l))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(s)},e.resetColumnFilters=t=>{var n,s;e.setColumnFilters(t?[]:(n=(s=e.initialState)==null?void 0:s.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function dn(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const $o=(e,t,n)=>n.reduce((s,r)=>{const o=r.getValue(e);return s+(typeof o=="number"?o:0)},0),Do=(e,t,n)=>{let s;return n.forEach(r=>{const o=r.getValue(e);o!=null&&(s>o||s===void 0&&o>=o)&&(s=o)}),s},Mo=(e,t,n)=>{let s;return n.forEach(r=>{const o=r.getValue(e);o!=null&&(s<o||s===void 0&&o>=o)&&(s=o)}),s},Lo=(e,t,n)=>{let s,r;return n.forEach(o=>{const i=o.getValue(e);i!=null&&(s===void 0?i>=i&&(s=r=i):(s>i&&(s=i),r<i&&(r=i)))}),[s,r]},Oo=(e,t)=>{let n=0,s=0;if(t.forEach(r=>{let o=r.getValue(e);o!=null&&(o=+o)>=o&&(++n,s+=o)}),n)return s/n},Ho=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!No(n))return;if(n.length===1)return n[0];const s=Math.floor(n.length/2),r=n.sort((o,i)=>o-i);return n.length%2!==0?r[s]:(r[s-1]+r[s])/2},Vo=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),zo=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,Bo=(e,t)=>t.length,dt={sum:$o,min:Do,max:Mo,extent:Lo,mean:Oo,median:Ho,unique:Vo,uniqueCount:zo,count:Bo},Uo={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:re("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(s=>s!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,s;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((s=t.options.enableGrouping)!=null?s:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],s=n==null?void 0:n.getValue(e.id);if(typeof s=="number")return dt.sum;if(Object.prototype.toString.call(s)==="[object Date]")return dt.extent},e.getAggregationFn=()=>{var n,s;if(!e)throw new Error;return st(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(s=t.options.aggregationFns)==null?void 0:s[e.columnDef.aggregationFn])!=null?n:dt[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,s;e.setGrouping(t?[]:(n=(s=e.initialState)==null?void 0:s.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const s=t.getColumn(n);return s!=null&&s.columnDef.getGroupingValue?(e._groupingValuesCache[n]=s.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,s)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var r;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((r=n.subRows)!=null&&r.length)}}};function qo(e,t,n){if(!(t!=null&&t.length)||!n)return e;const s=e.filter(o=>!t.includes(o.id));return n==="remove"?s:[...t.map(o=>e.find(i=>i.id===o)).filter(Boolean),...s]}const Go={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:re("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=T(n=>[Ie(t,n)],n=>n.findIndex(s=>s.id===e.id),k(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var s;return((s=Ie(t,n)[0])==null?void 0:s.id)===e.id},e.getIsLastColumn=n=>{var s;const r=Ie(t,n);return((s=r[r.length-1])==null?void 0:s.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=T(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,s)=>r=>{let o=[];if(!(t!=null&&t.length))o=r;else{const i=[...t],l=[...r];for(;l.length&&i.length;){const c=i.shift(),u=l.findIndex(d=>d.id===c);u>-1&&o.push(l.splice(u,1)[0])}o=[...o,...l]}return qo(o,n,s)},k(e.options,"debugTable"))}},gt=()=>({left:[],right:[]}),Wo={getInitialState:e=>({columnPinning:gt(),...e}),getDefaultOptions:e=>({onColumnPinningChange:re("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const s=e.getLeafColumns().map(r=>r.id).filter(Boolean);t.setColumnPinning(r=>{var o,i;if(n==="right"){var l,c;return{left:((l=r==null?void 0:r.left)!=null?l:[]).filter(p=>!(s!=null&&s.includes(p))),right:[...((c=r==null?void 0:r.right)!=null?c:[]).filter(p=>!(s!=null&&s.includes(p))),...s]}}if(n==="left"){var u,d;return{left:[...((u=r==null?void 0:r.left)!=null?u:[]).filter(p=>!(s!=null&&s.includes(p))),...s],right:((d=r==null?void 0:r.right)!=null?d:[]).filter(p=>!(s!=null&&s.includes(p)))}}return{left:((o=r==null?void 0:r.left)!=null?o:[]).filter(p=>!(s!=null&&s.includes(p))),right:((i=r==null?void 0:r.right)!=null?i:[]).filter(p=>!(s!=null&&s.includes(p)))}})},e.getCanPin=()=>e.getLeafColumns().some(s=>{var r,o,i;return((r=s.columnDef.enablePinning)!=null?r:!0)&&((o=(i=t.options.enableColumnPinning)!=null?i:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(l=>l.id),{left:s,right:r}=t.getState().columnPinning,o=n.some(l=>s==null?void 0:s.includes(l)),i=n.some(l=>r==null?void 0:r.includes(l));return o?"left":i?"right":!1},e.getPinnedIndex=()=>{var n,s;const r=e.getIsPinned();return r?(n=(s=t.getState().columnPinning)==null||(s=s[r])==null?void 0:s.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=T(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,s,r)=>{const o=[...s??[],...r??[]];return n.filter(i=>!o.includes(i.column.id))},k(t.options,"debugRows")),e.getLeftVisibleCells=T(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,s)=>(s??[]).map(o=>n.find(i=>i.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),k(t.options,"debugRows")),e.getRightVisibleCells=T(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,s)=>(s??[]).map(o=>n.find(i=>i.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),k(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,s;return e.setColumnPinning(t?gt():(n=(s=e.initialState)==null?void 0:s.columnPinning)!=null?n:gt())},e.getIsSomeColumnsPinned=t=>{var n;const s=e.getState().columnPinning;if(!t){var r,o;return!!((r=s.left)!=null&&r.length||(o=s.right)!=null&&o.length)}return!!((n=s[t])!=null&&n.length)},e.getLeftLeafColumns=T(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(s=>t.find(r=>r.id===s)).filter(Boolean),k(e.options,"debugColumns")),e.getRightLeafColumns=T(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(s=>t.find(r=>r.id===s)).filter(Boolean),k(e.options,"debugColumns")),e.getCenterLeafColumns=T(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,s)=>{const r=[...n??[],...s??[]];return t.filter(o=>!r.includes(o.id))},k(e.options,"debugColumns"))}};function Ko(e){return e||(typeof document<"u"?document:null)}const He={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},ht=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Jo={getDefaultColumnDef:()=>He,getInitialState:e=>({columnSizing:{},columnSizingInfo:ht(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:re("columnSizing",e),onColumnSizingInfoChange:re("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,s,r;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:He.minSize,(s=o??e.columnDef.size)!=null?s:He.size),(r=e.columnDef.maxSize)!=null?r:He.maxSize)},e.getStart=T(n=>[n,Ie(t,n),t.getState().columnSizing],(n,s)=>s.slice(0,e.getIndex(n)).reduce((r,o)=>r+o.getSize(),0),k(t.options,"debugColumns")),e.getAfter=T(n=>[n,Ie(t,n),t.getState().columnSizing],(n,s)=>s.slice(e.getIndex(n)+1).reduce((r,o)=>r+o.getSize(),0),k(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:s,...r}=n;return r})},e.getCanResize=()=>{var n,s;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((s=t.options.enableColumnResizing)!=null?s:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const s=r=>{if(r.subHeaders.length)r.subHeaders.forEach(s);else{var o;n+=(o=r.column.getSize())!=null?o:0}};return s(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const s=t.getColumn(e.column.id),r=s==null?void 0:s.getCanResize();return o=>{if(!s||!r||(o.persist==null||o.persist(),ft(o)&&o.touches&&o.touches.length>1))return;const i=e.getSize(),l=e?e.getLeafHeaders().map(S=>[S.column.id,S.column.getSize()]):[[s.id,s.getSize()]],c=ft(o)?Math.round(o.touches[0].clientX):o.clientX,u={},d=(S,R)=>{typeof R=="number"&&(t.setColumnSizingInfo(E=>{var F,P;const M=t.options.columnResizeDirection==="rtl"?-1:1,V=(R-((F=E==null?void 0:E.startOffset)!=null?F:0))*M,Z=Math.max(V/((P=E==null?void 0:E.startSize)!=null?P:0),-.999999);return E.columnSizingStart.forEach(W=>{let[v,L]=W;u[v]=Math.round(Math.max(L+L*Z,0)*100)/100}),{...E,deltaOffset:V,deltaPercentage:Z}}),(t.options.columnResizeMode==="onChange"||S==="end")&&t.setColumnSizing(E=>({...E,...u})))},p=S=>d("move",S),f=S=>{d("end",S),t.setColumnSizingInfo(R=>({...R,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},g=Ko(n),h={moveHandler:S=>p(S.clientX),upHandler:S=>{g==null||g.removeEventListener("mousemove",h.moveHandler),g==null||g.removeEventListener("mouseup",h.upHandler),f(S.clientX)}},x={moveHandler:S=>(S.cancelable&&(S.preventDefault(),S.stopPropagation()),p(S.touches[0].clientX),!1),upHandler:S=>{var R;g==null||g.removeEventListener("touchmove",x.moveHandler),g==null||g.removeEventListener("touchend",x.upHandler),S.cancelable&&(S.preventDefault(),S.stopPropagation()),f((R=S.touches[0])==null?void 0:R.clientX)}},w=Xo()?{passive:!1}:!1;ft(o)?(g==null||g.addEventListener("touchmove",x.moveHandler,w),g==null||g.addEventListener("touchend",x.upHandler,w)):(g==null||g.addEventListener("mousemove",h.moveHandler,w),g==null||g.addEventListener("mouseup",h.upHandler,w)),t.setColumnSizingInfo(S=>({...S,startOffset:c,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:s.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?ht():(n=e.initialState.columnSizingInfo)!=null?n:ht())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?t:0}}};let Ve=null;function Xo(){if(typeof Ve=="boolean")return Ve;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Ve=e,Ve}function ft(e){return e.type==="touchstart"}const Qo={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:re("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(s=>({...s,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,s;const r=e.columns;return(n=r.length?r.some(o=>o.getIsVisible()):(s=t.getState().columnVisibility)==null?void 0:s[e.id])!=null?n:!0},e.getCanHide=()=>{var n,s;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((s=t.options.enableHiding)!=null?s:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=T(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(s=>s.column.getIsVisible()),k(t.options,"debugRows")),e.getVisibleCells=T(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,s,r)=>[...n,...s,...r],k(t.options,"debugRows"))},createTable:e=>{const t=(n,s)=>T(()=>[s(),s().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),k(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var s;e.setColumnVisibility(n?{}:(s=e.initialState.columnVisibility)!=null?s:{})},e.toggleAllColumnsVisible=n=>{var s;n=(s=n)!=null?s:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((r,o)=>({...r,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var s;e.toggleAllColumnsVisible((s=n.target)==null?void 0:s.checked)}}};function Ie(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Yo={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Zo={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:re("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const s=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof s=="string"||typeof s=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,s,r,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((s=t.options.enableGlobalFilter)!=null?s:!0)&&((r=t.options.enableFilters)!=null?r:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>ce.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:s}=e.options;return st(s)?s:s==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[s])!=null?t:ce[s]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},ei={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:re("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var s,r;if(!t){e._queue(()=>{t=!0});return}if((s=(r=e.options.autoResetAll)!=null?r:e.options.autoResetExpanded)!=null?s:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=s=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(s),e.toggleAllRowsExpanded=s=>{s??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=s=>{var r,o;e.setExpanded(s?{}:(r=(o=e.initialState)==null?void 0:o.expanded)!=null?r:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(s=>s.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>s=>{s.persist==null||s.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const s=e.getState().expanded;return s===!0||Object.values(s).some(Boolean)},e.getIsAllRowsExpanded=()=>{const s=e.getState().expanded;return typeof s=="boolean"?s===!0:!(!Object.keys(s).length||e.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},e.getExpandedDepth=()=>{let s=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const i=o.split(".");s=Math.max(s,i.length)}),s},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(s=>{var r;const o=s===!0?!0:!!(s!=null&&s[e.id]);let i={};if(s===!0?Object.keys(t.getRowModel().rowsById).forEach(l=>{i[l]=!0}):i=s,n=(r=n)!=null?r:!o,!o&&n)return{...i,[e.id]:!0};if(o&&!n){const{[e.id]:l,...c}=i;return c}return s})},e.getIsExpanded=()=>{var n;const s=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:s===!0||s!=null&&s[e.id])},e.getCanExpand=()=>{var n,s,r;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((s=t.options.enableExpanding)!=null?s:!0)&&!!((r=e.subRows)!=null&&r.length)},e.getIsAllParentsExpanded=()=>{let n=!0,s=e;for(;n&&s.parentId;)s=t.getRow(s.parentId,!0),n=s.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Et=0,jt=10,pt=()=>({pageIndex:Et,pageSize:jt}),ti={getInitialState:e=>({...e,pagination:{...pt(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:re("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var s,r;if(!t){e._queue(()=>{t=!0});return}if((s=(r=e.options.autoResetAll)!=null?r:e.options.autoResetPageIndex)!=null?s:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=s=>{const r=o=>de(s,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(r)},e.resetPagination=s=>{var r;e.setPagination(s?pt():(r=e.initialState.pagination)!=null?r:pt())},e.setPageIndex=s=>{e.setPagination(r=>{let o=de(s,r.pageIndex);const i=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,i)),{...r,pageIndex:o}})},e.resetPageIndex=s=>{var r,o;e.setPageIndex(s?Et:(r=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?r:Et)},e.resetPageSize=s=>{var r,o;e.setPageSize(s?jt:(r=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?r:jt)},e.setPageSize=s=>{e.setPagination(r=>{const o=Math.max(1,de(s,r.pageSize)),i=r.pageSize*r.pageIndex,l=Math.floor(i/o);return{...r,pageIndex:l,pageSize:o}})},e.setPageCount=s=>e.setPagination(r=>{var o;let i=de(s,(o=e.options.pageCount)!=null?o:-1);return typeof i=="number"&&(i=Math.max(-1,i)),{...r,pageCount:i}}),e.getPageOptions=T(()=>[e.getPageCount()],s=>{let r=[];return s&&s>0&&(r=[...new Array(s)].fill(null).map((o,i)=>i)),r},k(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:s}=e.getState().pagination,r=e.getPageCount();return r===-1?!0:r===0?!1:s<r-1},e.previousPage=()=>e.setPageIndex(s=>s-1),e.nextPage=()=>e.setPageIndex(s=>s+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var s;return(s=e.options.pageCount)!=null?s:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var s;return(s=e.options.rowCount)!=null?s:e.getPrePaginationRowModel().rows.length}}},mt=()=>({top:[],bottom:[]}),ni={getInitialState:e=>({rowPinning:mt(),...e}),getDefaultOptions:e=>({onRowPinningChange:re("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,s,r)=>{const o=s?e.getLeafRows().map(c=>{let{id:u}=c;return u}):[],i=r?e.getParentRows().map(c=>{let{id:u}=c;return u}):[],l=new Set([...i,e.id,...o]);t.setRowPinning(c=>{var u,d;if(n==="bottom"){var p,f;return{top:((p=c==null?void 0:c.top)!=null?p:[]).filter(x=>!(l!=null&&l.has(x))),bottom:[...((f=c==null?void 0:c.bottom)!=null?f:[]).filter(x=>!(l!=null&&l.has(x))),...Array.from(l)]}}if(n==="top"){var g,h;return{top:[...((g=c==null?void 0:c.top)!=null?g:[]).filter(x=>!(l!=null&&l.has(x))),...Array.from(l)],bottom:((h=c==null?void 0:c.bottom)!=null?h:[]).filter(x=>!(l!=null&&l.has(x)))}}return{top:((u=c==null?void 0:c.top)!=null?u:[]).filter(x=>!(l!=null&&l.has(x))),bottom:((d=c==null?void 0:c.bottom)!=null?d:[]).filter(x=>!(l!=null&&l.has(x)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:s,enablePinning:r}=t.options;return typeof s=="function"?s(e):(n=s??r)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:s,bottom:r}=t.getState().rowPinning,o=n.some(l=>s==null?void 0:s.includes(l)),i=n.some(l=>r==null?void 0:r.includes(l));return o?"top":i?"bottom":!1},e.getPinnedIndex=()=>{var n,s;const r=e.getIsPinned();if(!r)return-1;const o=(n=r==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(i=>{let{id:l}=i;return l});return(s=o==null?void 0:o.indexOf(e.id))!=null?s:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,s;return e.setRowPinning(t?mt():(n=(s=e.initialState)==null?void 0:s.rowPinning)!=null?n:mt())},e.getIsSomeRowsPinned=t=>{var n;const s=e.getState().rowPinning;if(!t){var r,o;return!!((r=s.top)!=null&&r.length||(o=s.bottom)!=null&&o.length)}return!!((n=s[t])!=null&&n.length)},e._getPinnedRows=(t,n,s)=>{var r;return((r=e.options.keepPinnedRows)==null||r?(n??[]).map(i=>{const l=e.getRow(i,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(i=>t.find(l=>l.id===i))).filter(Boolean).map(i=>({...i,position:s}))},e.getTopRows=T(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),k(e.options,"debugRows")),e.getBottomRows=T(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),k(e.options,"debugRows")),e.getCenterRows=T(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,s)=>{const r=new Set([...n??[],...s??[]]);return t.filter(o=>!r.has(o.id))},k(e.options,"debugRows"))}},si={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:re("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const s={...n},r=e.getPreGroupedRowModel().flatRows;return t?r.forEach(o=>{o.getCanSelect()&&(s[o.id]=!0)}):r.forEach(o=>{delete s[o.id]}),s})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const s=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),r={...n};return e.getRowModel().rows.forEach(o=>{Nt(r,o.id,s,!0,e)}),r}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=T(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?xt(e,n):{rows:[],flatRows:[],rowsById:{}},k(e.options,"debugTable")),e.getFilteredSelectedRowModel=T(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?xt(e,n):{rows:[],flatRows:[],rowsById:{}},k(e.options,"debugTable")),e.getGroupedSelectedRowModel=T(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?xt(e,n):{rows:[],flatRows:[],rowsById:{}},k(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let s=!!(t.length&&Object.keys(n).length);return s&&t.some(r=>r.getCanSelect()&&!n[r.id])&&(s=!1),s},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:n}=e.getState();let s=!!t.length;return s&&t.some(r=>!n[r.id])&&(s=!1),s},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,s)=>{const r=e.getIsSelected();t.setRowSelection(o=>{var i;if(n=typeof n<"u"?n:!r,e.getCanSelect()&&r===n)return o;const l={...o};return Nt(l,e.id,n,(i=s==null?void 0:s.selectChildren)!=null?i:!0,t),l})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Ht(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Pt(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Pt(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return s=>{var r;n&&e.toggleSelected((r=s.target)==null?void 0:r.checked)}}}},Nt=(e,t,n,s,r)=>{var o;const i=r.getRow(t,!0);n?(i.getCanMultiSelect()||Object.keys(e).forEach(l=>delete e[l]),i.getCanSelect()&&(e[t]=!0)):delete e[t],s&&(o=i.subRows)!=null&&o.length&&i.getCanSelectSubRows()&&i.subRows.forEach(l=>Nt(e,l.id,n,s,r))};function xt(e,t){const n=e.getState().rowSelection,s=[],r={},o=function(i,l){return i.map(c=>{var u;const d=Ht(c,n);if(d&&(s.push(c),r[c.id]=c),(u=c.subRows)!=null&&u.length&&(c={...c,subRows:o(c.subRows)}),d)return c}).filter(Boolean)};return{rows:o(t.rows),flatRows:s,rowsById:r}}function Ht(e,t){var n;return(n=t[e.id])!=null?n:!1}function Pt(e,t,n){var s;if(!((s=e.subRows)!=null&&s.length))return!1;let r=!0,o=!1;return e.subRows.forEach(i=>{if(!(o&&!r)&&(i.getCanSelect()&&(Ht(i,t)?o=!0:r=!1),i.subRows&&i.subRows.length)){const l=Pt(i,t);l==="all"?o=!0:(l==="some"&&(o=!0),r=!1)}}),r?"all":o?"some":!1}const It=/([0-9]+)/gm,ri=(e,t,n)=>Zn(ge(e.getValue(n)).toLowerCase(),ge(t.getValue(n)).toLowerCase()),oi=(e,t,n)=>Zn(ge(e.getValue(n)),ge(t.getValue(n))),ii=(e,t,n)=>Vt(ge(e.getValue(n)).toLowerCase(),ge(t.getValue(n)).toLowerCase()),ai=(e,t,n)=>Vt(ge(e.getValue(n)),ge(t.getValue(n))),li=(e,t,n)=>{const s=e.getValue(n),r=t.getValue(n);return s>r?1:s<r?-1:0},ci=(e,t,n)=>Vt(e.getValue(n),t.getValue(n));function Vt(e,t){return e===t?0:e>t?1:-1}function ge(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Zn(e,t){const n=e.split(It).filter(Boolean),s=t.split(It).filter(Boolean);for(;n.length&&s.length;){const r=n.shift(),o=s.shift(),i=parseInt(r,10),l=parseInt(o,10),c=[i,l].sort();if(isNaN(c[0])){if(r>o)return 1;if(o>r)return-1;continue}if(isNaN(c[1]))return isNaN(i)?-1:1;if(i>l)return 1;if(l>i)return-1}return n.length-s.length}const Ne={alphanumeric:ri,alphanumericCaseSensitive:oi,text:ii,textCaseSensitive:ai,datetime:li,basic:ci},ui={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:re("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let s=!1;for(const r of n){const o=r==null?void 0:r.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return Ne.datetime;if(typeof o=="string"&&(s=!0,o.split(It).length>1))return Ne.alphanumeric}return s?Ne.text:Ne.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,s;if(!e)throw new Error;return st(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(s=t.options.sortingFns)==null?void 0:s[e.columnDef.sortingFn])!=null?n:Ne[e.columnDef.sortingFn]},e.toggleSorting=(n,s)=>{const r=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(i=>{const l=i==null?void 0:i.find(g=>g.id===e.id),c=i==null?void 0:i.findIndex(g=>g.id===e.id);let u=[],d,p=o?n:r==="desc";if(i!=null&&i.length&&e.getCanMultiSort()&&s?l?d="toggle":d="add":i!=null&&i.length&&c!==i.length-1?d="replace":l?d="toggle":d="replace",d==="toggle"&&(o||r||(d="remove")),d==="add"){var f;u=[...i,{id:e.id,desc:p}],u.splice(0,u.length-((f=t.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else d==="toggle"?u=i.map(g=>g.id===e.id?{...g,desc:p}:g):d==="remove"?u=i.filter(g=>g.id!==e.id):u=[{id:e.id,desc:p}];return u})},e.getFirstSortDir=()=>{var n,s;return((n=(s=e.columnDef.sortDescFirst)!=null?s:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var s,r;const o=e.getFirstSortDir(),i=e.getIsSorted();return i?i!==o&&((s=t.options.enableSortingRemoval)==null||s)&&(!(n&&(r=t.options.enableMultiRemove)!=null)||r)?!1:i==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,s;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((s=t.options.enableSorting)!=null?s:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,s;return(n=(s=e.columnDef.enableMultiSort)!=null?s:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const s=(n=t.getState().sorting)==null?void 0:n.find(r=>r.id===e.id);return s?s.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,s;return(n=(s=t.getState().sorting)==null?void 0:s.findIndex(r=>r.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(s=>s.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return s=>{n&&(s.persist==null||s.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(s):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,s;e.setSorting(t?[]:(n=(s=e.initialState)==null?void 0:s.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},di=[ko,Qo,Go,Wo,Fo,Ao,Yo,Zo,ui,Uo,ei,ti,ni,si,Jo];function gi(e){var t,n;const s=[...di,...(t=e._features)!=null?t:[]];let r={_features:s};const o=r._features.reduce((f,g)=>Object.assign(f,g.getDefaultOptions==null?void 0:g.getDefaultOptions(r)),{}),i=f=>r.options.mergeOptions?r.options.mergeOptions(o,f):{...o,...f};let c={...{},...(n=e.initialState)!=null?n:{}};r._features.forEach(f=>{var g;c=(g=f.getInitialState==null?void 0:f.getInitialState(c))!=null?g:c});const u=[];let d=!1;const p={_features:s,options:{...o,...e},initialState:c,_queue:f=>{u.push(f),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{r.setState(r.initialState)},setOptions:f=>{const g=de(f,r.options);r.options=i(g)},getState:()=>r.options.state,setState:f=>{r.options.onStateChange==null||r.options.onStateChange(f)},_getRowId:(f,g,h)=>{var x;return(x=r.options.getRowId==null?void 0:r.options.getRowId(f,g,h))!=null?x:`${h?[h.id,g].join("."):g}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(f,g)=>{let h=(g?r.getPrePaginationRowModel():r.getRowModel()).rowsById[f];if(!h&&(h=r.getCoreRowModel().rowsById[f],!h))throw new Error;return h},_getDefaultColumnDef:T(()=>[r.options.defaultColumn],f=>{var g;return f=(g=f)!=null?g:{},{header:h=>{const x=h.header.column.columnDef;return x.accessorKey?x.accessorKey:x.accessorFn?x.id:null},cell:h=>{var x,w;return(x=(w=h.renderValue())==null||w.toString==null?void 0:w.toString())!=null?x:null},...r._features.reduce((h,x)=>Object.assign(h,x.getDefaultColumnDef==null?void 0:x.getDefaultColumnDef()),{}),...f}},k(e,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:T(()=>[r._getColumnDefs()],f=>{const g=function(h,x,w){return w===void 0&&(w=0),h.map(S=>{const R=To(r,S,w,x),E=S;return R.columns=E.columns?g(E.columns,R,w+1):[],R})};return g(f)},k(e,"debugColumns")),getAllFlatColumns:T(()=>[r.getAllColumns()],f=>f.flatMap(g=>g.getFlatColumns()),k(e,"debugColumns")),_getAllFlatColumnsById:T(()=>[r.getAllFlatColumns()],f=>f.reduce((g,h)=>(g[h.id]=h,g),{}),k(e,"debugColumns")),getAllLeafColumns:T(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(f,g)=>{let h=f.flatMap(x=>x.getLeafColumns());return g(h)},k(e,"debugColumns")),getColumn:f=>r._getAllFlatColumnsById()[f]};Object.assign(r,p);for(let f=0;f<r._features.length;f++){const g=r._features[f];g==null||g.createTable==null||g.createTable(r)}return r}function hi(){return e=>T(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},s=function(r,o,i){o===void 0&&(o=0);const l=[];for(let u=0;u<r.length;u++){const d=Lt(e,e._getRowId(r[u],u,i),r[u],u,o,void 0,i==null?void 0:i.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,l.push(d),e.options.getSubRows){var c;d.originalSubRows=e.options.getSubRows(r[u],u),(c=d.originalSubRows)!=null&&c.length&&(d.subRows=s(d.originalSubRows,o+1,d))}}return l};return n.rows=s(t),n},k(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function fi(e){const t=[],n=s=>{var r;t.push(s),(r=s.subRows)!=null&&r.length&&s.getIsExpanded()&&s.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function pi(e,t,n){return n.options.filterFromLeafRows?mi(e,t,n):xi(e,t,n)}function mi(e,t,n){var s;const r=[],o={},i=(s=n.options.maxLeafRowFilterDepth)!=null?s:100,l=function(c,u){u===void 0&&(u=0);const d=[];for(let f=0;f<c.length;f++){var p;let g=c[f];const h=Lt(n,g.id,g.original,g.index,g.depth,void 0,g.parentId);if(h.columnFilters=g.columnFilters,(p=g.subRows)!=null&&p.length&&u<i){if(h.subRows=l(g.subRows,u+1),g=h,t(g)&&!h.subRows.length){d.push(g),o[g.id]=g,r.push(g);continue}if(t(g)||h.subRows.length){d.push(g),o[g.id]=g,r.push(g);continue}}else g=h,t(g)&&(d.push(g),o[g.id]=g,r.push(g))}return d};return{rows:l(e),flatRows:r,rowsById:o}}function xi(e,t,n){var s;const r=[],o={},i=(s=n.options.maxLeafRowFilterDepth)!=null?s:100,l=function(c,u){u===void 0&&(u=0);const d=[];for(let f=0;f<c.length;f++){let g=c[f];if(t(g)){var p;if((p=g.subRows)!=null&&p.length&&u<i){const x=Lt(n,g.id,g.original,g.index,g.depth,void 0,g.parentId);x.subRows=l(g.subRows,u+1),g=x}d.push(g),r.push(g),o[g.id]=g}}return d};return{rows:l(e),flatRows:r,rowsById:o}}function wi(){return e=>T(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,s)=>{if(!t.rows.length||!(n!=null&&n.length)&&!s){for(let f=0;f<t.flatRows.length;f++)t.flatRows[f].columnFilters={},t.flatRows[f].columnFiltersMeta={};return t}const r=[],o=[];(n??[]).forEach(f=>{var g;const h=e.getColumn(f.id);if(!h)return;const x=h.getFilterFn();x&&r.push({id:f.id,filterFn:x,resolvedValue:(g=x.resolveFilterValue==null?void 0:x.resolveFilterValue(f.value))!=null?g:f.value})});const i=(n??[]).map(f=>f.id),l=e.getGlobalFilterFn(),c=e.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());s&&l&&c.length&&(i.push("__global__"),c.forEach(f=>{var g;o.push({id:f.id,filterFn:l,resolvedValue:(g=l.resolveFilterValue==null?void 0:l.resolveFilterValue(s))!=null?g:s})}));let u,d;for(let f=0;f<t.flatRows.length;f++){const g=t.flatRows[f];if(g.columnFilters={},r.length)for(let h=0;h<r.length;h++){u=r[h];const x=u.id;g.columnFilters[x]=u.filterFn(g,x,u.resolvedValue,w=>{g.columnFiltersMeta[x]=w})}if(o.length){for(let h=0;h<o.length;h++){d=o[h];const x=d.id;if(d.filterFn(g,x,d.resolvedValue,w=>{g.columnFiltersMeta[x]=w})){g.columnFilters.__global__=!0;break}}g.columnFilters.__global__!==!0&&(g.columnFilters.__global__=!1)}}const p=f=>{for(let g=0;g<i.length;g++)if(f.columnFilters[i[g]]===!1)return!1;return!0};return pi(t.rows,p,e)},k(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function yi(e){return t=>T(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,s)=>{if(!s.rows.length)return s;const{pageSize:r,pageIndex:o}=n;let{rows:i,flatRows:l,rowsById:c}=s;const u=r*o,d=u+r;i=i.slice(u,d);let p;t.options.paginateExpandedRows?p={rows:i,flatRows:l,rowsById:c}:p=fi({rows:i,flatRows:l,rowsById:c}),p.flatRows=[];const f=g=>{p.flatRows.push(g),g.subRows.length&&g.subRows.forEach(f)};return p.rows.forEach(f),p},k(t.options,"debugTable"))}function _i(){return e=>T(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const s=e.getState().sorting,r=[],o=s.filter(c=>{var u;return(u=e.getColumn(c.id))==null?void 0:u.getCanSort()}),i={};o.forEach(c=>{const u=e.getColumn(c.id);u&&(i[c.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const l=c=>{const u=c.map(d=>({...d}));return u.sort((d,p)=>{for(let g=0;g<o.length;g+=1){var f;const h=o[g],x=i[h.id],w=x.sortUndefined,S=(f=h==null?void 0:h.desc)!=null?f:!1;let R=0;if(w){const E=d.getValue(h.id),F=p.getValue(h.id),P=E===void 0,M=F===void 0;if(P||M){if(w==="first")return P?-1:1;if(w==="last")return P?1:-1;R=P&&M?0:P?w:-w}}if(R===0&&(R=x.sortingFn(d,p,h.id)),R!==0)return S&&(R*=-1),x.invertSorting&&(R*=-1),R}return d.index-p.index}),u.forEach(d=>{var p;r.push(d),(p=d.subRows)!=null&&p.length&&(d.subRows=l(d.subRows))}),u};return{rows:l(n.rows),flatRows:r,rowsById:n.rowsById}},k(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function gn(e,t){return e?Si(e)?j.createElement(e,t):e:null}function Si(e){return bi(e)||typeof e=="function"||vi(e)}function bi(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function vi(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function Ci(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=j.useState(()=>({current:gi(t)})),[s,r]=j.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...s,...e.state},onStateChange:i=>{r(i),e.onStateChange==null||e.onStateChange(i)}})),n.current}function wt({data:e,columns:t,title:n,subtitle:s,isLoading:r=!1,error:o=null,searchPlaceholder:i="Search...",emptyStateIcon:l="📊",emptyStateMessage:c="No data available",emptyStateSubMessage:u="Data will appear here when available",colorTheme:d="blue"}){const[p,f]=j.useState([]),[g,h]=j.useState([]),[x,w]=j.useState(""),S=Ci({data:e,columns:t,onSortingChange:f,onColumnFiltersChange:h,onGlobalFilterChange:w,getCoreRowModel:hi(),getPaginationRowModel:yi(),getSortedRowModel:_i(),getFilteredRowModel:wi(),state:{sorting:p,columnFilters:g,globalFilter:x},initialState:{pagination:{pageSize:10}}}),E={purple:{header:"text-purple-600",headerBg:"bg-purple-50",border:"border-purple-200",button:"bg-purple-600 hover:bg-purple-700 text-white",buttonOutline:"border-purple-600 text-purple-600 hover:bg-purple-50",accent:"text-purple-500"},blue:{header:"text-blue-600",headerBg:"bg-blue-50",border:"border-blue-200",button:"bg-blue-600 hover:bg-blue-700 text-white",buttonOutline:"border-blue-600 text-blue-600 hover:bg-blue-50",accent:"text-blue-500"},green:{header:"text-green-600",headerBg:"bg-green-50",border:"border-green-200",button:"bg-green-600 hover:bg-green-700 text-white",buttonOutline:"border-green-600 text-green-600 hover:bg-green-50",accent:"text-green-500"}}[d];return r?a.jsx("div",{className:"card",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`h-6 ${E.headerBg} rounded w-48`}),a.jsx("div",{className:`h-4 ${E.headerBg} rounded w-24`})]}),a.jsx("div",{className:`h-10 ${E.headerBg} rounded mb-4`}),a.jsx("div",{className:"space-y-3",children:[...Array(5)].map((F,P)=>a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded flex-1"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]},P))})]})}):o?a.jsx("div",{className:"card",children:a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-red-800 font-medium text-sm",children:["❌ ",o]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 text-xs text-red-700 hover:text-red-900 underline",children:"Try Again"})]})})}):a.jsxs("div",{className:"card",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:`text-lg font-semibold ${E.header} flex items-center`,children:n}),s&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[e.length," ",e.length===1?"record":"records"]})]}),e.length>0&&a.jsx("div",{className:"mb-4",children:a.jsx("input",{placeholder:i,value:x??"",onChange:F=>w(F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),e.length===0?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx("div",{className:"text-3xl mb-2",children:l}),a.jsx("p",{className:"text-sm font-medium text-gray-800 mb-1",children:c}),a.jsx("p",{className:"text-xs text-gray-500",children:u})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:E.headerBg,children:S.getHeaderGroups().map(F=>a.jsx("tr",{children:F.headers.map(P=>a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:P.column.getToggleSortingHandler(),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("span",{children:P.isPlaceholder?null:gn(P.column.columnDef.header,P.getContext())}),P.column.getCanSort()&&a.jsx("span",{className:"text-gray-400",children:{asc:"↑",desc:"↓"}[P.column.getIsSorted()]??"↕️"})]})},P.id))},F.id))}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.getRowModel().rows.map(F=>a.jsx("tr",{className:"hover:bg-gray-50",children:F.getVisibleCells().map(P=>a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:gn(P.column.columnDef.cell,P.getContext())},P.id))},F.id))})]})}),S.getPageCount()>1&&a.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>S.setPageIndex(0),disabled:!S.getCanPreviousPage(),className:`px-3 py-1 text-sm border rounded ${S.getCanPreviousPage()?E.buttonOutline:"border-gray-300 text-gray-400 cursor-not-allowed"}`,children:"<<"}),a.jsx("button",{onClick:()=>S.previousPage(),disabled:!S.getCanPreviousPage(),className:`px-3 py-1 text-sm border rounded ${S.getCanPreviousPage()?E.buttonOutline:"border-gray-300 text-gray-400 cursor-not-allowed"}`,children:"<"}),a.jsx("button",{onClick:()=>S.nextPage(),disabled:!S.getCanNextPage(),className:`px-3 py-1 text-sm border rounded ${S.getCanNextPage()?E.buttonOutline:"border-gray-300 text-gray-400 cursor-not-allowed"}`,children:">"}),a.jsx("button",{onClick:()=>S.setPageIndex(S.getPageCount()-1),disabled:!S.getCanNextPage(),className:`px-3 py-1 text-sm border rounded ${S.getCanNextPage()?E.buttonOutline:"border-gray-300 text-gray-400 cursor-not-allowed"}`,children:">>"})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[a.jsxs("span",{children:["Page ",S.getState().pagination.pageIndex+1," of ",S.getPageCount()]}),a.jsx("span",{children:"|"}),a.jsxs("span",{children:[S.getFilteredRowModel().rows.length," total records"]})]})]})]})]})}const Ri=[{id:"rank",header:"Rank",cell:({row:e})=>a.jsx("div",{className:"flex items-center",children:a.jsxs("span",{className:"font-bold text-purple-600",children:["#",e.index+1]})}),enableSorting:!1},{accessorKey:"name",header:"Participant Name",cell:({row:e})=>a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.getValue("name")}),a.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",(e.original.ipHash||"").substring(0,8),"..."]})]})},{accessorKey:"score",header:"Score",cell:({row:e})=>{const n=e.getValue("score")/10*100;return a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[n.toFixed(0),"%"]}),a.jsx("div",{className:"text-xs text-gray-500",children:"quiz score"})]})},sortingFn:"basic"},{accessorKey:"lastActive",header:"Last Active",cell:({row:e})=>a.jsx("div",{className:"text-sm text-gray-600",children:new Date(e.getValue("lastActive")).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),sortingFn:(e,t)=>{const n=new Date(e.getValue("lastActive")).getTime(),s=new Date(t.getValue("lastActive")).getTime();return n-s}}],Ei=[{id:"rank",header:"Rank",cell:({row:e})=>a.jsxs("div",{className:"flex items-center",children:[e.index===0&&a.jsx("span",{className:"text-yellow-500 mr-1",children:"🏆"}),e.index===1&&a.jsx("span",{className:"text-gray-400 mr-1",children:"🥈"}),e.index===2&&a.jsx("span",{className:"text-amber-600 mr-1",children:"🥉"}),a.jsxs("span",{className:"font-bold text-blue-600",children:["#",e.index+1]})]}),enableSorting:!1},{accessorKey:"name",header:"Player Name",cell:({row:e})=>a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.getValue("name")}),a.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",(e.original.ipHash||"").substring(0,8),"..."]})]})},{accessorKey:"score",header:"High Score",cell:({row:e})=>{var t;return a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-lg font-bold text-blue-600",children:((t=e.getValue("score"))==null?void 0:t.toLocaleString())||"0"}),a.jsx("div",{className:"text-xs text-gray-500",children:"points"})]})},sortingFn:"basic"},{accessorKey:"lastActive",header:"Last Played",cell:({row:e})=>a.jsx("div",{className:"text-sm text-gray-600",children:new Date(e.getValue("lastActive")).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),sortingFn:(e,t)=>{const n=new Date(e.getValue("lastActive")).getTime(),s=new Date(t.getValue("lastActive")).getTime();return n-s}}],ji=[{id:"rank",header:"Rank",cell:({row:e})=>a.jsx("div",{className:"flex items-center",children:a.jsxs("span",{className:"font-bold text-green-600",children:["#",e.index+1]})}),enableSorting:!1},{accessorKey:"name",header:"Contributor",cell:({row:e})=>a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.getValue("name")}),a.jsx("div",{className:"text-xs text-gray-500 truncate max-w-40",children:e.original.activity})]})},{accessorKey:"score",header:"Likes",cell:({row:e})=>a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold text-green-600",children:["❤️ ",e.getValue("score")]}),a.jsx("div",{className:"text-xs text-gray-500",children:"likes"})]}),sortingFn:"basic"},{accessorKey:"lastActive",header:"Last Active",cell:({row:e})=>a.jsx("div",{className:"text-sm text-gray-600",children:new Date(e.getValue("lastActive")).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),sortingFn:(e,t)=>{const n=new Date(e.getValue("lastActive")).getTime(),s=new Date(t.getValue("lastActive")).getTime();return n-s}}],es=fn.memo(()=>{const{latestAnalyticsUpdate:e}=Us(),t=j.useMemo(()=>({quiz:{queryKey:["analytics-quiz-participants"],queryFn:ct.getQuizParticipants,refetchInterval:5e3,retry:2,staleTime:0},game:{queryKey:["analytics-game-participants"],queryFn:ct.getGameParticipants,refetchInterval:3e3,retry:2,staleTime:0},tips:{queryKey:["analytics-tips-contributors"],queryFn:ct.getTipsContributors,refetchInterval:1e4,retry:2,staleTime:0}}),[]),{data:n,isLoading:s,isFetching:r,error:o}=ye(t.quiz),{data:i,isLoading:l,isFetching:c,error:u}=ye(t.game),{data:d,isLoading:p,isFetching:f,error:g}=ye(t.tips),h=j.useMemo(()=>({quiz:(n||[]).length,game:(i||[]).length,tips:(d||[]).length}),[n,i,d]),x=j.useMemo(()=>r&&!s||c&&!l||f&&!p,[r,s,c,l,f,p]),w=j.useMemo(()=>e?new Date(e.timestamp).toLocaleTimeString():null,[e]);return a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"📊 Live Analytics Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Real-time insights into demo usage and performance. Data updates every few seconds for live demo experience."}),w&&a.jsxs("div",{className:"mt-2 text-sm text-green-600",children:["🔴 Live • Last update: ",w]})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsx(wt,{data:n||[],columns:Ri,title:"🧠 Quiz Analytics",subtitle:`${h.quiz} participants tracked • Updates every 5s`,isLoading:s,error:(o==null?void 0:o.message)||null,searchPlaceholder:"Search participants...",emptyStateIcon:"🤔",emptyStateMessage:"No quiz data yet",emptyStateSubMessage:"Complete a quiz to see analytics",colorTheme:"purple"}),a.jsx(wt,{data:i||[],columns:Ei,title:"🚀 Game Leaderboard",subtitle:`${h.game} high scores tracked • Updates every 3s`,isLoading:l,error:(u==null?void 0:u.message)||null,searchPlaceholder:"Search players...",emptyStateIcon:"🎮",emptyStateMessage:"No game scores yet",emptyStateSubMessage:"Play the spaceship game to see scores",colorTheme:"blue"}),a.jsx(wt,{data:d||[],columns:ji,title:"💡 Tips Contributors",subtitle:`${h.tips} contributors tracked • Updates every 10s`,isLoading:p,error:(g==null?void 0:g.message)||null,searchPlaceholder:"Search contributors...",emptyStateIcon:"💭",emptyStateMessage:"No tips data yet",emptyStateSubMessage:"Create tips to see analytics",colorTheme:"green"})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{children:"📡 Real-time via SignalR"}),a.jsx("span",{children:"🔄 Fast auto-refresh for demo"}),a.jsx("span",{children:"⚡ Sortable & Searchable"})]}),x?a.jsxs("div",{className:"text-blue-600 flex items-center",children:[a.jsx("span",{className:"animate-spin mr-2",children:"⟳"}),"Updating data..."]}):a.jsx("div",{className:"text-green-600",children:"✓ Data current"})]})})]})});es.displayName="Analytics";const Ni=()=>"/api",Pe=Ni(),ze={createSession:async(e,t)=>{const n=await fetch(`${Pe}/sessions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:`${e} (${t})`})});if(!n.ok){const l=await n.text();throw new Error(`Failed to create session: ${l}`)}const s=await n.json(),r=parseInt(n.headers.get("X-Quiz-Attempts")||"0"),o=n.headers.get("X-Can-Take-Quiz")==="true",i=parseInt(n.headers.get("X-Max-Quiz-Attempts")||"3");return{session:s,quizAttempts:r,canTakeQuiz:o,maxAttempts:i}},getQuestions:async()=>{const e=await fetch(`${Pe}/quiz/questions`);if(!e.ok){const t=await e.text();throw new Error(`Failed to fetch questions: ${t}`)}return e.json()},submitQuiz:async e=>{const t=await fetch(`${Pe}/quiz/submit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.text();throw new Error(`Failed to submit quiz: ${n}`)}return t.json()},getSession:async e=>{const t=await fetch(`${Pe}/sessions/${e}`);if(!t.ok){const n=await t.text();throw new Error(`Failed to get session: ${n}`)}return t.json()}},Pi=["Software Engineer","Senior Software Engineer","Software Specialist","Senior Software Specialist","Software Tech Lead","Senior Tech Lead","Dev Manager","Senior Dev Manager","Principal Dev Manager","Cursor Expert","AI First Crew"],Ii=()=>{const e=is(),t=as(),n=[{path:"/",label:"🧠 AI Quiz",color:"from-purple-500 to-blue-500"},{path:"/game",label:"🎮 Spaceship Game",color:"from-orange-500 to-red-500"},{path:"/tips",label:"💡 Tips & Tricks",color:"from-green-500 to-teal-500"},{path:"/analytics",label:"📊 Analytics",color:"from-indigo-500 to-purple-500"}];return a.jsx("nav",{className:"bg-white/90 backdrop-blur-sm shadow-lg rounded-2xl p-4 mb-6",children:a.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:n.map(s=>a.jsx("button",{onClick:()=>t(s.path),className:`px-6 py-3 rounded-xl font-medium transition-all duration-200 transform hover:scale-105 ${e.pathname===s.path?`bg-gradient-to-r ${s.color} text-white shadow-lg`:"text-gray-600 hover:bg-gray-100 hover:text-gray-800"}`,children:s.label},s.path))})})},Ti=()=>a.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-100 to-purple-100 animate-gradient-xy"}),a.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-gradient-to-br from-blue-200/30 to-purple-200/30 rounded-full blur-xl animate-float-slow"}),a.jsx("div",{className:"absolute top-40 right-20 w-24 h-24 bg-gradient-to-br from-green-200/30 to-teal-200/30 rounded-full blur-lg animate-float-medium"}),a.jsx("div",{className:"absolute bottom-20 left-20 w-40 h-40 bg-gradient-to-br from-purple-200/20 to-pink-200/20 rounded-full blur-2xl animate-float-fast"}),a.jsx("div",{className:"absolute bottom-40 right-40 w-20 h-20 bg-gradient-to-br from-orange-200/30 to-red-200/30 rounded-full blur-md animate-float-slow"}),a.jsx("div",{className:"absolute inset-0 bg-grid-white/10 bg-[size:50px_50px] opacity-20"}),a.jsx("div",{className:"absolute inset-0 bg-noise opacity-5"})]}),ki=({children:e})=>a.jsxs("div",{className:"min-h-screen relative",children:[a.jsx(Ti,{}),a.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-6 max-w-6xl",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-600 via-blue-600 to-indigo-600 bg-clip-text text-transparent mb-2",children:"🚀 AI First Demo"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Showcase of AI-First Development with Cursor"})]}),a.jsx(Ii,{}),a.jsx("main",{children:e})]})]}),hn=()=>{var ue,Re;const[e,t]=j.useState(null),[n,s]=j.useState(0),[r,o]=j.useState({}),[i,l]=j.useState(!1),[c,u]=j.useState(!0),[d,p]=j.useState(""),[f,g]=j.useState(""),[h,x]=j.useState(0),[w,S]=j.useState(!0),[R,E]=j.useState(3),[F,P]=j.useState({}),[M,V]=j.useState({}),Z=Tt();j.useEffect(()=>{(()=>{const G=localStorage.getItem("userName");G&&p(G);const Me=navigator.userAgent,ts=navigator.platform;Me.includes("Windows")&&ts.includes("Win")?g("Software Engineer"):Me.includes("Mac")&&g("Senior Software Engineer")})();const D=localStorage.getItem("quizSessionId");D&&ze.getSession(D).then(G=>{t(G),u(!1),G.hasCompletedQuiz&&l(!0)}).catch(()=>{localStorage.removeItem("quizSessionId")})},[]);const W=_e({mutationFn:({name:N,title:D})=>ze.createSession(N,D),onSuccess:N=>{t(N.session),x(N.quizAttempts),S(N.canTakeQuiz),E(N.maxAttempts),u(!1),localStorage.setItem("quizSessionId",N.session.sessionId),localStorage.setItem("userName",d)},onError:N=>{console.error("Session creation failed:",N)}}),{data:v=[],isLoading:L}=ye({queryKey:["questions"],queryFn:ze.getQuestions,enabled:!!e&&!e.hasCompletedQuiz}),ee=_e({mutationFn:ze.submitQuiz,onSuccess:N=>{l(!0),Z.invalidateQueries({queryKey:["session",e==null?void 0:e.sessionId]})},onError:N=>{console.error("Quiz submission failed:",N),(N.message.includes("limit reached")||N.message.includes("attempts"))&&(u(!0),t(null),localStorage.removeItem("quizSessionId"))}}),De=()=>{d.trim()&&f&&W.mutate({name:d.trim(),title:f})},_=(N,D)=>{o(G=>({...G,[N]:D}))},b=()=>{if(n<v.length-1)s(N=>N+1);else if(e){const N={sessionId:e.sessionId,answers:v.map(D=>({questionId:D.id,selectedAnswer:r[D.id]||""}))};ee.mutate(N)}},C=()=>{n>0&&s(N=>N-1)},Y=()=>{localStorage.removeItem("quizSessionId"),t(null),s(0),o({}),l(!1),u(!0),P({}),V({})},K=async N=>{if(!(F[N]||M[N])){V(D=>({...D,[N]:!0}));try{const D=await fetch(`${Pe}/quiz/hint/${N}`);if(D.ok){const G=await D.json();P(Me=>({...Me,[N]:G.hint}))}else P(G=>({...G,[N]:"Hints are not available for this question to maintain scoring integrity."}))}catch(D){console.error("Error fetching hint:",D),P(G=>({...G,[N]:"Sorry, couldn't load hint at this time."}))}finally{V(D=>({...D,[N]:!1}))}}};if(c)return a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 border border-white/20",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🧠"}),a.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"AI Quiz Challenge"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Test your knowledge of AI-First development with Cursor and Windsurf!"}),h>0&&a.jsxs("div",{className:`mt-4 p-4 rounded-xl ${w?"bg-blue-50 border border-blue-200":"bg-red-50 border border-red-200"}`,children:[a.jsxs("p",{className:`text-sm font-medium ${w?"text-blue-800":"text-red-800"}`,children:["📊 Quiz Attempts Today: ",h,"/",R]}),!w&&a.jsx("p",{className:"text-red-600 text-sm mt-2",children:"⏰ You've reached your daily limit. Please try again tomorrow!"})]})]}),W.isError&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:a.jsxs("p",{className:"text-red-800 text-sm font-medium",children:["❌ Error: ",((ue=W.error)==null?void 0:ue.message)||"Failed to start quiz"]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"👤 Your Name"}),a.jsx("input",{type:"text",value:d,onChange:N=>p(N.target.value),placeholder:"Enter your name...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",maxLength:50,disabled:!w})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"💼 Your Role"}),a.jsxs("select",{value:f,onChange:N=>g(N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:!w,children:[a.jsx("option",{value:"",children:"Select your role..."}),Pi.map(N=>a.jsx("option",{value:N,children:N},N))]})]}),a.jsx("button",{onClick:De,disabled:!d.trim()||!f||W.isPending||!w,className:`w-full font-bold py-4 px-6 rounded-xl transform hover:scale-105 transition-all duration-200 shadow-lg ${w?"bg-gradient-to-r from-purple-500 to-blue-500 text-white hover:from-purple-600 hover:to-blue-600 disabled:opacity-50 disabled:cursor-not-allowed":"bg-gray-400 text-gray-600 cursor-not-allowed"}`,children:w?W.isPending?"🔄 Starting...":"🎯 Start Quiz!":"🚫 Daily Limit Reached"}),d&&f&&w&&a.jsx("p",{className:"text-xs text-gray-500 text-center",children:"💡 Auto-detected info? Feel free to change it!"}),!w&&a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"🎮 While you wait, try our other features:"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[a.jsx("button",{onClick:()=>window.location.href="/game",className:"px-4 py-2 bg-orange-100 text-orange-800 rounded-lg text-sm hover:bg-orange-200 transition-colors",children:"🚀 Spaceship Game"}),a.jsx("button",{onClick:()=>window.location.href="/tips",className:"px-4 py-2 bg-green-100 text-green-800 rounded-lg text-sm hover:bg-green-200 transition-colors",children:"💡 Tips & Tricks"}),a.jsx("button",{onClick:()=>window.location.href="/analytics",className:"px-4 py-2 bg-blue-100 text-blue-800 rounded-lg text-sm hover:bg-blue-200 transition-colors",children:"📊 Analytics"})]})]})]})]})});if(L)return a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-12 border border-white/20",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-purple-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"🔄 Loading Quiz Questions..."})]})});if(i||e!=null&&e.hasCompletedQuiz){const N=ee.data;return a.jsx("div",{className:"max-w-3xl mx-auto",children:a.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl p-8 border border-white/20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🎉"}),a.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Quiz Completed!"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:["Well done, ",a.jsx("span",{className:"font-bold text-purple-600",children:e==null?void 0:e.name}),"!"]}),N&&a.jsxs("div",{className:"mb-8 text-left",children:[a.jsxs("div",{className:"bg-purple-50 p-6 rounded-xl mb-6 border border-purple-200",children:[a.jsx("h3",{className:"text-2xl font-semibold text-purple-700 mb-4",children:"Your Score:"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:N.score}),a.jsx("p",{className:"text-sm text-purple-500",children:"Correct"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-bold text-gray-700",children:N.totalQuestions}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total"})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[N.percentage.toFixed(0),"%"]}),a.jsx("p",{className:"text-sm text-purple-500",children:"Percentage"})]})]})]}),a.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Detailed Results:"}),a.jsx("div",{className:"space-y-6",children:N.results.map((D,G)=>a.jsxs("div",{className:`p-6 rounded-xl border ${D.isCorrect?"border-green-300 bg-green-50":"border-red-300 bg-red-50"}`,children:[a.jsxs("p",{className:"font-semibold text-gray-700 mb-2",children:[a.jsxs("span",{className:"mr-2",children:[G+1,"."]}),D.questionText]}),a.jsxs("p",{className:`text-sm mb-1 ${D.isCorrect?"text-green-700":"text-red-700"}`,children:["Your answer: ",a.jsx("span",{className:"font-medium",children:D.selectedAnswer||"Not answered"}),D.isCorrect?a.jsx("span",{className:"ml-2",children:"✅ Correct"}):a.jsx("span",{className:"ml-2",children:"❌ Incorrect"})]}),!D.isCorrect&&a.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Correct answer: ",a.jsx("span",{className:"font-medium text-green-700",children:D.correctAnswer})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-300/50",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1 font-medium",children:"AI Explanation:"}),a.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:D.explanation})]})]},G))}),N.aiAnalysis&&a.jsxs("div",{className:"mt-8 p-6 bg-blue-50 border border-blue-200 rounded-xl",children:[a.jsx("h4",{className:"text-xl font-semibold text-blue-700 mb-3",children:"💡 AI Performance Analysis:"}),a.jsx("p",{className:"text-sm text-blue-600 leading-relaxedwhitespace-pre-line",children:N.aiAnalysis})]}),N.recommendations&&N.recommendations.length>0&&a.jsxs("div",{className:"mt-8 p-6 bg-indigo-50 border border-indigo-200 rounded-xl",children:[a.jsx("h4",{className:"text-xl font-semibold text-indigo-700 mb-3",children:"📚 AI Recommendations:"}),a.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-indigo-600",children:N.recommendations.map((D,G)=>a.jsx("li",{children:D},G))})]})]}),a.jsx("button",{onClick:Y,className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white font-bold py-3 px-8 rounded-xl hover:from-purple-600 hover:to-blue-600 transform hover:scale-105 transition-all duration-200 shadow-lg",children:"🔄 Take Quiz Again (New Session)"})]})})})}const I=v[n],Ce=(n+1)/v.length*100;return a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-2",children:a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-3 rounded-full transition-all duration-300",style:{width:`${Ce}%`}})}),a.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["Question ",n+1," of ",v.length]})]}),ee.isError&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl",children:[a.jsxs("p",{className:"text-red-800 text-sm font-medium",children:["❌ Quiz Submission Error: ",((Re=ee.error)==null?void 0:Re.message)||"Failed to submit quiz"]}),a.jsx("p",{className:"text-red-600 text-xs mt-1",children:"Please try again or start a new session if you've reached your daily limit."})]}),a.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-8 mb-6 border border-white/20",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("span",{className:"inline-block bg-purple-100 text-purple-800 text-xs font-semibold px-3 py-1 rounded-full",children:[I==null?void 0:I.category," • ",I==null?void 0:I.difficulty]}),a.jsx("button",{onClick:()=>K((I==null?void 0:I.id)||""),disabled:M[(I==null?void 0:I.id)||""]||!!F[(I==null?void 0:I.id)||""],className:"bg-yellow-100 hover:bg-yellow-200 text-yellow-800 text-xs font-semibold px-3 py-1 rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:M[(I==null?void 0:I.id)||""]?"🔄 Loading...":F[(I==null?void 0:I.id)||""]?"💡 Hint Shown":"💡 Get Hint"})]}),a.jsx("h3",{className:"text-xl font-bold text-gray-800 leading-relaxed",children:I==null?void 0:I.text})]}),F[(I==null?void 0:I.id)||""]&&a.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-yellow-600 text-lg",children:"💡"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-yellow-800 font-medium text-sm mb-1",children:"AI Hint:"}),a.jsx("p",{className:"text-yellow-700 text-sm",children:F[(I==null?void 0:I.id)||""]})]})]})}),a.jsx("div",{className:"space-y-3",children:I==null?void 0:I.options.map((N,D)=>a.jsxs("button",{onClick:()=>_(I.id,N),className:`w-full p-4 text-left rounded-xl border-2 transition-all duration-200 ${r[I.id]===N?"border-purple-500 bg-purple-50 text-purple-800":"border-gray-200 hover:border-purple-300 hover:bg-purple-25"}`,children:[a.jsxs("span",{className:"font-medium",children:[String.fromCharCode(65+D),"."]})," ",N]},D))})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("button",{onClick:C,disabled:n===0,className:"bg-gray-500 text-white font-bold py-3 px-6 rounded-xl hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:"← Previous"}),a.jsxs("span",{className:"text-gray-600 font-medium",children:[n+1," / ",v.length]}),a.jsx("button",{onClick:b,disabled:!r[I==null?void 0:I.id]||ee.isPending,className:"bg-gradient-to-r from-purple-500 to-blue-500 text-white font-bold py-3 px-6 rounded-xl hover:from-purple-600 hover:to-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:n===v.length-1?ee.isPending?"🔄 Submitting...":"🎯 Submit Quiz":"Next →"})]})]})};function Fi(){return a.jsx(ki,{children:a.jsxs(os,{children:[a.jsx(Ee,{path:"/",element:a.jsx(hn,{})}),a.jsx(Ee,{path:"/quiz",element:a.jsx(hn,{})}),a.jsx(Ee,{path:"/game",element:a.jsx(Ro,{})}),a.jsx(Ee,{path:"/tips",element:a.jsx(jo,{})}),a.jsx(Ee,{path:"/analytics",element:a.jsx(es,{})})]})})}const Ai=new ns({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});yt.createRoot(document.getElementById("root")).render(a.jsx(fn.StrictMode,{children:a.jsx(ss,{client:Ai,children:a.jsx(Gs,{children:a.jsx(qs,{children:a.jsx(ls,{children:a.jsx(Fi,{})})})})})}));
//# sourceMappingURL=index--NnjnixQ.js.map
